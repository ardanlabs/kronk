var $x=Object.defineProperty;var Wx=(n,t,r)=>t in n?$x(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var Kc=(n,t,r)=>Wx(n,typeof t!="symbol"?t+"":t,r);function Qx(n,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const i=Object.getOwnPropertyDescriptor(s,l);i&&Object.defineProperty(n,l,i.get?i:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var su={exports:{}},ei={},lu={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),nf=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),sf=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),Uc=Symbol.iterator;function of(n){return n===null||typeof n!="object"?null:(n=Uc&&n[Uc]||n["@@iterator"],typeof n=="function"?n:null)}var iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ou=Object.assign,au={};function Cr(n,t,r){this.props=n,this.context=t,this.refs=au,this.updater=r||iu}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Cr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cu(){}cu.prototype=Cr.prototype;function Sa(n,t,r){this.props=n,this.context=t,this.refs=au,this.updater=r||iu}var Ca=Sa.prototype=new cu;Ca.constructor=Sa;ou(Ca,Cr.prototype);Ca.isPureReactComponent=!0;var zc=Array.isArray,du=Object.prototype.hasOwnProperty,_a={current:null},hu={key:!0,ref:!0,__self:!0,__source:!0};function uu(n,t,r){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)du.call(t,s)&&!hu.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];l.children=c}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:Ps,type:n,key:i,ref:o,props:l,_owner:_a.current}}function af(n,t){return{$$typeof:Ps,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Ta(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ps}function cf(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return t[r]})}var Vc=/\/+/g;function Ni(n,t){return typeof n=="object"&&n!==null&&n.key!=null?cf(""+n.key):t.toString(36)}function dl(n,t,r,s,l){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ps:case Yx:o=!0}}if(o)return o=n,l=l(o),n=s===""?"."+Ni(o,0):s,zc(l)?(r="",n!=null&&(r=n.replace(Vc,"$&/")+"/"),dl(l,t,r,"",function(d){return d})):l!=null&&(Ta(l)&&(l=af(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Vc,"$&/")+"/")+n)),t.push(l)),1;if(o=0,s=s===""?".":s+":",zc(n))for(var a=0;a<n.length;a++){i=n[a];var c=s+Ni(i,a);o+=dl(i,t,r,c,l)}else if(c=of(n),typeof c=="function")for(n=c.call(n),a=0;!(i=n.next()).done;)i=i.value,c=s+Ni(i,a++),o+=dl(i,t,r,c,l);else if(i==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Us(n,t,r){if(n==null)return n;var s=[],l=0;return dl(n,s,"","",function(i){return t.call(r,i,l++)}),s}function df(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Ge={current:null},hl={transition:null},hf={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:hl,ReactCurrentOwner:_a};function pu(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Us,forEach:function(n,t,r){Us(n,function(){t.apply(this,arguments)},r)},count:function(n){var t=0;return Us(n,function(){t++}),t},toArray:function(n){return Us(n,function(t){return t})||[]},only:function(n){if(!Ta(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ee.Component=Cr;ee.Fragment=Xx;ee.Profiler=Zx;ee.PureComponent=Sa;ee.StrictMode=Jx;ee.Suspense=rf;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;ee.act=pu;ee.cloneElement=function(n,t,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=ou({},n.props),l=n.key,i=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_a.current),t.key!==void 0&&(l=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in t)du.call(t,c)&&!hu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];s.children=a}return{$$typeof:Ps,type:n.type,key:l,ref:i,props:s,_owner:o}};ee.createContext=function(n){return n={$$typeof:nf,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:ef,_context:n},n.Consumer=n};ee.createElement=uu;ee.createFactory=function(n){var t=uu.bind(null,n);return t.type=n,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(n){return{$$typeof:tf,render:n}};ee.isValidElement=Ta;ee.lazy=function(n){return{$$typeof:lf,_payload:{_status:-1,_result:n},_init:df}};ee.memo=function(n,t){return{$$typeof:sf,type:n,compare:t===void 0?null:t}};ee.startTransition=function(n){var t=hl.transition;hl.transition={};try{n()}finally{hl.transition=t}};ee.unstable_act=pu;ee.useCallback=function(n,t){return Ge.current.useCallback(n,t)};ee.useContext=function(n){return Ge.current.useContext(n)};ee.useDebugValue=function(){};ee.useDeferredValue=function(n){return Ge.current.useDeferredValue(n)};ee.useEffect=function(n,t){return Ge.current.useEffect(n,t)};ee.useId=function(){return Ge.current.useId()};ee.useImperativeHandle=function(n,t,r){return Ge.current.useImperativeHandle(n,t,r)};ee.useInsertionEffect=function(n,t){return Ge.current.useInsertionEffect(n,t)};ee.useLayoutEffect=function(n,t){return Ge.current.useLayoutEffect(n,t)};ee.useMemo=function(n,t){return Ge.current.useMemo(n,t)};ee.useReducer=function(n,t,r){return Ge.current.useReducer(n,t,r)};ee.useRef=function(n){return Ge.current.useRef(n)};ee.useState=function(n){return Ge.current.useState(n)};ee.useSyncExternalStore=function(n,t,r){return Ge.current.useSyncExternalStore(n,t,r)};ee.useTransition=function(){return Ge.current.useTransition()};ee.version="18.3.1";lu.exports=ee;var _=lu.exports;const mu=Zl(_),uf=Qx({__proto__:null,default:mu},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=_,mf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),ff=Object.prototype.hasOwnProperty,gf=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jf={key:!0,ref:!0,__self:!0,__source:!0};function xu(n,t,r){var s,l={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ff.call(t,s)&&!jf.hasOwnProperty(s)&&(l[s]=t[s]);if(n&&n.defaultProps)for(s in t=n.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:mf,type:n,key:i,ref:o,props:l,_owner:gf.current}}ei.Fragment=xf;ei.jsx=xu;ei.jsxs=xu;su.exports=ei;var e=su.exports,fo={},fu={exports:{}},hn={},gu={exports:{}},ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(P,q){var k=P.length;P.push(q);e:for(;0<k;){var Q=k-1>>>1,$=P[Q];if(0<l($,q))P[Q]=q,P[k]=$,k=Q;else break e}}function r(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],k=P.pop();if(k!==q){P[0]=k;e:for(var Q=0,$=P.length,S=$>>>1;Q<S;){var re=2*(Q+1)-1,E=P[re],z=re+1,J=P[z];if(0>l(E,k))z<$&&0>l(J,E)?(P[Q]=J,P[z]=k,Q=z):(P[Q]=E,P[re]=k,Q=re);else if(z<$&&0>l(J,k))P[Q]=J,P[z]=k,Q=z;else break e}}return q}function l(P,q){var k=P.sortIndex-q.sortIndex;return k!==0?k:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],u=1,h=null,p=3,m=!1,j=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(P){for(var q=r(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=P)s(d),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(d)}}function b(P){if(y=!1,f(P),!j)if(r(c)!==null)j=!0,ie(C);else{var q=r(d);q!==null&&G(b,q.startTime-P)}}function C(P,q){j=!1,y&&(y=!1,g(T),T=-1),m=!0;var k=p;try{for(f(q),h=r(c);h!==null&&(!(h.expirationTime>q)||P&&!M());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var $=Q(h.expirationTime<=q);q=n.unstable_now(),typeof $=="function"?h.callback=$:h===r(c)&&s(c),f(q)}else s(c);h=r(c)}if(h!==null)var S=!0;else{var re=r(d);re!==null&&G(b,re.startTime-q),S=!1}return S}finally{h=null,p=k,m=!1}}var v=!1,R=null,T=-1,A=5,w=-1;function M(){return!(n.unstable_now()-w<A)}function B(){if(R!==null){var P=n.unstable_now();w=P;var q=!0;try{q=R(!0,P)}finally{q?H():(v=!1,R=null)}}else v=!1}var H;if(typeof x=="function")H=function(){x(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=B,H=function(){U.postMessage(null)}}else H=function(){N(B,0)};function ie(P){R=P,v||(v=!0,H())}function G(P,q){T=N(function(){P(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){j||m||(j=!0,ie(C))},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(P){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var k=p;p=q;try{return P()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=p;p=P;try{return q()}finally{p=k}},n.unstable_scheduleCallback=function(P,q,k){var Q=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=k+$,P={id:u++,callback:q,priorityLevel:P,startTime:k,expirationTime:$,sortIndex:-1},k>Q?(P.sortIndex=k,t(d,P),r(c)===null&&P===r(d)&&(y?(g(T),T=-1):y=!0,G(b,k-Q))):(P.sortIndex=$,t(c,P),j||m||(j=!0,ie(C))),P},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(P){var q=p;return function(){var k=p;p=q;try{return P.apply(this,arguments)}finally{p=k}}}})(ju);gu.exports=ju;var yf=gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=_,dn=yf;function L(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yu=new Set,ds={};function Ut(n,t){jr(n,t),jr(n+"Capture",t)}function jr(n,t){for(ds[n]=t,n=0;n<t.length;n++)yu.add(t[n])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Gc={};function bf(n){return go.call(Gc,n)?!0:go.call(Hc,n)?!1:vf.test(n)?Gc[n]=!0:(Hc[n]=!0,!1)}function wf(n,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Nf(n,t,r,s){if(t===null||typeof t>"u"||wf(n,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(n,t,r,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=n,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Le[n]=new $e(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Le[t]=new $e(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Le[n]=new $e(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Le[n]=new $e(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Le[n]=new $e(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Le[n]=new $e(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Le[n]=new $e(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Le[n]=new $e(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Le[n]=new $e(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function Ra(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Ea,Ra);Le[t]=new $e(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Ea,Ra);Le[t]=new $e(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Ea,Ra);Le[t]=new $e(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Le[n]=new $e(n,1,!1,n.toLowerCase(),null,!1,!1)});Le.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Le[n]=new $e(n,1,!1,n.toLowerCase(),null,!0,!0)});function Pa(n,t,r,s){var l=Le.hasOwnProperty(t)?Le[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nf(t,r,l,s)&&(r=null),s||l===null?bf(t)&&(r===null?n.removeAttribute(t):n.setAttribute(t,""+r)):l.mustUseProperty?n[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?n.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?n.setAttributeNS(s,t,r):n.setAttribute(t,r))))}var Yn=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Jt=Symbol.for("react.portal"),Zt=Symbol.for("react.fragment"),Ia=Symbol.for("react.strict_mode"),jo=Symbol.for("react.profiler"),ku=Symbol.for("react.provider"),vu=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),ko=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),bu=Symbol.for("react.offscreen"),$c=Symbol.iterator;function Dr(n){return n===null||typeof n!="object"?null:(n=$c&&n[$c]||n["@@iterator"],typeof n=="function"?n:null)}var ke=Object.assign,Si;function Wr(n){if(Si===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Si=t&&t[1]||""}return`
`+Si+n}var Ci=!1;function _i(n,t){if(!n||Ci)return"";Ci=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(n,[],t)}else{try{t.call()}catch(d){s=d}n.call(t.prototype)}else{try{throw Error()}catch(d){s=d}n()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ci=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?Wr(n):""}function Sf(n){switch(n.tag){case 5:return Wr(n.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return n=_i(n.type,!1),n;case 11:return n=_i(n.type.render,!1),n;case 1:return n=_i(n.type,!0),n;default:return""}}function vo(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Zt:return"Fragment";case Jt:return"Portal";case jo:return"Profiler";case Ia:return"StrictMode";case yo:return"Suspense";case ko:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vu:return(n.displayName||"Context")+".Consumer";case ku:return(n._context.displayName||"Context")+".Provider";case Aa:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ma:return t=n.displayName||null,t!==null?t:vo(n.type)||"Memo";case tt:t=n._payload,n=n._init;try{return vo(n(t))}catch{}}return null}function Cf(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vo(t);case 8:return t===Ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wu(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _f(n){var t=wu(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),s=""+n[t];if(!n.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,i=r.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(n,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Vs(n){n._valueTracker||(n._valueTracker=_f(n))}function Nu(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return n&&(s=wu(n)?n.checked?"true":"false":n.value),n=s,n!==r?(t.setValue(n),!0):!1}function Nl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bo(n,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function Wc(n,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=jt(t.value!=null?t.value:r),n._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Su(n,t){t=t.checked,t!=null&&Pa(n,"checked",t,!1)}function wo(n,t){Su(n,t);var r=jt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?No(n,t.type,r):t.hasOwnProperty("defaultValue")&&No(n,t.type,jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function Qc(n,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,r||t===n.value||(n.value=t),n.defaultValue=t}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function No(n,t,r){(t!=="number"||Nl(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var Qr=Array.isArray;function dr(n,t,r,s){if(n=n.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<n.length;r++)l=t.hasOwnProperty("$"+n[r].value),n[r].selected!==l&&(n[r].selected=l),l&&s&&(n[r].defaultSelected=!0)}else{for(r=""+jt(r),t=null,l=0;l<n.length;l++){if(n[l].value===r){n[l].selected=!0,s&&(n[l].defaultSelected=!0);return}t!==null||n[l].disabled||(t=n[l])}t!==null&&(t.selected=!0)}}function So(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Yc(n,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Qr(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}n._wrapperState={initialValue:jt(r)}}function Cu(n,t){var r=jt(t.value),s=jt(t.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),t.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),s!=null&&(n.defaultValue=""+s)}function Xc(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function _u(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?_u(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hs,Tu=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return n(t,r,s,l)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function hs(n,t){if(t){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=t;return}}n.textContent=t}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tf=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(n){Tf.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Jr[t]=Jr[n]})});function Eu(n,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jr.hasOwnProperty(n)&&Jr[n]?(""+t).trim():t+"px"}function Ru(n,t){n=n.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Eu(r,t[r],s);r==="float"&&(r="cssFloat"),s?n.setProperty(r,l):n[r]=l}}var Ef=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(n,t){if(t){if(Ef[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function To(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function La(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ro=null,hr=null,ur=null;function Jc(n){if(n=Ms(n)){if(typeof Ro!="function")throw Error(L(280));var t=n.stateNode;t&&(t=li(t),Ro(n.stateNode,n.type,t))}}function Pu(n){hr?ur?ur.push(n):ur=[n]:hr=n}function Iu(){if(hr){var n=hr,t=ur;if(ur=hr=null,Jc(n),t)for(n=0;n<t.length;n++)Jc(t[n])}}function Au(n,t){return n(t)}function Mu(){}var Ti=!1;function Lu(n,t,r){if(Ti)return n(t,r);Ti=!0;try{return Au(n,t,r)}finally{Ti=!1,(hr!==null||ur!==null)&&(Mu(),Iu())}}function us(n,t){var r=n.stateNode;if(r===null)return null;var s=li(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Po=!1;if(Gn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Po=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Po=!1}function Rf(n,t,r,s,l,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Zr=!1,Sl=null,Cl=!1,Io=null,Pf={onError:function(n){Zr=!0,Sl=n}};function If(n,t,r,s,l,i,o,a,c){Zr=!1,Sl=null,Rf.apply(Pf,arguments)}function Af(n,t,r,s,l,i,o,a,c){if(If.apply(this,arguments),Zr){if(Zr){var d=Sl;Zr=!1,Sl=null}else throw Error(L(198));Cl||(Cl=!0,Io=d)}}function zt(n){var t=n,r=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(r=t.return),n=t.return;while(n)}return t.tag===3?r:null}function Du(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(n){if(zt(n)!==n)throw Error(L(188))}function Mf(n){var t=n.alternate;if(!t){if(t=zt(n),t===null)throw Error(L(188));return t!==n?null:n}for(var r=n,s=t;;){var l=r.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===r)return Zc(l),n;if(i===s)return Zc(l),t;i=i.sibling}throw Error(L(188))}if(r.return!==s.return)r=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===r){o=!0,r=l,s=i;break}if(a===s){o=!0,s=l,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,s=l;break}if(a===s){o=!0,s=i,r=l;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==s)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?n:t}function Ou(n){return n=Mf(n),n!==null?Fu(n):null}function Fu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Fu(n);if(t!==null)return t;n=n.sibling}return null}var Bu=dn.unstable_scheduleCallback,ed=dn.unstable_cancelCallback,Lf=dn.unstable_shouldYield,Df=dn.unstable_requestPaint,be=dn.unstable_now,Of=dn.unstable_getCurrentPriorityLevel,Da=dn.unstable_ImmediatePriority,qu=dn.unstable_UserBlockingPriority,_l=dn.unstable_NormalPriority,Ff=dn.unstable_LowPriority,Ku=dn.unstable_IdlePriority,ni=null,Ln=null;function Bf(n){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(ni,n,void 0,(n.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Uf,qf=Math.log,Kf=Math.LN2;function Uf(n){return n>>>=0,n===0?32:31-(qf(n)/Kf|0)|0}var Gs=64,$s=4194304;function Yr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Tl(n,t){var r=n.pendingLanes;if(r===0)return 0;var s=0,l=n.suspendedLanes,i=n.pingedLanes,o=r&268435455;if(o!==0){var a=o&~l;a!==0?s=Yr(a):(i&=o,i!==0&&(s=Yr(i)))}else o=r&~l,o!==0?s=Yr(o):i!==0&&(s=Yr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=s;0<t;)r=31-Sn(t),l=1<<r,s|=n[r],t&=~l;return s}function zf(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(n,t){for(var r=n.suspendedLanes,s=n.pingedLanes,l=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Sn(i),a=1<<o,c=l[o];c===-1?(!(a&r)||a&s)&&(l[o]=zf(a,t)):c<=t&&(n.expiredLanes|=a),i&=~a}}function Ao(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Uu(){var n=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),n}function Ei(n){for(var t=[],r=0;31>r;r++)t.push(n);return t}function Is(n,t,r){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Sn(t),n[t]=r}function Hf(n,t){var r=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<r;){var l=31-Sn(r),i=1<<l;t[l]=0,s[l]=-1,n[l]=-1,r&=~i}}function Oa(n,t){var r=n.entangledLanes|=t;for(n=n.entanglements;r;){var s=31-Sn(r),l=1<<s;l&t|n[s]&t&&(n[s]|=t),r&=~l}}var oe=0;function zu(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Vu,Fa,Hu,Gu,$u,Mo=!1,Ws=[],ct=null,dt=null,ht=null,ps=new Map,ms=new Map,st=[],Gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(n,t){switch(n){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":dt=null;break;case"mouseover":case"mouseout":ht=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Fr(n,t,r,s,l,i){return n===null||n.nativeEvent!==i?(n={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Ms(t),t!==null&&Fa(t)),n):(n.eventSystemFlags|=s,t=n.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),n)}function $f(n,t,r,s,l){switch(t){case"focusin":return ct=Fr(ct,n,t,r,s,l),!0;case"dragenter":return dt=Fr(dt,n,t,r,s,l),!0;case"mouseover":return ht=Fr(ht,n,t,r,s,l),!0;case"pointerover":var i=l.pointerId;return ps.set(i,Fr(ps.get(i)||null,n,t,r,s,l)),!0;case"gotpointercapture":return i=l.pointerId,ms.set(i,Fr(ms.get(i)||null,n,t,r,s,l)),!0}return!1}function Wu(n){var t=Rt(n.target);if(t!==null){var r=zt(t);if(r!==null){if(t=r.tag,t===13){if(t=Du(r),t!==null){n.blockedOn=t,$u(n.priority,function(){Hu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ul(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var r=Lo(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var s=new r.constructor(r.type,r);Eo=s,r.target.dispatchEvent(s),Eo=null}else return t=Ms(r),t!==null&&Fa(t),n.blockedOn=r,!1;t.shift()}return!0}function td(n,t,r){ul(n)&&r.delete(t)}function Wf(){Mo=!1,ct!==null&&ul(ct)&&(ct=null),dt!==null&&ul(dt)&&(dt=null),ht!==null&&ul(ht)&&(ht=null),ps.forEach(td),ms.forEach(td)}function Br(n,t){n.blockedOn===t&&(n.blockedOn=null,Mo||(Mo=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,Wf)))}function xs(n){function t(l){return Br(l,n)}if(0<Ws.length){Br(Ws[0],n);for(var r=1;r<Ws.length;r++){var s=Ws[r];s.blockedOn===n&&(s.blockedOn=null)}}for(ct!==null&&Br(ct,n),dt!==null&&Br(dt,n),ht!==null&&Br(ht,n),ps.forEach(t),ms.forEach(t),r=0;r<st.length;r++)s=st[r],s.blockedOn===n&&(s.blockedOn=null);for(;0<st.length&&(r=st[0],r.blockedOn===null);)Wu(r),r.blockedOn===null&&st.shift()}var pr=Yn.ReactCurrentBatchConfig,El=!0;function Qf(n,t,r,s){var l=oe,i=pr.transition;pr.transition=null;try{oe=1,Ba(n,t,r,s)}finally{oe=l,pr.transition=i}}function Yf(n,t,r,s){var l=oe,i=pr.transition;pr.transition=null;try{oe=4,Ba(n,t,r,s)}finally{oe=l,pr.transition=i}}function Ba(n,t,r,s){if(El){var l=Lo(n,t,r,s);if(l===null)Bi(n,t,s,Rl,r),nd(n,s);else if($f(l,n,t,r,s))s.stopPropagation();else if(nd(n,s),t&4&&-1<Gf.indexOf(n)){for(;l!==null;){var i=Ms(l);if(i!==null&&Vu(i),i=Lo(n,t,r,s),i===null&&Bi(n,t,s,Rl,r),i===l)break;l=i}l!==null&&s.stopPropagation()}else Bi(n,t,s,null,r)}}var Rl=null;function Lo(n,t,r,s){if(Rl=null,n=La(s),n=Rt(n),n!==null)if(t=zt(n),t===null)n=null;else if(r=t.tag,r===13){if(n=Du(t),n!==null)return n;n=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Rl=n,null}function Qu(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case Da:return 1;case qu:return 4;case _l:case Ff:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var it=null,qa=null,pl=null;function Yu(){if(pl)return pl;var n,t=qa,r=t.length,s,l="value"in it?it.value:it.textContent,i=l.length;for(n=0;n<r&&t[n]===l[n];n++);var o=r-n;for(s=1;s<=o&&t[r-s]===l[i-s];s++);return pl=l.slice(n,1<s?1-s:void 0)}function ml(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Qs(){return!0}function rd(){return!1}function un(n){function t(r,s,l,i,o){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(r=n[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:rd,this.isPropagationStopped=rd,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=un(_r),As=ke({},_r,{view:0,detail:0}),Xf=un(As),Ri,Pi,qr,ti=ke({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Ri=n.screenX-qr.screenX,Pi=n.screenY-qr.screenY):Pi=Ri=0,qr=n),Ri)},movementY:function(n){return"movementY"in n?n.movementY:Pi}}),sd=un(ti),Jf=ke({},ti,{dataTransfer:0}),Zf=un(Jf),eg=ke({},As,{relatedTarget:0}),Ii=un(eg),ng=ke({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=un(ng),rg=ke({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sg=un(rg),lg=ke({},_r,{data:0}),ld=un(lg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=ag[n])?!!t[n]:!1}function Ua(){return cg}var dg=ke({},As,{key:function(n){if(n.key){var t=ig[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=ml(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?og[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(n){return n.type==="keypress"?ml(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ml(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hg=un(dg),ug=ke({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=un(ug),pg=ke({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),mg=un(pg),xg=ke({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),fg=un(xg),gg=ke({},ti,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=un(gg),yg=[9,13,27,32],za=Gn&&"CompositionEvent"in window,es=null;Gn&&"documentMode"in document&&(es=document.documentMode);var kg=Gn&&"TextEvent"in window&&!es,Xu=Gn&&(!za||es&&8<es&&11>=es),od=" ",ad=!1;function Ju(n,t){switch(n){case"keyup":return yg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var er=!1;function vg(n,t){switch(n){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(ad=!0,od);case"textInput":return n=t.data,n===od&&ad?null:n;default:return null}}function bg(n,t){if(er)return n==="compositionend"||!za&&Ju(n,t)?(n=Yu(),pl=qa=it=null,er=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xu&&t.locale!=="ko"?null:t.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!wg[n.type]:t==="textarea"}function ep(n,t,r,s){Pu(s),t=Pl(t,"onChange"),0<t.length&&(r=new Ka("onChange","change",null,r,s),n.push({event:r,listeners:t}))}var ns=null,fs=null;function Ng(n){hp(n,0)}function ri(n){var t=rr(n);if(Nu(t))return n}function Sg(n,t){if(n==="change")return t}var np=!1;if(Gn){var Ai;if(Gn){var Mi="oninput"in document;if(!Mi){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),Mi=typeof dd.oninput=="function"}Ai=Mi}else Ai=!1;np=Ai&&(!document.documentMode||9<document.documentMode)}function hd(){ns&&(ns.detachEvent("onpropertychange",tp),fs=ns=null)}function tp(n){if(n.propertyName==="value"&&ri(fs)){var t=[];ep(t,fs,n,La(n)),Lu(Ng,t)}}function Cg(n,t,r){n==="focusin"?(hd(),ns=t,fs=r,ns.attachEvent("onpropertychange",tp)):n==="focusout"&&hd()}function _g(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ri(fs)}function Tg(n,t){if(n==="click")return ri(t)}function Eg(n,t){if(n==="input"||n==="change")return ri(t)}function Rg(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Tn=typeof Object.is=="function"?Object.is:Rg;function gs(n,t){if(Tn(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var r=Object.keys(n),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!go.call(t,l)||!Tn(n[l],t[l]))return!1}return!0}function ud(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pd(n,t){var r=ud(n);n=0;for(var s;r;){if(r.nodeType===3){if(s=n+r.textContent.length,n<=t&&s>=t)return{node:r,offset:t-n};n=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ud(r)}}function rp(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?rp(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function sp(){for(var n=window,t=Nl();t instanceof n.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)n=t.contentWindow;else break;t=Nl(n.document)}return t}function Va(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Pg(n){var t=sp(),r=n.focusedElem,s=n.selectionRange;if(t!==r&&r&&r.ownerDocument&&rp(r.ownerDocument.documentElement,r)){if(s!==null&&Va(r)){if(t=s.start,n=s.end,n===void 0&&(n=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(n,r.value.length);else if(n=(t=r.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var l=r.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!n.extend&&i>s&&(l=s,s=i,i=l),l=pd(r,i);var o=pd(r,s);l&&o&&(n.rangeCount!==1||n.anchorNode!==l.node||n.anchorOffset!==l.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),n.removeAllRanges(),i>s?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=r;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)n=t[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ig=Gn&&"documentMode"in document&&11>=document.documentMode,nr=null,Do=null,ts=null,Oo=!1;function md(n,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oo||nr==null||nr!==Nl(s)||(s=nr,"selectionStart"in s&&Va(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ts&&gs(ts,s)||(ts=s,s=Pl(Do,"onSelect"),0<s.length&&(t=new Ka("onSelect","select",null,t,r),n.push({event:t,listeners:s}),t.target=nr)))}function Ys(n,t){var r={};return r[n.toLowerCase()]=t.toLowerCase(),r["Webkit"+n]="webkit"+t,r["Moz"+n]="moz"+t,r}var tr={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Li={},lp={};Gn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function si(n){if(Li[n])return Li[n];if(!tr[n])return n;var t=tr[n],r;for(r in t)if(t.hasOwnProperty(r)&&r in lp)return Li[n]=t[r];return n}var ip=si("animationend"),op=si("animationiteration"),ap=si("animationstart"),cp=si("transitionend"),dp=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kt(n,t){dp.set(n,t),Ut(t,[n])}for(var Di=0;Di<xd.length;Di++){var Oi=xd[Di],Ag=Oi.toLowerCase(),Mg=Oi[0].toUpperCase()+Oi.slice(1);kt(Ag,"on"+Mg)}kt(ip,"onAnimationEnd");kt(op,"onAnimationIteration");kt(ap,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(cp,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function fd(n,t,r){var s=n.type||"unknown-event";n.currentTarget=r,Af(s,t,void 0,n),n.currentTarget=null}function hp(n,t){t=(t&4)!==0;for(var r=0;r<n.length;r++){var s=n[r],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;fd(l,a,d),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;fd(l,a,d),i=c}}}if(Cl)throw n=Io,Cl=!1,Io=null,n}function me(n,t){var r=t[Uo];r===void 0&&(r=t[Uo]=new Set);var s=n+"__bubble";r.has(s)||(up(t,n,2,!1),r.add(s))}function Fi(n,t,r){var s=0;t&&(s|=4),up(r,n,s,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function js(n){if(!n[Xs]){n[Xs]=!0,yu.forEach(function(r){r!=="selectionchange"&&(Lg.has(r)||Fi(r,!1,n),Fi(r,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Fi("selectionchange",!1,t))}}function up(n,t,r,s){switch(Qu(t)){case 1:var l=Qf;break;case 4:l=Yf;break;default:l=Ba}r=l.bind(null,t,r,n),l=void 0,!Po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?n.addEventListener(t,r,{capture:!0,passive:l}):n.addEventListener(t,r,!0):l!==void 0?n.addEventListener(t,r,{passive:l}):n.addEventListener(t,r,!1)}function Bi(n,t,r,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=Rt(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Lu(function(){var d=i,u=La(r),h=[];e:{var p=dp.get(n);if(p!==void 0){var m=Ka,j=n;switch(n){case"keypress":if(ml(r)===0)break e;case"keydown":case"keyup":m=hg;break;case"focusin":j="focus",m=Ii;break;case"focusout":j="blur",m=Ii;break;case"beforeblur":case"afterblur":m=Ii;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mg;break;case ip:case op:case ap:m=tg;break;case cp:m=fg;break;case"scroll":m=Xf;break;case"wheel":m=jg;break;case"copy":case"cut":case"paste":m=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=id}var y=(t&4)!==0,N=!y&&n==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var x=d,f;x!==null;){f=x;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,g!==null&&(b=us(x,g),b!=null&&y.push(ys(x,b,f)))),N)break;x=x.return}0<y.length&&(p=new m(p,j,null,r,u),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&r!==Eo&&(j=r.relatedTarget||r.fromElement)&&(Rt(j)||j[$n]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(j=r.relatedTarget||r.toElement,m=d,j=j?Rt(j):null,j!==null&&(N=zt(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(m=null,j=d),m!==j)){if(y=sd,b="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=id,b="onPointerLeave",g="onPointerEnter",x="pointer"),N=m==null?p:rr(m),f=j==null?p:rr(j),p=new y(b,x+"leave",m,r,u),p.target=N,p.relatedTarget=f,b=null,Rt(u)===d&&(y=new y(g,x+"enter",j,r,u),y.target=f,y.relatedTarget=N,b=y),N=b,m&&j)n:{for(y=m,g=j,x=0,f=y;f;f=Qt(f))x++;for(f=0,b=g;b;b=Qt(b))f++;for(;0<x-f;)y=Qt(y),x--;for(;0<f-x;)g=Qt(g),f--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break n;y=Qt(y),g=Qt(g)}y=null}else y=null;m!==null&&gd(h,p,m,y,!1),j!==null&&N!==null&&gd(h,N,j,y,!0)}}e:{if(p=d?rr(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=Sg;else if(cd(p))if(np)C=Eg;else{C=_g;var v=Cg}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Tg);if(C&&(C=C(n,d))){ep(h,C,r,u);break e}v&&v(n,p,d),n==="focusout"&&(v=p._wrapperState)&&v.controlled&&p.type==="number"&&No(p,"number",p.value)}switch(v=d?rr(d):window,n){case"focusin":(cd(v)||v.contentEditable==="true")&&(nr=v,Do=d,ts=null);break;case"focusout":ts=Do=nr=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,md(h,r,u);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":md(h,r,u)}var R;if(za)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else er?Ju(n,r)&&(T="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Xu&&r.locale!=="ko"&&(er||T!=="onCompositionStart"?T==="onCompositionEnd"&&er&&(R=Yu()):(it=u,qa="value"in it?it.value:it.textContent,er=!0)),v=Pl(d,T),0<v.length&&(T=new ld(T,n,null,r,u),h.push({event:T,listeners:v}),R?T.data=R:(R=Zu(r),R!==null&&(T.data=R)))),(R=kg?vg(n,r):bg(n,r))&&(d=Pl(d,"onBeforeInput"),0<d.length&&(u=new ld("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=R))}hp(h,t)})}function ys(n,t,r){return{instance:n,listener:t,currentTarget:r}}function Pl(n,t){for(var r=t+"Capture",s=[];n!==null;){var l=n,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=us(n,r),i!=null&&s.unshift(ys(n,i,l)),i=us(n,t),i!=null&&s.push(ys(n,i,l))),n=n.return}return s}function Qt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gd(n,t,r,s,l){for(var i=t._reactName,o=[];r!==null&&r!==s;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&d!==null&&(a=d,l?(c=us(r,i),c!=null&&o.unshift(ys(r,c,a))):l||(c=us(r,i),c!=null&&o.push(ys(r,c,a)))),r=r.return}o.length!==0&&n.push({event:t,listeners:o})}var Dg=/\r\n?/g,Og=/\u0000|\uFFFD/g;function jd(n){return(typeof n=="string"?n:""+n).replace(Dg,`
`).replace(Og,"")}function Js(n,t,r){if(t=jd(t),jd(n)!==t&&r)throw Error(L(425))}function Il(){}var Fo=null,Bo=null;function qo(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(n){return yd.resolve(null).then(n).catch(qg)}:Ko;function qg(n){setTimeout(function(){throw n})}function qi(n,t){var r=t,s=0;do{var l=r.nextSibling;if(n.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){n.removeChild(l),xs(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);xs(t)}function ut(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function kd(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return n;t--}else r==="/$"&&t++}n=n.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Tr,ks="__reactProps$"+Tr,$n="__reactContainer$"+Tr,Uo="__reactEvents$"+Tr,Kg="__reactListeners$"+Tr,Ug="__reactHandles$"+Tr;function Rt(n){var t=n[Mn];if(t)return t;for(var r=n.parentNode;r;){if(t=r[$n]||r[Mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(n=kd(n);n!==null;){if(r=n[Mn])return r;n=kd(n)}return t}n=r,r=n.parentNode}return null}function Ms(n){return n=n[Mn]||n[$n],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function rr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(L(33))}function li(n){return n[ks]||null}var zo=[],sr=-1;function vt(n){return{current:n}}function xe(n){0>sr||(n.current=zo[sr],zo[sr]=null,sr--)}function he(n,t){sr++,zo[sr]=n.current,n.current=t}var yt={},qe=vt(yt),Ze=vt(!1),Dt=yt;function yr(n,t){var r=n.type.contextTypes;if(!r)return yt;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in r)l[i]=t[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=l),l}function en(n){return n=n.childContextTypes,n!=null}function Al(){xe(Ze),xe(qe)}function vd(n,t,r){if(qe.current!==yt)throw Error(L(168));he(qe,t),he(Ze,r)}function pp(n,t,r){var s=n.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(L(108,Cf(n)||"Unknown",l));return ke({},r,s)}function Ml(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||yt,Dt=qe.current,he(qe,n),he(Ze,Ze.current),!0}function bd(n,t,r){var s=n.stateNode;if(!s)throw Error(L(169));r?(n=pp(n,t,Dt),s.__reactInternalMemoizedMergedChildContext=n,xe(Ze),xe(qe),he(qe,n)):xe(Ze),he(Ze,r)}var Un=null,ii=!1,Ki=!1;function mp(n){Un===null?Un=[n]:Un.push(n)}function zg(n){ii=!0,mp(n)}function bt(){if(!Ki&&Un!==null){Ki=!0;var n=0,t=oe;try{var r=Un;for(oe=1;n<r.length;n++){var s=r[n];do s=s(!0);while(s!==null)}Un=null,ii=!1}catch(l){throw Un!==null&&(Un=Un.slice(n+1)),Bu(Da,bt),l}finally{oe=t,Ki=!1}}return null}var lr=[],ir=0,Ll=null,Dl=0,pn=[],mn=0,Ot=null,zn=1,Vn="";function _t(n,t){lr[ir++]=Dl,lr[ir++]=Ll,Ll=n,Dl=t}function xp(n,t,r){pn[mn++]=zn,pn[mn++]=Vn,pn[mn++]=Ot,Ot=n;var s=zn;n=Vn;var l=32-Sn(s)-1;s&=~(1<<l),r+=1;var i=32-Sn(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,zn=1<<32-Sn(t)+l|r<<l|s,Vn=i+n}else zn=1<<i|r<<l|s,Vn=n}function Ha(n){n.return!==null&&(_t(n,1),xp(n,1,0))}function Ga(n){for(;n===Ll;)Ll=lr[--ir],lr[ir]=null,Dl=lr[--ir],lr[ir]=null;for(;n===Ot;)Ot=pn[--mn],pn[mn]=null,Vn=pn[--mn],pn[mn]=null,zn=pn[--mn],pn[mn]=null}var an=null,on=null,fe=!1,Nn=null;function fp(n,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=n,t=n.deletions,t===null?(n.deletions=[r],n.flags|=16):t.push(r)}function wd(n,t){switch(n.tag){case 5:var r=n.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,an=n,on=ut(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,an=n,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ot!==null?{id:zn,overflow:Vn}:null,n.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=n,n.child=r,an=n,on=null,!0):!1;default:return!1}}function Vo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ho(n){if(fe){var t=on;if(t){var r=t;if(!wd(n,t)){if(Vo(n))throw Error(L(418));t=ut(r.nextSibling);var s=an;t&&wd(n,t)?fp(s,r):(n.flags=n.flags&-4097|2,fe=!1,an=n)}}else{if(Vo(n))throw Error(L(418));n.flags=n.flags&-4097|2,fe=!1,an=n}}}function Nd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Zs(n){if(n!==an)return!1;if(!fe)return Nd(n),fe=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!qo(n.type,n.memoizedProps)),t&&(t=on)){if(Vo(n))throw gp(),Error(L(418));for(;t;)fp(n,t),t=ut(t.nextSibling)}if(Nd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(L(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(t===0){on=ut(n.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}n=n.nextSibling}on=null}}else on=an?ut(n.stateNode.nextSibling):null;return!0}function gp(){for(var n=on;n;)n=ut(n.nextSibling)}function kr(){on=an=null,fe=!1}function $a(n){Nn===null?Nn=[n]:Nn.push(n)}var Vg=Yn.ReactCurrentBatchConfig;function Kr(n,t,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var s=r.stateNode}if(!s)throw Error(L(147,n));var l=s,i=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof n!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,n))}return n}function el(n,t){throw n=Object.prototype.toString.call(t),Error(L(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Sd(n){var t=n._init;return t(n._payload)}function jp(n){function t(g,x){if(n){var f=g.deletions;f===null?(g.deletions=[x],g.flags|=16):f.push(x)}}function r(g,x){if(!n)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function l(g,x){return g=ft(g,x),g.index=0,g.sibling=null,g}function i(g,x,f){return g.index=f,n?(f=g.alternate,f!==null?(f=f.index,f<x?(g.flags|=2,x):f):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,f,b){return x===null||x.tag!==6?(x=Wi(f,g.mode,b),x.return=g,x):(x=l(x,f),x.return=g,x)}function c(g,x,f,b){var C=f.type;return C===Zt?u(g,x,f.props.children,b,f.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tt&&Sd(C)===x.type)?(b=l(x,f.props),b.ref=Kr(g,x,f),b.return=g,b):(b=vl(f.type,f.key,f.props,null,g.mode,b),b.ref=Kr(g,x,f),b.return=g,b)}function d(g,x,f,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==f.containerInfo||x.stateNode.implementation!==f.implementation?(x=Qi(f,g.mode,b),x.return=g,x):(x=l(x,f.children||[]),x.return=g,x)}function u(g,x,f,b,C){return x===null||x.tag!==7?(x=Mt(f,g.mode,b,C),x.return=g,x):(x=l(x,f),x.return=g,x)}function h(g,x,f){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wi(""+x,g.mode,f),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zs:return f=vl(x.type,x.key,x.props,null,g.mode,f),f.ref=Kr(g,null,x),f.return=g,f;case Jt:return x=Qi(x,g.mode,f),x.return=g,x;case tt:var b=x._init;return h(g,b(x._payload),f)}if(Qr(x)||Dr(x))return x=Mt(x,g.mode,f,null),x.return=g,x;el(g,x)}return null}function p(g,x,f,b){var C=x!==null?x.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:a(g,x,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zs:return f.key===C?c(g,x,f,b):null;case Jt:return f.key===C?d(g,x,f,b):null;case tt:return C=f._init,p(g,x,C(f._payload),b)}if(Qr(f)||Dr(f))return C!==null?null:u(g,x,f,b,null);el(g,f)}return null}function m(g,x,f,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(f)||null,a(x,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zs:return g=g.get(b.key===null?f:b.key)||null,c(x,g,b,C);case Jt:return g=g.get(b.key===null?f:b.key)||null,d(x,g,b,C);case tt:var v=b._init;return m(g,x,f,v(b._payload),C)}if(Qr(b)||Dr(b))return g=g.get(f)||null,u(x,g,b,C,null);el(x,b)}return null}function j(g,x,f,b){for(var C=null,v=null,R=x,T=x=0,A=null;R!==null&&T<f.length;T++){R.index>T?(A=R,R=null):A=R.sibling;var w=p(g,R,f[T],b);if(w===null){R===null&&(R=A);break}n&&R&&w.alternate===null&&t(g,R),x=i(w,x,T),v===null?C=w:v.sibling=w,v=w,R=A}if(T===f.length)return r(g,R),fe&&_t(g,T),C;if(R===null){for(;T<f.length;T++)R=h(g,f[T],b),R!==null&&(x=i(R,x,T),v===null?C=R:v.sibling=R,v=R);return fe&&_t(g,T),C}for(R=s(g,R);T<f.length;T++)A=m(R,g,T,f[T],b),A!==null&&(n&&A.alternate!==null&&R.delete(A.key===null?T:A.key),x=i(A,x,T),v===null?C=A:v.sibling=A,v=A);return n&&R.forEach(function(M){return t(g,M)}),fe&&_t(g,T),C}function y(g,x,f,b){var C=Dr(f);if(typeof C!="function")throw Error(L(150));if(f=C.call(f),f==null)throw Error(L(151));for(var v=C=null,R=x,T=x=0,A=null,w=f.next();R!==null&&!w.done;T++,w=f.next()){R.index>T?(A=R,R=null):A=R.sibling;var M=p(g,R,w.value,b);if(M===null){R===null&&(R=A);break}n&&R&&M.alternate===null&&t(g,R),x=i(M,x,T),v===null?C=M:v.sibling=M,v=M,R=A}if(w.done)return r(g,R),fe&&_t(g,T),C;if(R===null){for(;!w.done;T++,w=f.next())w=h(g,w.value,b),w!==null&&(x=i(w,x,T),v===null?C=w:v.sibling=w,v=w);return fe&&_t(g,T),C}for(R=s(g,R);!w.done;T++,w=f.next())w=m(R,g,T,w.value,b),w!==null&&(n&&w.alternate!==null&&R.delete(w.key===null?T:w.key),x=i(w,x,T),v===null?C=w:v.sibling=w,v=w);return n&&R.forEach(function(B){return t(g,B)}),fe&&_t(g,T),C}function N(g,x,f,b){if(typeof f=="object"&&f!==null&&f.type===Zt&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case zs:e:{for(var C=f.key,v=x;v!==null;){if(v.key===C){if(C=f.type,C===Zt){if(v.tag===7){r(g,v.sibling),x=l(v,f.props.children),x.return=g,g=x;break e}}else if(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tt&&Sd(C)===v.type){r(g,v.sibling),x=l(v,f.props),x.ref=Kr(g,v,f),x.return=g,g=x;break e}r(g,v);break}else t(g,v);v=v.sibling}f.type===Zt?(x=Mt(f.props.children,g.mode,b,f.key),x.return=g,g=x):(b=vl(f.type,f.key,f.props,null,g.mode,b),b.ref=Kr(g,x,f),b.return=g,g=b)}return o(g);case Jt:e:{for(v=f.key;x!==null;){if(x.key===v)if(x.tag===4&&x.stateNode.containerInfo===f.containerInfo&&x.stateNode.implementation===f.implementation){r(g,x.sibling),x=l(x,f.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Qi(f,g.mode,b),x.return=g,g=x}return o(g);case tt:return v=f._init,N(g,x,v(f._payload),b)}if(Qr(f))return j(g,x,f,b);if(Dr(f))return y(g,x,f,b);el(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,x!==null&&x.tag===6?(r(g,x.sibling),x=l(x,f),x.return=g,g=x):(r(g,x),x=Wi(f,g.mode,b),x.return=g,g=x),o(g)):r(g,x)}return N}var vr=jp(!0),yp=jp(!1),Ol=vt(null),Fl=null,or=null,Wa=null;function Qa(){Wa=or=Fl=null}function Ya(n){var t=Ol.current;xe(Ol),n._currentValue=t}function Go(n,t,r){for(;n!==null;){var s=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),n===r)break;n=n.return}}function mr(n,t){Fl=n,Wa=or=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Je=!0),n.firstContext=null)}function jn(n){var t=n._currentValue;if(Wa!==n)if(n={context:n,memoizedValue:t,next:null},or===null){if(Fl===null)throw Error(L(308));or=n,Fl.dependencies={lanes:0,firstContext:n}}else or=or.next=n;return t}var Pt=null;function Xa(n){Pt===null?Pt=[n]:Pt.push(n)}function kp(n,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Xa(t)):(r.next=l.next,l.next=r),t.interleaved=r,Wn(n,s)}function Wn(n,t){n.lanes|=t;var r=n.alternate;for(r!==null&&(r.lanes|=t),r=n,n=n.return;n!==null;)n.childLanes|=t,r=n.alternate,r!==null&&(r.childLanes|=t),r=n,n=n.return;return r.tag===3?r.stateNode:null}var rt=!1;function Ja(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vp(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hn(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function pt(n,t,r){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,se&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Wn(n,r)}return l=s.interleaved,l===null?(t.next=t,Xa(s)):(t.next=l.next,l.next=t),s.interleaved=t,Wn(n,r)}function xl(n,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=n.pendingLanes,r|=s,t.lanes=r,Oa(n,r)}}function Cd(n,t){var r=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?l=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?l=i=t:i=i.next=t}else l=i=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=t:n.next=t,r.lastBaseUpdate=t}function Bl(n,t,r,s){var l=n.updateQueue;rt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=d:a.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=l.baseState;o=0,u=d=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=n,y=a;switch(p=t,m=r,y.tag){case 1:if(j=y.payload,typeof j=="function"){h=j.call(m,h,p);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,p=typeof j=="function"?j.call(m,h,p):j,p==null)break e;h=ke({},h,p);break e;case 2:rt=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(u===null&&(c=h),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=u,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Bt|=o,n.lanes=o,n.memoizedState=h}}function _d(n,t,r){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var s=n[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(L(191,l));l.call(s)}}}var Ls={},Dn=vt(Ls),vs=vt(Ls),bs=vt(Ls);function It(n){if(n===Ls)throw Error(L(174));return n}function Za(n,t){switch(he(bs,t),he(vs,n),he(Dn,Ls),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Co(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Co(t,n)}xe(Dn),he(Dn,t)}function br(){xe(Dn),xe(vs),xe(bs)}function bp(n){It(bs.current);var t=It(Dn.current),r=Co(t,n.type);t!==r&&(he(vs,n),he(Dn,r))}function ec(n){vs.current===n&&(xe(Dn),xe(vs))}var je=vt(0);function ql(n){for(var t=n;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function nc(){for(var n=0;n<Ui.length;n++)Ui[n]._workInProgressVersionPrimary=null;Ui.length=0}var fl=Yn.ReactCurrentDispatcher,zi=Yn.ReactCurrentBatchConfig,Ft=0,ye=null,_e=null,Re=null,Kl=!1,rs=!1,ws=0,Hg=0;function De(){throw Error(L(321))}function tc(n,t){if(t===null)return!1;for(var r=0;r<t.length&&r<n.length;r++)if(!Tn(n[r],t[r]))return!1;return!0}function rc(n,t,r,s,l,i){if(Ft=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=n===null||n.memoizedState===null?Qg:Yg,n=r(s,l),rs){i=0;do{if(rs=!1,ws=0,25<=i)throw Error(L(301));i+=1,Re=_e=null,t.updateQueue=null,fl.current=Xg,n=r(s,l)}while(rs)}if(fl.current=Ul,t=_e!==null&&_e.next!==null,Ft=0,Re=_e=ye=null,Kl=!1,t)throw Error(L(300));return n}function sc(){var n=ws!==0;return ws=0,n}function In(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=n:Re=Re.next=n,Re}function yn(){if(_e===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=_e.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,_e=n;else{if(n===null)throw Error(L(310));_e=n,n={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Re===null?ye.memoizedState=Re=n:Re=Re.next=n}return Re}function Ns(n,t){return typeof t=="function"?t(n):t}function Vi(n){var t=yn(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=n;var s=_e,l=s.baseQueue,i=r.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,r.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,d=i;do{var u=d.lane;if((Ft&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:n(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,ye.lanes|=u,Bt|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=a,Tn(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(n=r.interleaved,n!==null){l=n;do i=l.lane,ye.lanes|=i,Bt|=i,l=l.next;while(l!==n)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hi(n){var t=yn(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=n;var s=r.dispatch,l=r.pending,i=t.memoizedState;if(l!==null){r.pending=null;var o=l=l.next;do i=n(i,o.action),o=o.next;while(o!==l);Tn(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function wp(){}function Np(n,t){var r=ye,s=yn(),l=t(),i=!Tn(s.memoizedState,l);if(i&&(s.memoizedState=l,Je=!0),s=s.queue,lc(_p.bind(null,r,s,n),[n]),s.getSnapshot!==t||i||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Ss(9,Cp.bind(null,r,s,l,t),void 0,null),Pe===null)throw Error(L(349));Ft&30||Sp(r,t,l)}return l}function Sp(n,t,r){n.flags|=16384,n={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[n]):(r=t.stores,r===null?t.stores=[n]:r.push(n))}function Cp(n,t,r,s){t.value=r,t.getSnapshot=s,Tp(t)&&Ep(n)}function _p(n,t,r){return r(function(){Tp(t)&&Ep(n)})}function Tp(n){var t=n.getSnapshot;n=n.value;try{var r=t();return!Tn(n,r)}catch{return!0}}function Ep(n){var t=Wn(n,1);t!==null&&Cn(t,n,1,-1)}function Td(n){var t=In();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:n},t.queue=n,n=n.dispatch=Wg.bind(null,ye,n),[t.memoizedState,n]}function Ss(n,t,r,s){return n={tag:n,create:t,destroy:r,deps:s,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=n.next=n):(r=t.lastEffect,r===null?t.lastEffect=n.next=n:(s=r.next,r.next=n,n.next=s,t.lastEffect=n)),n}function Rp(){return yn().memoizedState}function gl(n,t,r,s){var l=In();ye.flags|=n,l.memoizedState=Ss(1|t,r,void 0,s===void 0?null:s)}function oi(n,t,r,s){var l=yn();s=s===void 0?null:s;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,s!==null&&tc(s,o.deps)){l.memoizedState=Ss(t,r,i,s);return}}ye.flags|=n,l.memoizedState=Ss(1|t,r,i,s)}function Ed(n,t){return gl(8390656,8,n,t)}function lc(n,t){return oi(2048,8,n,t)}function Pp(n,t){return oi(4,2,n,t)}function Ip(n,t){return oi(4,4,n,t)}function Ap(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function Mp(n,t,r){return r=r!=null?r.concat([n]):null,oi(4,4,Ap.bind(null,t,n),r)}function ic(){}function Lp(n,t){var r=yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&tc(t,s[1])?s[0]:(r.memoizedState=[n,t],n)}function Dp(n,t){var r=yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&tc(t,s[1])?s[0]:(n=n(),r.memoizedState=[n,t],n)}function Op(n,t,r){return Ft&21?(Tn(r,t)||(r=Uu(),ye.lanes|=r,Bt|=r,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Je=!0),n.memoizedState=r)}function Gg(n,t){var r=oe;oe=r!==0&&4>r?r:4,n(!0);var s=zi.transition;zi.transition={};try{n(!1),t()}finally{oe=r,zi.transition=s}}function Fp(){return yn().memoizedState}function $g(n,t,r){var s=xt(n);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Bp(n))qp(t,r);else if(r=kp(n,t,r,s),r!==null){var l=He();Cn(r,n,s,l),Kp(r,t,s)}}function Wg(n,t,r){var s=xt(n),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bp(n))qp(t,l);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(l.hasEagerState=!0,l.eagerState=a,Tn(a,o)){var c=t.interleaved;c===null?(l.next=l,Xa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=kp(n,t,l,s),r!==null&&(l=He(),Cn(r,n,s,l),Kp(r,t,s))}}function Bp(n){var t=n.alternate;return n===ye||t!==null&&t===ye}function qp(n,t){rs=Kl=!0;var r=n.pending;r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t}function Kp(n,t,r){if(r&4194240){var s=t.lanes;s&=n.pendingLanes,r|=s,t.lanes=r,Oa(n,r)}}var Ul={readContext:jn,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Qg={readContext:jn,useCallback:function(n,t){return In().memoizedState=[n,t===void 0?null:t],n},useContext:jn,useEffect:Ed,useImperativeHandle:function(n,t,r){return r=r!=null?r.concat([n]):null,gl(4194308,4,Ap.bind(null,t,n),r)},useLayoutEffect:function(n,t){return gl(4194308,4,n,t)},useInsertionEffect:function(n,t){return gl(4,2,n,t)},useMemo:function(n,t){var r=In();return t=t===void 0?null:t,n=n(),r.memoizedState=[n,t],n},useReducer:function(n,t,r){var s=In();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},s.queue=n,n=n.dispatch=$g.bind(null,ye,n),[s.memoizedState,n]},useRef:function(n){var t=In();return n={current:n},t.memoizedState=n},useState:Td,useDebugValue:ic,useDeferredValue:function(n){return In().memoizedState=n},useTransition:function(){var n=Td(!1),t=n[0];return n=Gg.bind(null,n[1]),In().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,r){var s=ye,l=In();if(fe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Pe===null)throw Error(L(349));Ft&30||Sp(s,t,r)}l.memoizedState=r;var i={value:r,getSnapshot:t};return l.queue=i,Ed(_p.bind(null,s,i,n),[n]),s.flags|=2048,Ss(9,Cp.bind(null,s,i,r,t),void 0,null),r},useId:function(){var n=In(),t=Pe.identifierPrefix;if(fe){var r=Vn,s=zn;r=(s&~(1<<32-Sn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ws++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hg++,t=":"+t+"r"+r.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},Yg={readContext:jn,useCallback:Lp,useContext:jn,useEffect:lc,useImperativeHandle:Mp,useInsertionEffect:Pp,useLayoutEffect:Ip,useMemo:Dp,useReducer:Vi,useRef:Rp,useState:function(){return Vi(Ns)},useDebugValue:ic,useDeferredValue:function(n){var t=yn();return Op(t,_e.memoizedState,n)},useTransition:function(){var n=Vi(Ns)[0],t=yn().memoizedState;return[n,t]},useMutableSource:wp,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1},Xg={readContext:jn,useCallback:Lp,useContext:jn,useEffect:lc,useImperativeHandle:Mp,useInsertionEffect:Pp,useLayoutEffect:Ip,useMemo:Dp,useReducer:Hi,useRef:Rp,useState:function(){return Hi(Ns)},useDebugValue:ic,useDeferredValue:function(n){var t=yn();return _e===null?t.memoizedState=n:Op(t,_e.memoizedState,n)},useTransition:function(){var n=Hi(Ns)[0],t=yn().memoizedState;return[n,t]},useMutableSource:wp,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1};function bn(n,t){if(n&&n.defaultProps){t=ke({},t),n=n.defaultProps;for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}return t}function $o(n,t,r,s){t=n.memoizedState,r=r(s,t),r=r==null?t:ke({},t,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var ai={isMounted:function(n){return(n=n._reactInternals)?zt(n)===n:!1},enqueueSetState:function(n,t,r){n=n._reactInternals;var s=He(),l=xt(n),i=Hn(s,l);i.payload=t,r!=null&&(i.callback=r),t=pt(n,i,l),t!==null&&(Cn(t,n,l,s),xl(t,n,l))},enqueueReplaceState:function(n,t,r){n=n._reactInternals;var s=He(),l=xt(n),i=Hn(s,l);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pt(n,i,l),t!==null&&(Cn(t,n,l,s),xl(t,n,l))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var r=He(),s=xt(n),l=Hn(r,s);l.tag=2,t!=null&&(l.callback=t),t=pt(n,l,s),t!==null&&(Cn(t,n,s,r),xl(t,n,s))}};function Rd(n,t,r,s,l,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!gs(r,s)||!gs(l,i):!0}function Up(n,t,r){var s=!1,l=yt,i=t.contextType;return typeof i=="object"&&i!==null?i=jn(i):(l=en(t)?Dt:qe.current,s=t.contextTypes,i=(s=s!=null)?yr(n,l):yt),t=new t(r,i),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,n.stateNode=t,t._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=l,n.__reactInternalMemoizedMaskedChildContext=i),t}function Pd(n,t,r,s){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==n&&ai.enqueueReplaceState(t,t.state,null)}function Wo(n,t,r,s){var l=n.stateNode;l.props=r,l.state=n.memoizedState,l.refs={},Ja(n);var i=t.contextType;typeof i=="object"&&i!==null?l.context=jn(i):(i=en(t)?Dt:qe.current,l.context=yr(n,i)),l.state=n.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($o(n,t,i,r),l.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ai.enqueueReplaceState(l,l.state,null),Bl(n,r,l,s),l.state=n.memoizedState),typeof l.componentDidMount=="function"&&(n.flags|=4194308)}function wr(n,t){try{var r="",s=t;do r+=Sf(s),s=s.return;while(s);var l=r}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:t,stack:l,digest:null}}function Gi(n,t,r){return{value:n,source:null,stack:r??null,digest:t??null}}function Qo(n,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Jg=typeof WeakMap=="function"?WeakMap:Map;function zp(n,t,r){r=Hn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Vl||(Vl=!0,la=s),Qo(n,t)},r}function Vp(n,t,r){r=Hn(-1,r),r.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Qo(n,t)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qo(n,t),typeof s!="function"&&(mt===null?mt=new Set([this]):mt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Id(n,t,r){var s=n.pingCache;if(s===null){s=n.pingCache=new Jg;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),n=uj.bind(null,n,t,r),t.then(n,n))}function Ad(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function Md(n,t,r,s,l){return n.mode&1?(n.flags|=65536,n.lanes=l,n):(n===t?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hn(-1,1),t.tag=2,pt(r,t,1))),r.lanes|=1),n)}var Zg=Yn.ReactCurrentOwner,Je=!1;function ze(n,t,r,s){t.child=n===null?yp(t,null,r,s):vr(t,n.child,r,s)}function Ld(n,t,r,s,l){r=r.render;var i=t.ref;return mr(t,l),s=rc(n,t,r,s,i,l),r=sc(),n!==null&&!Je?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~l,Qn(n,t,l)):(fe&&r&&Ha(t),t.flags|=1,ze(n,t,s,l),t.child)}function Dd(n,t,r,s,l){if(n===null){var i=r.type;return typeof i=="function"&&!mc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Hp(n,t,i,s,l)):(n=vl(r.type,null,s,t,t.mode,l),n.ref=t.ref,n.return=t,t.child=n)}if(i=n.child,!(n.lanes&l)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gs,r(o,s)&&n.ref===t.ref)return Qn(n,t,l)}return t.flags|=1,n=ft(i,s),n.ref=t.ref,n.return=t,t.child=n}function Hp(n,t,r,s,l){if(n!==null){var i=n.memoizedProps;if(gs(i,s)&&n.ref===t.ref)if(Je=!1,t.pendingProps=s=i,(n.lanes&l)!==0)n.flags&131072&&(Je=!0);else return t.lanes=n.lanes,Qn(n,t,l)}return Yo(n,t,r,s,l)}function Gp(n,t,r){var s=t.pendingProps,l=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(cr,ln),ln|=r;else{if(!(r&1073741824))return n=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,he(cr,ln),ln|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,he(cr,ln),ln|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,he(cr,ln),ln|=s;return ze(n,t,l,r),t.child}function $p(n,t){var r=t.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yo(n,t,r,s,l){var i=en(r)?Dt:qe.current;return i=yr(t,i),mr(t,l),r=rc(n,t,r,s,i,l),s=sc(),n!==null&&!Je?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~l,Qn(n,t,l)):(fe&&s&&Ha(t),t.flags|=1,ze(n,t,r,l),t.child)}function Od(n,t,r,s,l){if(en(r)){var i=!0;Ml(t)}else i=!1;if(mr(t,l),t.stateNode===null)jl(n,t),Up(t,r,s),Wo(t,r,s,l),s=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=jn(d):(d=en(r)?Dt:qe.current,d=yr(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==d)&&Pd(t,o,s,d),rt=!1;var p=t.memoizedState;o.state=p,Bl(t,s,o,l),c=t.memoizedState,a!==s||p!==c||Ze.current||rt?(typeof u=="function"&&($o(t,r,u,s),c=t.memoizedState),(a=rt||Rd(t,r,a,s,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,vp(n,t),a=t.memoizedProps,d=t.type===t.elementType?a:bn(t.type,a),o.props=d,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=jn(c):(c=en(r)?Dt:qe.current,c=yr(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&Pd(t,o,s,c),rt=!1,p=t.memoizedState,o.state=p,Bl(t,s,o,l);var j=t.memoizedState;a!==h||p!==j||Ze.current||rt?(typeof m=="function"&&($o(t,r,m,s),j=t.memoizedState),(d=rt||Rd(t,r,d,s,p,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),s=!1)}return Xo(n,t,r,s,i,l)}function Xo(n,t,r,s,l,i){$p(n,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&bd(t,r,!1),Qn(n,t,i);s=t.stateNode,Zg.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,n!==null&&o?(t.child=vr(t,n.child,null,i),t.child=vr(t,null,a,i)):ze(n,t,a,i),t.memoizedState=s.state,l&&bd(t,r,!0),t.child}function Wp(n){var t=n.stateNode;t.pendingContext?vd(n,t.pendingContext,t.pendingContext!==t.context):t.context&&vd(n,t.context,!1),Za(n,t.containerInfo)}function Fd(n,t,r,s,l){return kr(),$a(l),t.flags|=256,ze(n,t,r,s),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Zo(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qp(n,t,r){var s=t.pendingProps,l=je.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(l|=1),he(je,l&1),n===null)return Ho(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,n=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hi(o,s,0,null),n=Mt(n,s,r,null),i.return=t,n.return=t,i.sibling=n,t.child=i,t.child.memoizedState=Zo(r),t.memoizedState=Jo,n):oc(t,o));if(l=n.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return ej(n,t,o,s,a,l,r);if(i){i=s.fallback,o=t.mode,l=n.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ft(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=ft(a,i):(i=Mt(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=n.child.memoizedState,o=o===null?Zo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~r,t.memoizedState=Jo,s}return i=n.child,n=i.sibling,s=ft(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=s,t.memoizedState=null,s}function oc(n,t){return t=hi({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function nl(n,t,r,s){return s!==null&&$a(s),vr(t,n.child,null,r),n=oc(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function ej(n,t,r,s,l,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Gi(Error(L(422))),nl(n,t,o,s)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=hi({mode:"visible",children:s.children},l,0,null),i=Mt(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&vr(t,n.child,null,o),t.child.memoizedState=Zo(o),t.memoizedState=Jo,i);if(!(t.mode&1))return nl(n,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(L(419)),s=Gi(i,s,void 0),nl(n,t,o,s)}if(a=(o&n.childLanes)!==0,Je||a){if(s=Pe,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Wn(n,l),Cn(s,n,l,-1))}return pc(),s=Gi(Error(L(421))),nl(n,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=n.child,t=pj.bind(null,n),l._reactRetry=t,null):(n=i.treeContext,on=ut(l.nextSibling),an=t,fe=!0,Nn=null,n!==null&&(pn[mn++]=zn,pn[mn++]=Vn,pn[mn++]=Ot,zn=n.id,Vn=n.overflow,Ot=t),t=oc(t,s.children),t.flags|=4096,t)}function Bd(n,t,r){n.lanes|=t;var s=n.alternate;s!==null&&(s.lanes|=t),Go(n.return,t,r)}function $i(n,t,r,s,l){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=l)}function Yp(n,t,r){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(ze(n,t,s.children,r),s=je.current,s&2)s=s&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bd(n,r,t);else if(n.tag===19)Bd(n,r,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(he(je,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)n=r.alternate,n!==null&&ql(n)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),$i(t,!1,l,r,i);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(n=l.alternate,n!==null&&ql(n)===null){t.child=l;break}n=l.sibling,l.sibling=r,r=l,l=n}$i(t,!0,r,null,i);break;case"together":$i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Qn(n,t,r){if(n!==null&&(t.dependencies=n.dependencies),Bt|=t.lanes,!(r&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(L(153));if(t.child!==null){for(n=t.child,r=ft(n,n.pendingProps),t.child=r,r.return=t;n.sibling!==null;)n=n.sibling,r=r.sibling=ft(n,n.pendingProps),r.return=t;r.sibling=null}return t.child}function nj(n,t,r){switch(t.tag){case 3:Wp(t),kr();break;case 5:bp(t);break;case 1:en(t.type)&&Ml(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;he(Ol,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(he(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?Qp(n,t,r):(he(je,je.current&1),n=Qn(n,t,r),n!==null?n.sibling:null);he(je,je.current&1);break;case 19:if(s=(r&t.childLanes)!==0,n.flags&128){if(s)return Yp(n,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(je,je.current),s)break;return null;case 22:case 23:return t.lanes=0,Gp(n,t,r)}return Qn(n,t,r)}var Xp,ea,Jp,Zp;Xp=function(n,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ea=function(){};Jp=function(n,t,r,s){var l=n.memoizedProps;if(l!==s){n=t.stateNode,It(Dn.current);var i=null;switch(r){case"input":l=bo(n,l),s=bo(n,s),i=[];break;case"select":l=ke({},l,{value:void 0}),s=ke({},s,{value:void 0}),i=[];break;case"textarea":l=So(n,l),s=So(n,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Il)}_o(r,s);var o;r=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var a=l[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ds.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(a=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ds.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&me("scroll",n),i||a===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Zp=function(n,t,r,s){r!==s&&(t.flags|=4)};function Ur(n,t){if(!fe)switch(n.tailMode){case"hidden":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Oe(n){var t=n.alternate!==null&&n.alternate.child===n.child,r=0,s=0;if(t)for(var l=n.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=s,n.childLanes=r,t}function tj(n,t,r){var s=t.pendingProps;switch(Ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return en(t.type)&&Al(),Oe(t),null;case 3:return s=t.stateNode,br(),xe(Ze),xe(qe),nc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Zs(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(aa(Nn),Nn=null))),ea(n,t),Oe(t),null;case 5:ec(t);var l=It(bs.current);if(r=t.type,n!==null&&t.stateNode!=null)Jp(n,t,r,s,l),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return Oe(t),null}if(n=It(Dn.current),Zs(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Mn]=t,s[ks]=i,n=(t.mode&1)!==0,r){case"dialog":me("cancel",s),me("close",s);break;case"iframe":case"object":case"embed":me("load",s);break;case"video":case"audio":for(l=0;l<Xr.length;l++)me(Xr[l],s);break;case"source":me("error",s);break;case"img":case"image":case"link":me("error",s),me("load",s);break;case"details":me("toggle",s);break;case"input":Wc(s,i),me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},me("invalid",s);break;case"textarea":Yc(s,i),me("invalid",s)}_o(r,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Js(s.textContent,a,n),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Js(s.textContent,a,n),l=["children",""+a]):ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",s)}switch(r){case"input":Vs(s),Qc(s,i,!0);break;case"textarea":Vs(s),Xc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Il)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_u(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(r,{is:s.is}):(n=o.createElement(r),r==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,r),n[Mn]=t,n[ks]=s,Xp(n,t,!1,!1),t.stateNode=n;e:{switch(o=To(r,s),r){case"dialog":me("cancel",n),me("close",n),l=s;break;case"iframe":case"object":case"embed":me("load",n),l=s;break;case"video":case"audio":for(l=0;l<Xr.length;l++)me(Xr[l],n);l=s;break;case"source":me("error",n),l=s;break;case"img":case"image":case"link":me("error",n),me("load",n),l=s;break;case"details":me("toggle",n),l=s;break;case"input":Wc(n,s),l=bo(n,s),me("invalid",n);break;case"option":l=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},l=ke({},s,{value:void 0}),me("invalid",n);break;case"textarea":Yc(n,s),l=So(n,s),me("invalid",n);break;default:l=s}_o(r,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ru(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tu(n,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hs(n,c):typeof c=="number"&&hs(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ds.hasOwnProperty(i)?c!=null&&i==="onScroll"&&me("scroll",n):c!=null&&Pa(n,i,c,o))}switch(r){case"input":Vs(n),Qc(n,s,!1);break;case"textarea":Vs(n),Xc(n);break;case"option":s.value!=null&&n.setAttribute("value",""+jt(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?dr(n,!!s.multiple,i,!1):s.defaultValue!=null&&dr(n,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(n.onclick=Il)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(n&&t.stateNode!=null)Zp(n,t,n.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(r=It(bs.current),It(Dn.current),Zs(t)){if(s=t.stateNode,r=t.memoizedProps,s[Mn]=t,(i=s.nodeValue!==r)&&(n=an,n!==null))switch(n.tag){case 3:Js(s.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Js(s.nodeValue,r,(n.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Mn]=t,t.stateNode=s}return Oe(t),null;case 13:if(xe(je),s=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(fe&&on!==null&&t.mode&1&&!(t.flags&128))gp(),kr(),t.flags|=98560,i=!1;else if(i=Zs(t),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Mn]=t}else kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else Nn!==null&&(aa(Nn),Nn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(n===null||je.current&1?Te===0&&(Te=3):pc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return br(),ea(n,t),n===null&&js(t.stateNode.containerInfo),Oe(t),null;case 10:return Ya(t.type._context),Oe(t),null;case 17:return en(t.type)&&Al(),Oe(t),null;case 19:if(xe(je),i=t.memoizedState,i===null)return Oe(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ur(i,!1);else{if(Te!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=ql(n),o!==null){for(t.flags|=128,Ur(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,n=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return he(je,je.current&1|2),t.child}n=n.sibling}i.tail!==null&&be()>Nr&&(t.flags|=128,s=!0,Ur(i,!1),t.lanes=4194304)}else{if(!s)if(n=ql(o),n!==null){if(t.flags|=128,s=!0,r=n.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return Oe(t),null}else 2*be()-i.renderingStartTime>Nr&&r!==1073741824&&(t.flags|=128,s=!0,Ur(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,r=je.current,he(je,s?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return uc(),s=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ln&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function rj(n,t){switch(Ga(t),t.tag){case 1:return en(t.type)&&Al(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return br(),xe(Ze),xe(qe),nc(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return ec(t),null;case 13:if(xe(je),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(L(340));kr()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return xe(je),null;case 4:return br(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var tl=!1,Fe=!1,sj=typeof WeakSet=="function"?WeakSet:Set,K=null;function ar(n,t){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ve(n,t,s)}else r.current=null}function na(n,t,r){try{r()}catch(s){ve(n,t,s)}}var qd=!1;function lj(n,t){if(Fo=El,n=sp(),Va(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,d=0,u=0,h=n,p=null;n:for(;;){for(var m;h!==r||l!==0&&h.nodeType!==3||(a=o+l),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break n;if(p===r&&++d===l&&(a=o),p===i&&++u===s&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bo={focusedElem:n,selectionRange:r},El=!1,K=t;K!==null;)if(t=K,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,K=n;else for(;K!==null;){t=K;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var y=j.memoizedProps,N=j.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:bn(t.type,y),N);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){ve(t,t.return,b)}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}return j=qd,qd=!1,j}function ss(n,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var i=l.destroy;l.destroy=void 0,i!==void 0&&na(t,r,i)}l=l.next}while(l!==s)}}function ci(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&n)===n){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ta(n){var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof t=="function"?t(n):t.current=n}}function em(n){var t=n.alternate;t!==null&&(n.alternate=null,em(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Mn],delete t[ks],delete t[Uo],delete t[Kg],delete t[Ug])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nm(n){return n.tag===5||n.tag===3||n.tag===4}function Kd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ra(n,t,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(n,r)):(t=r,t.appendChild(n)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Il));else if(s!==4&&(n=n.child,n!==null))for(ra(n,t,r),n=n.sibling;n!==null;)ra(n,t,r),n=n.sibling}function sa(n,t,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?r.insertBefore(n,t):r.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(sa(n,t,r),n=n.sibling;n!==null;)sa(n,t,r),n=n.sibling}var Ae=null,wn=!1;function Zn(n,t,r){for(r=r.child;r!==null;)tm(n,t,r),r=r.sibling}function tm(n,t,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(ni,r)}catch{}switch(r.tag){case 5:Fe||ar(r,t);case 6:var s=Ae,l=wn;Ae=null,Zn(n,t,r),Ae=s,wn=l,Ae!==null&&(wn?(n=Ae,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):Ae.removeChild(r.stateNode));break;case 18:Ae!==null&&(wn?(n=Ae,r=r.stateNode,n.nodeType===8?qi(n.parentNode,r):n.nodeType===1&&qi(n,r),xs(n)):qi(Ae,r.stateNode));break;case 4:s=Ae,l=wn,Ae=r.stateNode.containerInfo,wn=!0,Zn(n,t,r),Ae=s,wn=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&na(r,t,o),l=l.next}while(l!==s)}Zn(n,t,r);break;case 1:if(!Fe&&(ar(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(a){ve(r,t,a)}Zn(n,t,r);break;case 21:Zn(n,t,r);break;case 22:r.mode&1?(Fe=(s=Fe)||r.memoizedState!==null,Zn(n,t,r),Fe=s):Zn(n,t,r);break;default:Zn(n,t,r)}}function Ud(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new sj),t.forEach(function(s){var l=mj.bind(null,n,s);r.has(s)||(r.add(s),s.then(l,l))})}}function vn(n,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var i=n,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,wn=!1;break e;case 3:Ae=a.stateNode.containerInfo,wn=!0;break e;case 4:Ae=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(Ae===null)throw Error(L(160));tm(i,o,l),Ae=null,wn=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ve(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rm(t,n),t=t.sibling}function rm(n,t){var r=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vn(t,n),Pn(n),s&4){try{ss(3,n,n.return),ci(3,n)}catch(y){ve(n,n.return,y)}try{ss(5,n,n.return)}catch(y){ve(n,n.return,y)}}break;case 1:vn(t,n),Pn(n),s&512&&r!==null&&ar(r,r.return);break;case 5:if(vn(t,n),Pn(n),s&512&&r!==null&&ar(r,r.return),n.flags&32){var l=n.stateNode;try{hs(l,"")}catch(y){ve(n,n.return,y)}}if(s&4&&(l=n.stateNode,l!=null)){var i=n.memoizedProps,o=r!==null?r.memoizedProps:i,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Su(l,i),To(a,o);var d=To(a,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Ru(l,h):u==="dangerouslySetInnerHTML"?Tu(l,h):u==="children"?hs(l,h):Pa(l,u,h,d)}switch(a){case"input":wo(l,i);break;case"textarea":Cu(l,i);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?dr(l,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?dr(l,!!i.multiple,i.defaultValue,!0):dr(l,!!i.multiple,i.multiple?[]:"",!1))}l[ks]=i}catch(y){ve(n,n.return,y)}}break;case 6:if(vn(t,n),Pn(n),s&4){if(n.stateNode===null)throw Error(L(162));l=n.stateNode,i=n.memoizedProps;try{l.nodeValue=i}catch(y){ve(n,n.return,y)}}break;case 3:if(vn(t,n),Pn(n),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(y){ve(n,n.return,y)}break;case 4:vn(t,n),Pn(n);break;case 13:vn(t,n),Pn(n),l=n.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(dc=be())),s&4&&Ud(n);break;case 22:if(u=r!==null&&r.memoizedState!==null,n.mode&1?(Fe=(d=Fe)||u,vn(t,n),Fe=d):vn(t,n),Pn(n),s&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!u&&n.mode&1)for(K=n,u=n.child;u!==null;){for(h=K=u;K!==null;){switch(p=K,m=p.child,p.tag){case 0:case 11:case 14:case 15:ss(4,p,p.return);break;case 1:ar(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(y){ve(s,r,y)}}break;case 5:ar(p,p.return);break;case 22:if(p.memoizedState!==null){Vd(h);continue}}m!==null?(m.return=p,K=m):Vd(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{l=h.stateNode,d?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Eu("display",o))}catch(y){ve(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ve(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(t,n),Pn(n),s&4&&Ud(n);break;case 21:break;default:vn(t,n),Pn(n)}}function Pn(n){var t=n.flags;if(t&2){try{e:{for(var r=n.return;r!==null;){if(nm(r)){var s=r;break e}r=r.return}throw Error(L(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(hs(l,""),s.flags&=-33);var i=Kd(n);sa(n,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Kd(n);ra(n,a,o);break;default:throw Error(L(161))}}catch(c){ve(n,n.return,c)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function ij(n,t,r){K=n,sm(n)}function sm(n,t,r){for(var s=(n.mode&1)!==0;K!==null;){var l=K,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||tl;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Fe;a=tl;var d=Fe;if(tl=o,(Fe=c)&&!d)for(K=l;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?Hd(l):c!==null?(c.return=o,K=c):Hd(l);for(;i!==null;)K=i,sm(i),i=i.sibling;K=l,tl=a,Fe=d}zd(n)}else l.subtreeFlags&8772&&i!==null?(i.return=l,K=i):zd(n)}}function zd(n){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||ci(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Fe)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:bn(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_d(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_d(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&xs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Fe||t.flags&512&&ta(t)}catch(p){ve(t,t.return,p)}}if(t===n){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Vd(n){for(;K!==null;){var t=K;if(t===n){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Hd(n){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ci(4,t)}catch(c){ve(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){ve(t,l,c)}}var i=t.return;try{ta(t)}catch(c){ve(t,i,c)}break;case 5:var o=t.return;try{ta(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===n){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var oj=Math.ceil,zl=Yn.ReactCurrentDispatcher,ac=Yn.ReactCurrentOwner,gn=Yn.ReactCurrentBatchConfig,se=0,Pe=null,Se=null,Me=0,ln=0,cr=vt(0),Te=0,Cs=null,Bt=0,di=0,cc=0,ls=null,Xe=null,dc=0,Nr=1/0,Kn=null,Vl=!1,la=null,mt=null,rl=!1,ot=null,Hl=0,is=0,ia=null,yl=-1,kl=0;function He(){return se&6?be():yl!==-1?yl:yl=be()}function xt(n){return n.mode&1?se&2&&Me!==0?Me&-Me:Vg.transition!==null?(kl===0&&(kl=Uu()),kl):(n=oe,n!==0||(n=window.event,n=n===void 0?16:Qu(n.type)),n):1}function Cn(n,t,r,s){if(50<is)throw is=0,ia=null,Error(L(185));Is(n,r,s),(!(se&2)||n!==Pe)&&(n===Pe&&(!(se&2)&&(di|=r),Te===4&&lt(n,Me)),nn(n,s),r===1&&se===0&&!(t.mode&1)&&(Nr=be()+500,ii&&bt()))}function nn(n,t){var r=n.callbackNode;Vf(n,t);var s=Tl(n,n===Pe?Me:0);if(s===0)r!==null&&ed(r),n.callbackNode=null,n.callbackPriority=0;else if(t=s&-s,n.callbackPriority!==t){if(r!=null&&ed(r),t===1)n.tag===0?zg(Gd.bind(null,n)):mp(Gd.bind(null,n)),Bg(function(){!(se&6)&&bt()}),r=null;else{switch(zu(s)){case 1:r=Da;break;case 4:r=qu;break;case 16:r=_l;break;case 536870912:r=Ku;break;default:r=_l}r=um(r,lm.bind(null,n))}n.callbackPriority=t,n.callbackNode=r}}function lm(n,t){if(yl=-1,kl=0,se&6)throw Error(L(327));var r=n.callbackNode;if(xr()&&n.callbackNode!==r)return null;var s=Tl(n,n===Pe?Me:0);if(s===0)return null;if(s&30||s&n.expiredLanes||t)t=Gl(n,s);else{t=s;var l=se;se|=2;var i=om();(Pe!==n||Me!==t)&&(Kn=null,Nr=be()+500,At(n,t));do try{dj();break}catch(a){im(n,a)}while(!0);Qa(),zl.current=i,se=l,Se!==null?t=0:(Pe=null,Me=0,t=Te)}if(t!==0){if(t===2&&(l=Ao(n),l!==0&&(s=l,t=oa(n,l))),t===1)throw r=Cs,At(n,0),lt(n,s),nn(n,be()),r;if(t===6)lt(n,s);else{if(l=n.current.alternate,!(s&30)&&!aj(l)&&(t=Gl(n,s),t===2&&(i=Ao(n),i!==0&&(s=i,t=oa(n,i))),t===1))throw r=Cs,At(n,0),lt(n,s),nn(n,be()),r;switch(n.finishedWork=l,n.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:Tt(n,Xe,Kn);break;case 3:if(lt(n,s),(s&130023424)===s&&(t=dc+500-be(),10<t)){if(Tl(n,0)!==0)break;if(l=n.suspendedLanes,(l&s)!==s){He(),n.pingedLanes|=n.suspendedLanes&l;break}n.timeoutHandle=Ko(Tt.bind(null,n,Xe,Kn),t);break}Tt(n,Xe,Kn);break;case 4:if(lt(n,s),(s&4194240)===s)break;for(t=n.eventTimes,l=-1;0<s;){var o=31-Sn(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*oj(s/1960))-s,10<s){n.timeoutHandle=Ko(Tt.bind(null,n,Xe,Kn),s);break}Tt(n,Xe,Kn);break;case 5:Tt(n,Xe,Kn);break;default:throw Error(L(329))}}}return nn(n,be()),n.callbackNode===r?lm.bind(null,n):null}function oa(n,t){var r=ls;return n.current.memoizedState.isDehydrated&&(At(n,t).flags|=256),n=Gl(n,t),n!==2&&(t=Xe,Xe=r,t!==null&&aa(t)),n}function aa(n){Xe===null?Xe=n:Xe.push.apply(Xe,n)}function aj(n){for(var t=n;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],i=l.getSnapshot;l=l.value;try{if(!Tn(i(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lt(n,t){for(t&=~cc,t&=~di,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var r=31-Sn(t),s=1<<r;n[r]=-1,t&=~s}}function Gd(n){if(se&6)throw Error(L(327));xr();var t=Tl(n,0);if(!(t&1))return nn(n,be()),null;var r=Gl(n,t);if(n.tag!==0&&r===2){var s=Ao(n);s!==0&&(t=s,r=oa(n,s))}if(r===1)throw r=Cs,At(n,0),lt(n,t),nn(n,be()),r;if(r===6)throw Error(L(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Tt(n,Xe,Kn),nn(n,be()),null}function hc(n,t){var r=se;se|=1;try{return n(t)}finally{se=r,se===0&&(Nr=be()+500,ii&&bt())}}function qt(n){ot!==null&&ot.tag===0&&!(se&6)&&xr();var t=se;se|=1;var r=gn.transition,s=oe;try{if(gn.transition=null,oe=1,n)return n()}finally{oe=s,gn.transition=r,se=t,!(se&6)&&bt()}}function uc(){ln=cr.current,xe(cr)}function At(n,t){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,Fg(r)),Se!==null)for(r=Se.return;r!==null;){var s=r;switch(Ga(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Al();break;case 3:br(),xe(Ze),xe(qe),nc();break;case 5:ec(s);break;case 4:br();break;case 13:xe(je);break;case 19:xe(je);break;case 10:Ya(s.type._context);break;case 22:case 23:uc()}r=r.return}if(Pe=n,Se=n=ft(n.current,null),Me=ln=t,Te=0,Cs=null,cc=di=Bt=0,Xe=ls=null,Pt!==null){for(t=0;t<Pt.length;t++)if(r=Pt[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}r.pending=s}Pt=null}return n}function im(n,t){do{var r=Se;try{if(Qa(),fl.current=Ul,Kl){for(var s=ye.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Kl=!1}if(Ft=0,Re=_e=ye=null,rs=!1,ws=0,ac.current=null,r===null||r.return===null){Te=1,Cs=t,Se=null;break}e:{var i=n,o=r.return,a=r,c=t;if(t=Me,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Ad(o);if(m!==null){m.flags&=-257,Md(m,o,a,i,t),m.mode&1&&Id(i,d,t),t=m,c=d;var j=t.updateQueue;if(j===null){var y=new Set;y.add(c),t.updateQueue=y}else j.add(c);break e}else{if(!(t&1)){Id(i,d,t),pc();break e}c=Error(L(426))}}else if(fe&&a.mode&1){var N=Ad(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Md(N,o,a,i,t),$a(wr(c,a));break e}}i=c=wr(c,a),Te!==4&&(Te=2),ls===null?ls=[i]:ls.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=zp(i,c,t);Cd(i,g);break e;case 1:a=c;var x=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mt===null||!mt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Vp(i,a,t);Cd(i,b);break e}}i=i.return}while(i!==null)}cm(r)}catch(C){t=C,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function om(){var n=zl.current;return zl.current=Ul,n===null?Ul:n}function pc(){(Te===0||Te===3||Te===2)&&(Te=4),Pe===null||!(Bt&268435455)&&!(di&268435455)||lt(Pe,Me)}function Gl(n,t){var r=se;se|=2;var s=om();(Pe!==n||Me!==t)&&(Kn=null,At(n,t));do try{cj();break}catch(l){im(n,l)}while(!0);if(Qa(),se=r,zl.current=s,Se!==null)throw Error(L(261));return Pe=null,Me=0,Te}function cj(){for(;Se!==null;)am(Se)}function dj(){for(;Se!==null&&!Lf();)am(Se)}function am(n){var t=hm(n.alternate,n,ln);n.memoizedProps=n.pendingProps,t===null?cm(n):Se=t,ac.current=null}function cm(n){var t=n;do{var r=t.alternate;if(n=t.return,t.flags&32768){if(r=rj(r,t),r!==null){r.flags&=32767,Se=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Te=6,Se=null;return}}else if(r=tj(r,t,ln),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=n}while(t!==null);Te===0&&(Te=5)}function Tt(n,t,r){var s=oe,l=gn.transition;try{gn.transition=null,oe=1,hj(n,t,r,s)}finally{gn.transition=l,oe=s}return null}function hj(n,t,r,s){do xr();while(ot!==null);if(se&6)throw Error(L(327));r=n.finishedWork;var l=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(L(177));n.callbackNode=null,n.callbackPriority=0;var i=r.lanes|r.childLanes;if(Hf(n,i),n===Pe&&(Se=Pe=null,Me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rl||(rl=!0,um(_l,function(){return xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=oe;oe=1;var a=se;se|=4,ac.current=null,lj(n,r),rm(r,n),Pg(Bo),El=!!Fo,Bo=Fo=null,n.current=r,ij(r),Df(),se=a,oe=o,gn.transition=i}else n.current=r;if(rl&&(rl=!1,ot=n,Hl=l),i=n.pendingLanes,i===0&&(mt=null),Bf(r.stateNode),nn(n,be()),t!==null)for(s=n.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Vl)throw Vl=!1,n=la,la=null,n;return Hl&1&&n.tag!==0&&xr(),i=n.pendingLanes,i&1?n===ia?is++:(is=0,ia=n):is=0,bt(),null}function xr(){if(ot!==null){var n=zu(Hl),t=gn.transition,r=oe;try{if(gn.transition=null,oe=16>n?16:n,ot===null)var s=!1;else{if(n=ot,ot=null,Hl=0,se&6)throw Error(L(331));var l=se;for(se|=4,K=n.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(K=d;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:ss(8,u,i)}var h=u.child;if(h!==null)h.return=u,K=h;else for(;K!==null;){u=K;var p=u.sibling,m=u.return;if(em(u),u===d){K=null;break}if(p!==null){p.return=m,K=p;break}K=m}}}var j=i.alternate;if(j!==null){var y=j.child;if(y!==null){j.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ss(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,K=g;break e}K=i.return}}var x=n.current;for(K=x;K!==null;){o=K;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,K=f;else e:for(o=x;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ci(9,a)}}catch(C){ve(a,a.return,C)}if(a===o){K=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,K=b;break e}K=a.return}}if(se=l,bt(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(ni,n)}catch{}s=!0}return s}finally{oe=r,gn.transition=t}}return!1}function $d(n,t,r){t=wr(r,t),t=zp(n,t,1),n=pt(n,t,1),t=He(),n!==null&&(Is(n,1,t),nn(n,t))}function ve(n,t,r){if(n.tag===3)$d(n,n,r);else for(;t!==null;){if(t.tag===3){$d(t,n,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mt===null||!mt.has(s))){n=wr(r,n),n=Vp(t,n,1),t=pt(t,n,1),n=He(),t!==null&&(Is(t,1,n),nn(t,n));break}}t=t.return}}function uj(n,t,r){var s=n.pingCache;s!==null&&s.delete(t),t=He(),n.pingedLanes|=n.suspendedLanes&r,Pe===n&&(Me&r)===r&&(Te===4||Te===3&&(Me&130023424)===Me&&500>be()-dc?At(n,0):cc|=r),nn(n,t)}function dm(n,t){t===0&&(n.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var r=He();n=Wn(n,t),n!==null&&(Is(n,t,r),nn(n,r))}function pj(n){var t=n.memoizedState,r=0;t!==null&&(r=t.retryLane),dm(n,r)}function mj(n,t){var r=0;switch(n.tag){case 13:var s=n.stateNode,l=n.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),dm(n,r)}var hm;hm=function(n,t,r){if(n!==null)if(n.memoizedProps!==t.pendingProps||Ze.current)Je=!0;else{if(!(n.lanes&r)&&!(t.flags&128))return Je=!1,nj(n,t,r);Je=!!(n.flags&131072)}else Je=!1,fe&&t.flags&1048576&&xp(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;jl(n,t),n=t.pendingProps;var l=yr(t,qe.current);mr(t,r),l=rc(null,t,s,n,l,r);var i=sc();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(s)?(i=!0,Ml(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ja(t),l.updater=ai,t.stateNode=l,l._reactInternals=t,Wo(t,s,n,r),t=Xo(null,t,s,!0,i,r)):(t.tag=0,fe&&i&&Ha(t),ze(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(jl(n,t),n=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=fj(s),n=bn(s,n),l){case 0:t=Yo(null,t,s,n,r);break e;case 1:t=Od(null,t,s,n,r);break e;case 11:t=Ld(null,t,s,n,r);break e;case 14:t=Dd(null,t,s,bn(s.type,n),r);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bn(s,l),Yo(n,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bn(s,l),Od(n,t,s,l,r);case 3:e:{if(Wp(t),n===null)throw Error(L(387));s=t.pendingProps,i=t.memoizedState,l=i.element,vp(n,t),Bl(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=wr(Error(L(423)),t),t=Fd(n,t,s,r,l);break e}else if(s!==l){l=wr(Error(L(424)),t),t=Fd(n,t,s,r,l);break e}else for(on=ut(t.stateNode.containerInfo.firstChild),an=t,fe=!0,Nn=null,r=yp(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kr(),s===l){t=Qn(n,t,r);break e}ze(n,t,s,r)}t=t.child}return t;case 5:return bp(t),n===null&&Ho(t),s=t.type,l=t.pendingProps,i=n!==null?n.memoizedProps:null,o=l.children,qo(s,l)?o=null:i!==null&&qo(s,i)&&(t.flags|=32),$p(n,t),ze(n,t,o,r),t.child;case 6:return n===null&&Ho(t),null;case 13:return Qp(n,t,r);case 4:return Za(t,t.stateNode.containerInfo),s=t.pendingProps,n===null?t.child=vr(t,null,s,r):ze(n,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bn(s,l),Ld(n,t,s,l,r);case 7:return ze(n,t,t.pendingProps,r),t.child;case 8:return ze(n,t,t.pendingProps.children,r),t.child;case 12:return ze(n,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,he(Ol,s._currentValue),s._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===l.children&&!Ze.current){t=Qn(n,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Hn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Go(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Go(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(n,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,mr(t,r),l=jn(l),s=s(l),t.flags|=1,ze(n,t,s,r),t.child;case 14:return s=t.type,l=bn(s,t.pendingProps),l=bn(s.type,l),Dd(n,t,s,l,r);case 15:return Hp(n,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bn(s,l),jl(n,t),t.tag=1,en(s)?(n=!0,Ml(t)):n=!1,mr(t,r),Up(t,s,l),Wo(t,s,l,r),Xo(null,t,s,!0,n,r);case 19:return Yp(n,t,r);case 22:return Gp(n,t,r)}throw Error(L(156,t.tag))};function um(n,t){return Bu(n,t)}function xj(n,t,r,s){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,t,r,s){return new xj(n,t,r,s)}function mc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fj(n){if(typeof n=="function")return mc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Aa)return 11;if(n===Ma)return 14}return 2}function ft(n,t){var r=n.alternate;return r===null?(r=fn(n.tag,t,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=t,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,t=n.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function vl(n,t,r,s,l,i){var o=2;if(s=n,typeof n=="function")mc(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Zt:return Mt(r.children,l,i,t);case Ia:o=8,l|=8;break;case jo:return n=fn(12,r,t,l|2),n.elementType=jo,n.lanes=i,n;case yo:return n=fn(13,r,t,l),n.elementType=yo,n.lanes=i,n;case ko:return n=fn(19,r,t,l),n.elementType=ko,n.lanes=i,n;case bu:return hi(r,l,i,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ku:o=10;break e;case vu:o=9;break e;case Aa:o=11;break e;case Ma:o=14;break e;case tt:o=16,s=null;break e}throw Error(L(130,n==null?n:typeof n,""))}return t=fn(o,r,t,l),t.elementType=n,t.type=s,t.lanes=i,t}function Mt(n,t,r,s){return n=fn(7,n,s,t),n.lanes=r,n}function hi(n,t,r,s){return n=fn(22,n,s,t),n.elementType=bu,n.lanes=r,n.stateNode={isHidden:!1},n}function Wi(n,t,r){return n=fn(6,n,null,t),n.lanes=r,n}function Qi(n,t,r){return t=fn(4,n.children!==null?n.children:[],n.key,t),t.lanes=r,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function gj(n,t,r,s,l){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function xc(n,t,r,s,l,i,o,a,c){return n=new gj(n,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fn(3,null,null,t),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(i),n}function jj(n,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jt,key:s==null?null:""+s,children:n,containerInfo:t,implementation:r}}function pm(n){if(!n)return yt;n=n._reactInternals;e:{if(zt(n)!==n||n.tag!==1)throw Error(L(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(n.tag===1){var r=n.type;if(en(r))return pp(n,r,t)}return t}function mm(n,t,r,s,l,i,o,a,c){return n=xc(r,s,!0,n,l,i,o,a,c),n.context=pm(null),r=n.current,s=He(),l=xt(r),i=Hn(s,l),i.callback=t??null,pt(r,i,l),n.current.lanes=l,Is(n,l,s),nn(n,s),n}function ui(n,t,r,s){var l=t.current,i=He(),o=xt(l);return r=pm(r),t.context===null?t.context=r:t.pendingContext=r,t=Hn(i,o),t.payload={element:n},s=s===void 0?null:s,s!==null&&(t.callback=s),n=pt(l,t,o),n!==null&&(Cn(n,l,o,i),xl(n,l,o)),o}function $l(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Wd(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<t?r:t}}function fc(n,t){Wd(n,t),(n=n.alternate)&&Wd(n,t)}function yj(){return null}var xm=typeof reportError=="function"?reportError:function(n){console.error(n)};function gc(n){this._internalRoot=n}pi.prototype.render=gc.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(L(409));ui(n,t,null,null)};pi.prototype.unmount=gc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;qt(function(){ui(null,n,null,null)}),t[$n]=null}};function pi(n){this._internalRoot=n}pi.prototype.unstable_scheduleHydration=function(n){if(n){var t=Gu();n={blockedOn:null,target:n,priority:t};for(var r=0;r<st.length&&t!==0&&t<st[r].priority;r++);st.splice(r,0,n),r===0&&Wu(n)}};function jc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function kj(n,t,r,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var d=$l(o);i.call(d)}}var o=mm(t,s,n,0,null,!1,!1,"",Qd);return n._reactRootContainer=o,n[$n]=o.current,js(n.nodeType===8?n.parentNode:n),qt(),o}for(;l=n.lastChild;)n.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var d=$l(c);a.call(d)}}var c=xc(n,0,!1,null,null,!1,!1,"",Qd);return n._reactRootContainer=c,n[$n]=c.current,js(n.nodeType===8?n.parentNode:n),qt(function(){ui(t,c,r,s)}),c}function xi(n,t,r,s,l){var i=r._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=$l(o);a.call(c)}}ui(t,o,n,l)}else o=kj(r,t,n,l,s);return $l(o)}Vu=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yr(t.pendingLanes);r!==0&&(Oa(t,r|1),nn(t,be()),!(se&6)&&(Nr=be()+500,bt()))}break;case 13:qt(function(){var s=Wn(n,1);if(s!==null){var l=He();Cn(s,n,1,l)}}),fc(n,1)}};Fa=function(n){if(n.tag===13){var t=Wn(n,134217728);if(t!==null){var r=He();Cn(t,n,134217728,r)}fc(n,134217728)}};Hu=function(n){if(n.tag===13){var t=xt(n),r=Wn(n,t);if(r!==null){var s=He();Cn(r,n,t,s)}fc(n,t)}};Gu=function(){return oe};$u=function(n,t){var r=oe;try{return oe=n,t()}finally{oe=r}};Ro=function(n,t,r){switch(t){case"input":if(wo(n,r),t=r.name,r.type==="radio"&&t!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==n&&s.form===n.form){var l=li(s);if(!l)throw Error(L(90));Nu(s),wo(s,l)}}}break;case"textarea":Cu(n,r);break;case"select":t=r.value,t!=null&&dr(n,!!r.multiple,t,!1)}};Au=hc;Mu=qt;var vj={usingClientEntryPoint:!1,Events:[Ms,rr,li,Pu,Iu,hc]},zr={findFiberByHostInstance:Rt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bj={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ou(n),n===null?null:n.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||yj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{ni=sl.inject(bj),Ln=sl}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vj;hn.createPortal=function(n,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(L(200));return jj(n,t,null,r)};hn.createRoot=function(n,t){if(!jc(n))throw Error(L(299));var r=!1,s="",l=xm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=xc(n,1,!1,null,null,r,!1,s,l),n[$n]=t.current,js(n.nodeType===8?n.parentNode:n),new gc(t)};hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(L(188)):(n=Object.keys(n).join(","),Error(L(268,n)));return n=Ou(t),n=n===null?null:n.stateNode,n};hn.flushSync=function(n){return qt(n)};hn.hydrate=function(n,t,r){if(!mi(t))throw Error(L(200));return xi(null,n,t,!0,r)};hn.hydrateRoot=function(n,t,r){if(!jc(n))throw Error(L(405));var s=r!=null&&r.hydratedSources||null,l=!1,i="",o=xm;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mm(t,null,n,1,r??null,l,!1,i,o),n[$n]=t.current,js(n),s)for(n=0;n<s.length;n++)r=s[n],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new pi(t)};hn.render=function(n,t,r){if(!mi(t))throw Error(L(200));return xi(null,n,t,!1,r)};hn.unmountComponentAtNode=function(n){if(!mi(n))throw Error(L(40));return n._reactRootContainer?(qt(function(){xi(null,null,n,!1,function(){n._reactRootContainer=null,n[$n]=null})}),!0):!1};hn.unstable_batchedUpdates=hc;hn.unstable_renderSubtreeIntoContainer=function(n,t,r,s){if(!mi(r))throw Error(L(200));if(n==null||n._reactInternals===void 0)throw Error(L(38));return xi(n,t,r,!1,s)};hn.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(n){console.error(n)}}fm(),fu.exports=hn;var wj=fu.exports,Yd=wj;fo.createRoot=Yd.createRoot,fo.hydrateRoot=Yd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},_s.apply(this,arguments)}var at;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(at||(at={}));const Xd="popstate";function Nj(n){n===void 0&&(n={});function t(s,l){let{pathname:i,search:o,hash:a}=s.location;return ca("",{pathname:i,search:o,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Wl(l)}return Cj(t,r,null,n)}function Ce(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function yc(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sj(){return Math.random().toString(36).substr(2,8)}function Jd(n,t){return{usr:n.state,key:n.key,idx:t}}function ca(n,t,r,s){return r===void 0&&(r=null),_s({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:r,key:t&&t.key||s||Sj()})}function Wl(n){let{pathname:t="/",search:r="",hash:s=""}=n;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Er(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substr(r),n=n.substr(0,r));let s=n.indexOf("?");s>=0&&(t.search=n.substr(s),n=n.substr(0,s)),n&&(t.pathname=n)}return t}function Cj(n,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:i=!1}=s,o=l.history,a=at.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(_s({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=at.Pop;let N=u(),g=N==null?null:N-d;d=N,c&&c({action:a,location:y.location,delta:g})}function p(N,g){a=at.Push;let x=ca(y.location,N,g);d=u()+1;let f=Jd(x,d),b=y.createHref(x);try{o.pushState(f,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(b)}i&&c&&c({action:a,location:y.location,delta:1})}function m(N,g){a=at.Replace;let x=ca(y.location,N,g);d=u();let f=Jd(x,d),b=y.createHref(x);o.replaceState(f,"",b),i&&c&&c({action:a,location:y.location,delta:0})}function j(N){let g=l.location.origin!=="null"?l.location.origin:l.location.href,x=typeof N=="string"?N:Wl(N);return x=x.replace(/ $/,"%20"),Ce(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let y={get action(){return a},get location(){return n(l,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Xd,h),c=N,()=>{l.removeEventListener(Xd,h),c=null}},createHref(N){return t(l,N)},createURL:j,encodeLocation(N){let g=j(N);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(N){return o.go(N)}};return y}var Zd;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Zd||(Zd={}));function _j(n,t,r){return r===void 0&&(r="/"),Tj(n,t,r)}function Tj(n,t,r,s){let l=typeof t=="string"?Er(t):t,i=kc(l.pathname||"/",r);if(i==null)return null;let o=gm(n);Ej(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Kj(i);a=Fj(o[c],d)}return a}function gm(n,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=gt([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),gm(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Dj(d,i.index),routesMeta:u})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))l(i,o);else for(let c of jm(i.path))l(i,o,c)}),t}function jm(n){let t=n.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return l?[i,""]:[i];let o=jm(s.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),l&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function Ej(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:Oj(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Rj=/^:[\w-]+$/,Pj=3,Ij=2,Aj=1,Mj=10,Lj=-2,eh=n=>n==="*";function Dj(n,t){let r=n.split("/"),s=r.length;return r.some(eh)&&(s+=Lj),t&&(s+=Ij),r.filter(l=>!eh(l)).reduce((l,i)=>l+(Rj.test(i)?Pj:i===""?Aj:Mj),s)}function Oj(n,t){return n.length===t.length&&n.slice(0,-1).every((s,l)=>s===t[l])?n[n.length-1]-t[t.length-1]:0}function Fj(n,t,r){let{routesMeta:s}=n,l={},i="/",o=[];for(let a=0;a<s.length;++a){let c=s[a],d=a===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Bj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!h)return null;Object.assign(l,h.params),o.push({params:l,pathname:gt([i,h.pathname]),pathnameBase:Gj(gt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=gt([i,h.pathnameBase]))}return o}function Bj(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=qj(n.path,n.caseSensitive,n.end),l=t.match(r);if(!l)return null;let i=l[0],o=i.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const j=a[h];return m&&!j?d[p]=void 0:d[p]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:n}}function qj(n,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(s.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Kj(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function kc(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}const Uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zj=n=>Uj.test(n);function Vj(n,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?Er(n):n,i;if(r)if(zj(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=nh(r.substring(1),"/"):i=nh(r,t)}else i=t;return{pathname:i,search:$j(s),hash:Wj(l)}}function nh(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Yi(n,t,r,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hj(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ym(n,t){let r=Hj(n);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function km(n,t,r,s){s===void 0&&(s=!1);let l;typeof n=="string"?l=Er(n):(l=_s({},n),Ce(!l.pathname||!l.pathname.includes("?"),Yi("?","pathname","search",l)),Ce(!l.pathname||!l.pathname.includes("#"),Yi("#","pathname","hash",l)),Ce(!l.search||!l.search.includes("#"),Yi("#","search","hash",l)));let i=n===""||l.pathname==="",o=i?"/":l.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;l.pathname=p.join("/")}a=h>=0?t[h]:"/"}let c=Vj(l,a),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const gt=n=>n.join("/").replace(/\/\/+/g,"/"),Gj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$j=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Wj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vm=["post","put","patch","delete"];new Set(vm);const Yj=["get",...vm];new Set(Yj);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Ts.apply(this,arguments)}const vc=_.createContext(null),Xj=_.createContext(null),Vt=_.createContext(null),fi=_.createContext(null),Ht=_.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=_.createContext(null);function Jj(n,t){let{relative:r}=t===void 0?{}:t;Ds()||Ce(!1);let{basename:s,navigator:l}=_.useContext(Vt),{hash:i,pathname:o,search:a}=Sm(n,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:gt([s,o])),l.createHref({pathname:c,search:a,hash:i})}function Ds(){return _.useContext(fi)!=null}function Rr(){return Ds()||Ce(!1),_.useContext(fi).location}function wm(n){_.useContext(Vt).static||_.useLayoutEffect(n)}function Nm(){let{isDataRoute:n}=_.useContext(Ht);return n?hy():Zj()}function Zj(){Ds()||Ce(!1);let n=_.useContext(vc),{basename:t,future:r,navigator:s}=_.useContext(Vt),{matches:l}=_.useContext(Ht),{pathname:i}=Rr(),o=JSON.stringify(ym(l,r.v7_relativeSplatPath)),a=_.useRef(!1);return wm(()=>{a.current=!0}),_.useCallback(function(d,u){if(u===void 0&&(u={}),!a.current)return;if(typeof d=="number"){s.go(d);return}let h=km(d,JSON.parse(o),i,u.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:gt([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,i,n])}function Sm(n,t){let{relative:r}=t===void 0?{}:t,{future:s}=_.useContext(Vt),{matches:l}=_.useContext(Ht),{pathname:i}=Rr(),o=JSON.stringify(ym(l,s.v7_relativeSplatPath));return _.useMemo(()=>km(n,JSON.parse(o),i,r==="path"),[n,o,i,r])}function ey(n,t){return ny(n,t)}function ny(n,t,r,s){Ds()||Ce(!1);let{navigator:l}=_.useContext(Vt),{matches:i}=_.useContext(Ht),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Rr(),u;if(t){var h;let N=typeof t=="string"?Er(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||Ce(!1),u=N}else u=d;let p=u.pathname||"/",m=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=_j(n,{pathname:m}),y=iy(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:gt([c,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:gt([c,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,s);return t&&y?_.createElement(fi.Provider,{value:{location:Ts({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:at.Pop}},y):y}function ty(){let n=dy(),t=Qj(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:l},r):null,null)}const ry=_.createElement(ty,null);class sy extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Ht.Provider,{value:this.props.routeContext},_.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ly(n){let{routeContext:t,match:r,children:s}=n,l=_.useContext(vc);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Ht.Provider,{value:t},s)}function iy(n,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),n==null){var i;if(!r)return null;if(r.errors)n=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let o=n,a=(l=r)==null?void 0:l.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ce(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:p,errors:m}=r,j=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let m,j=!1,y=null,N=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||ry,c&&(d<0&&p===0?(uy("route-fallback"),j=!0,N=null):d===p&&(j=!0,N=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),x=()=>{let f;return m?f=y:j?f=N:h.route.Component?f=_.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=u,_.createElement(ly,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(sy,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Cm=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Cm||{}),_m=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(_m||{});function oy(n){let t=_.useContext(vc);return t||Ce(!1),t}function ay(n){let t=_.useContext(Xj);return t||Ce(!1),t}function cy(n){let t=_.useContext(Ht);return t||Ce(!1),t}function Tm(n){let t=cy(),r=t.matches[t.matches.length-1];return r.route.id||Ce(!1),r.route.id}function dy(){var n;let t=_.useContext(bm),r=ay(),s=Tm();return t!==void 0?t:(n=r.errors)==null?void 0:n[s]}function hy(){let{router:n}=oy(Cm.UseNavigateStable),t=Tm(_m.UseNavigateStable),r=_.useRef(!1);return wm(()=>{r.current=!0}),_.useCallback(function(l,i){i===void 0&&(i={}),r.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,Ts({fromRouteId:t},i)))},[n,t])}const th={};function uy(n,t,r){th[n]||(th[n]=!0)}function py(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function le(n){Ce(!1)}function my(n){let{basename:t="/",children:r=null,location:s,navigationType:l=at.Pop,navigator:i,static:o=!1,future:a}=n;Ds()&&Ce(!1);let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Ts({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof s=="string"&&(s=Er(s));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:j="default"}=s,y=_.useMemo(()=>{let N=kc(u,c);return N==null?null:{location:{pathname:N,search:h,hash:p,state:m,key:j},navigationType:l}},[c,u,h,p,m,j,l]);return y==null?null:_.createElement(Vt.Provider,{value:d},_.createElement(fi.Provider,{children:r,value:y}))}function xy(n){let{children:t,location:r}=n;return ey(da(t),r)}new Promise(()=>{});function da(n,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(n,(s,l)=>{if(!_.isValidElement(s))return;let i=[...t,l];if(s.type===_.Fragment){r.push.apply(r,da(s.props.children,i));return}s.type!==le&&Ce(!1),!s.props.index||!s.props.children||Ce(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=da(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},ha.apply(this,arguments)}function fy(n,t){if(n==null)return{};var r={},s=Object.keys(n),l,i;for(i=0;i<s.length;i++)l=s[i],!(t.indexOf(l)>=0)&&(r[l]=n[l]);return r}function gy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jy(n,t){return n.button===0&&(!t||t==="_self")&&!gy(n)}const yy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ky="6";try{window.__reactRouterVersion=ky}catch{}const vy="startTransition",rh=uf[vy];function by(n){let{basename:t,children:r,future:s,window:l}=n,i=_.useRef();i.current==null&&(i.current=Nj({window:l,v5Compat:!0}));let o=i.current,[a,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=_.useCallback(h=>{d&&rh?rh(()=>c(h)):c(h)},[c,d]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>py(s),[s]),_.createElement(my,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:s})}const wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=_.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,p=fy(t,yy),{basename:m}=_.useContext(Vt),j,y=!1;if(typeof d=="string"&&Ny.test(d)&&(j=d,wy))try{let f=new URL(window.location.href),b=d.startsWith("//")?new URL(f.protocol+d):new URL(d),C=kc(b.pathname,m);b.origin===f.origin&&C!=null?d=C+b.search+b.hash:y=!0}catch{}let N=Jj(d,{relative:l}),g=Sy(d,{replace:o,state:a,target:c,preventScrollReset:u,relative:l,viewTransition:h});function x(f){s&&s(f),f.defaultPrevented||g(f)}return _.createElement("a",ha({},p,{href:j||N,onClick:y||i?s:x,ref:r,target:c}))});var sh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sh||(sh={}));var lh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(lh||(lh={}));function Sy(n,t){let{target:r,replace:s,state:l,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Nm(),d=Rr(),u=Sm(n,{relative:o});return _.useCallback(h=>{if(jy(h,r)){h.preventDefault();let p=s!==void 0?s:Wl(d)===Wl(u);c(n,{replace:p,state:l,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,u,s,l,r,n,i,o,a])}class Cy{constructor(){Kc(this,"baseUrl","/v1")}async request(t,r={}){var l;const s=await fetch(`${this.baseUrl}${t}`,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!s.ok){const i=await s.json();throw new Error(((l=i.error)==null?void 0:l.message)||`HTTP ${s.status}`)}if(s.status!==204)return s.json()}async listModels(){return this.request("/models")}async listModelsExtended(){return this.request("/models?extended-config=true")}async rebuildModelIndex(){var r;const t=await fetch(`${this.baseUrl}/models/index`,{method:"POST"});if(!t.ok){const s=await t.json();throw new Error(((r=s.error)==null?void 0:r.message)||`HTTP ${t.status}`)}}async listRunningModels(){return this.request("/models/ps")}async showModel(t){return this.request(`/models/${encodeURIComponent(t)}`)}async getLibsVersion(){return this.request("/libs")}async pullModelAsync(t){var s;const r=await fetch(`${this.baseUrl}/models/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_url:t,async:!0})});if(!r.ok){const l=await r.json();throw new Error(((s=l.error)==null?void 0:s.message)||`HTTP ${r.status}`)}return r.json()}streamPullSession(t,r,s,l){const i=new AbortController;return fetch(`${this.baseUrl}/models/pull/${encodeURIComponent(t)}`,{method:"GET",signal:i.signal}).then(async o=>{var u;if(o.status===400){s("Session closed");return}if(!o.ok){s(`HTTP ${o.status}`);return}const a=(u=o.body)==null?void 0:u.getReader();if(!a){s("Streaming not supported");return}const c=new TextDecoder;let d="";for(;;){const{done:h,value:p}=await a.read();if(h)break;d+=c.decode(p,{stream:!0});const m=d.split(`
`);d=m.pop()||"";for(const j of m){if(!j.trim())continue;const y=j.startsWith("data: ")?j.slice(6):j;if(y.trim())try{const N=JSON.parse(y);if(r(N),N.status==="downloaded"||N.downloaded){l();return}}catch{s("Failed to parse response")}}}l()}).catch(o=>{o.name!=="AbortError"&&s("Connection error")}),()=>i.abort()}pullModel(t,r,s,l){const i=new AbortController;return fetch(`${this.baseUrl}/models/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_url:t}),signal:i.signal}).then(async o=>{var u;if(!o.ok){s(`HTTP ${o.status}`);return}const a=(u=o.body)==null?void 0:u.getReader();if(!a){s("Streaming not supported");return}const c=new TextDecoder;let d="";for(;;){const{done:h,value:p}=await a.read();if(h)break;d+=c.decode(p,{stream:!0});const m=d.split(`
`);d=m.pop()||"";for(const j of m){if(!j.trim())continue;const y=j.startsWith("data: ")?j.slice(6):j;if(y.trim())try{const N=JSON.parse(y);if(r(N),N.status==="complete"||N.downloaded){l();return}}catch{s("Failed to parse response")}}}l()}).catch(o=>{o.name!=="AbortError"&&s("Connection error")}),()=>i.abort()}async removeModel(t){await this.request(`/models/${encodeURIComponent(t)}`,{method:"DELETE"})}async listCatalog(){return this.request("/catalog")}async showCatalogModel(t){return this.request(`/catalog/${encodeURIComponent(t)}`)}pullCatalogModel(t,r,s,l){const i=new AbortController;return fetch(`${this.baseUrl}/catalog/pull/${encodeURIComponent(t)}`,{method:"POST",signal:i.signal}).then(async o=>{var u;if(!o.ok){s(`HTTP ${o.status}`);return}const a=(u=o.body)==null?void 0:u.getReader();if(!a){s("Streaming not supported");return}const c=new TextDecoder;let d="";for(;;){const{done:h,value:p}=await a.read();if(h)break;d+=c.decode(p,{stream:!0});const m=d.split(`
`);d=m.pop()||"";for(const j of m){if(!j.trim())continue;const y=j.startsWith("data: ")?j.slice(6):j;if(y.trim())try{const N=JSON.parse(y);if(r(N),N.status==="complete"||N.downloaded){l();return}}catch{s("Failed to parse response")}}}l()}).catch(o=>{o.name!=="AbortError"&&s("Connection error")}),()=>i.abort()}pullLibs(t,r,s){const l=new AbortController;return fetch(`${this.baseUrl}/libs/pull`,{method:"POST",signal:l.signal}).then(async i=>{var d;if(!i.ok){r(`HTTP ${i.status}`);return}const o=(d=i.body)==null?void 0:d.getReader();if(!o){r("Streaming not supported");return}const a=new TextDecoder;let c="";for(;;){const{done:u,value:h}=await o.read();if(u)break;c+=a.decode(h,{stream:!0});const p=c.split(`
`);c=p.pop()||"";for(const m of p){if(!m.trim())continue;const j=m.startsWith("data: ")?m.slice(6):m;if(j.trim())try{const y=JSON.parse(j);if(t(y),y.status==="complete"){s();return}}catch{r("Failed to parse response")}}}s()}).catch(i=>{i.name!=="AbortError"&&r("Connection error")}),()=>l.abort()}async listKeys(t){return this.request("/security/keys",{headers:{Authorization:`Bearer ${t}`}})}async createKey(t){return this.request("/security/keys/add",{method:"POST",headers:{Authorization:`Bearer ${t}`}})}async deleteKey(t,r){await this.request(`/security/keys/remove/${encodeURIComponent(r)}`,{method:"POST",headers:{Authorization:`Bearer ${t}`}})}async createToken(t,r){return this.request("/security/token/create",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(r)})}streamChat(t,r,s,l){const i=new AbortController;return fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,stream:!0}),signal:i.signal}).then(async o=>{var u,h;if(!o.ok){const p=await o.json();s(((u=p.error)==null?void 0:u.message)||`HTTP ${o.status}`);return}const a=(h=o.body)==null?void 0:h.getReader();if(!a){s("Streaming not supported");return}const c=new TextDecoder;let d="";for(;;){const{done:p,value:m}=await a.read();if(p)break;d+=c.decode(m,{stream:!0});const j=d.split(`
`);d=j.pop()||"";for(const y of j){if(!y.trim()||y==="data: [DONE]")continue;const N=y.startsWith("data: ")?y.slice(6):y;if(N.trim())try{const g=JSON.parse(N);r(g)}catch{}}}l()}).catch(o=>{o.name!=="AbortError"&&s(o.message||"Connection error")}),()=>i.abort()}async calculateVRAM(t,r){const s={};return r&&(s.Authorization=`Bearer ${r}`),this.request("/models/vram",{method:"POST",headers:s,body:JSON.stringify(t)})}}const Ie=new Cy,Em=_.createContext(null);function _y({children:n}){const[t,r]=_.useState(null),[s,l]=_.useState(!1),[i,o]=_.useState(null),[a,c]=_.useState(!1),d=_.useCallback(async()=>{if(!(a&&t)){l(!0),o(null);try{const h=await Ie.listModels();r(h),c(!0)}catch(h){o(h instanceof Error?h.message:"Failed to load models")}finally{l(!1)}}},[a,t]),u=_.useCallback(()=>{c(!1),r(null)},[]);return e.jsx(Em.Provider,{value:{models:t,loading:s,error:i,loadModels:d,invalidate:u},children:n})}function gi(){const n=_.useContext(Em);if(!n)throw new Error("useModelList must be used within a ModelListProvider");return n}const Rm=_.createContext(null);function Ty({children:n}){const{invalidate:t}=gi(),[r,s]=_.useState(null),l=_.useRef(null),i="\r\x1B[K",o=_.useCallback((p,m)=>{s(j=>j&&{...j,messages:[...j.messages,{text:p,type:m}]})},[]),a=_.useCallback((p,m)=>{s(j=>{if(!j)return j;if(j.messages.length===0)return{...j,messages:[{text:p,type:m}]};const y=[...j.messages];return y[y.length-1]={text:p,type:m},{...j,messages:y}})},[]),c=_.useCallback(p=>{l.current||(s({modelUrl:p,messages:[],status:"downloading"}),l.current=Ie.pullModel(p,m=>{if(m.status)if(m.status.startsWith(i)){const j=m.status.slice(i.length);a(j,"info")}else o(m.status,"info");m.model_file&&o(`Model file: ${m.model_file}`,"info")},m=>{o(m,"error"),s(j=>j&&{...j,status:"error"}),l.current=null},()=>{o("Pull complete!","success"),s(m=>m&&{...m,status:"complete"}),l.current=null,t()}))},[o,a,t]),d=_.useCallback(()=>{l.current&&(l.current(),l.current=null),s(p=>p&&{...p,messages:[...p.messages,{text:"Cancelled",type:"error"}],status:"error"})},[]),u=_.useCallback(()=>{l.current&&(l.current(),l.current=null),s(null)},[]),h=(r==null?void 0:r.status)==="downloading";return e.jsx(Rm.Provider,{value:{download:r,isDownloading:h,startDownload:c,cancelDownload:d,clearDownload:u},children:n})}function Pm(){const n=_.useContext(Rm);if(!n)throw new Error("useDownload must be used within a DownloadProvider");return n}const ih=[{id:"settings",label:"Settings",items:[{page:"settings",label:"API Token"}]},{id:"model",label:"Models",items:[{page:"model-list",label:"List"},{page:"model-ps",label:"Running"},{page:"model-pull",label:"Pull"}]},{id:"catalog",label:"Catalog",items:[{page:"catalog-list",label:"List"}]},{id:"libs",label:"Libs",items:[{page:"libs-pull",label:"Pull"}]},{id:"security",label:"Security",subcategories:[{id:"security-key",label:"Key",items:[{page:"security-key-list",label:"List"},{page:"security-key-create",label:"Create"},{page:"security-key-delete",label:"Delete"}]},{id:"security-token",label:"Token",items:[{page:"security-token-create",label:"Create"}]}]},{id:"docs",label:"Docs",subcategories:[{id:"docs-manual-sub",label:"Manual",items:[{page:"docs-manual",label:"Introduction",hash:"chapter-1:-introduction"},{page:"docs-manual",label:"Installation & Quick Start",hash:"chapter-2:-installation-quick-start"},{page:"docs-manual",label:"Model Configuration",hash:"chapter-3:-model-configuration"},{page:"docs-manual",label:"Batch Processing",hash:"chapter-4:-batch-processing"},{page:"docs-manual",label:"Message Caching",hash:"chapter-5:-message-caching"},{page:"docs-manual",label:"YaRN Extended Context",hash:"chapter-6:-yarn-extended-context"},{page:"docs-manual",label:"Model Server",hash:"chapter-7:-model-server"},{page:"docs-manual",label:"API Endpoints",hash:"chapter-8:-api-endpoints"},{page:"docs-manual",label:"Multi-Modal Models",hash:"chapter-9:-multi-modal-models"},{page:"docs-manual",label:"Security & Authentication",hash:"chapter-10:-security-authentication"},{page:"docs-manual",label:"Browser UI (BUI)",hash:"chapter-11:-browser-ui-bui"},{page:"docs-manual",label:"Client Integration",hash:"chapter-12:-client-integration"},{page:"docs-manual",label:"Observability",hash:"chapter-13:-observability"},{page:"docs-manual",label:"Troubleshooting",hash:"chapter-14:-troubleshooting"},{page:"docs-manual",label:"Developer Guide",hash:"chapter-15:-developer-guide"}]},{id:"docs-sdk",label:"SDK",items:[{page:"docs-sdk-kronk",label:"Kronk"},{page:"docs-sdk-model",label:"Model"},{page:"docs-sdk-examples",label:"Examples"},{page:"docs-sdk-examples",label:"Audio",hash:"example-audio"},{page:"docs-sdk-examples",label:"Chat",hash:"example-chat"},{page:"docs-sdk-examples",label:"Embedding",hash:"example-embedding"},{page:"docs-sdk-examples",label:"Question",hash:"example-question"},{page:"docs-sdk-examples",label:"Rerank",hash:"example-rerank"},{page:"docs-sdk-examples",label:"Response",hash:"example-response"},{page:"docs-sdk-examples",label:"Vision",hash:"example-vision"}]},{id:"docs-cli-sub",label:"CLI",items:[{page:"docs-cli-catalog",label:"catalog"},{page:"docs-cli-libs",label:"libs"},{page:"docs-cli-model",label:"model"},{page:"docs-cli-run",label:"run"},{page:"docs-cli-security",label:"security"},{page:"docs-cli-server",label:"server"}]},{id:"docs-api-sub",label:"Web API",items:[{page:"docs-api-chat",label:"Chat"},{page:"docs-api-messages",label:"Messages"},{page:"docs-api-responses",label:"Responses"},{page:"docs-api-embeddings",label:"Embeddings"},{page:"docs-api-rerank",label:"Rerank"},{page:"docs-api-tools",label:"Tools"}]}]},{id:"apps",label:"Apps",items:[{page:"chat",label:"Chat"},{page:"vram-calculator",label:"VRAM Calculator"}]}];function Ey({children:n}){const t=Rr(),r=Nm(),s=SS[t.pathname]||"home",[l,i]=_.useState(new Set),{download:o,isDownloading:a}=Pm();_.useEffect(()=>{const p=(j,y)=>{var N;for(const g of j){if((N=g.items)!=null&&N.some(x=>x.page===y))return[g.id];if(g.subcategories){const x=p(g.subcategories,y);if(x.length>0)return[g.id,...x]}}return[]},m=p(ih,s);m.length>0&&i(j=>{const y=new Set(j);return m.forEach(N=>y.add(N)),y})},[s]);const c=p=>{i(m=>{const j=new Set(m);return j.has(p)?j.delete(p):j.add(p),j})},d=p=>p.items?p.items.some(m=>m.page===s):p.subcategories?p.subcategories.some(m=>d(m)):!1,u=p=>{const m=Na[p.page],j=s===p.page&&!p.hash;if(p.hash){const y=N=>{N.preventDefault(),r(`${m}#${p.hash}`),setTimeout(()=>{const g=document.getElementById(p.hash);g&&g.scrollIntoView({behavior:"smooth"})},100)};return e.jsx("a",{href:`${m}#${p.hash}`,onClick:y,className:"menu-item",children:p.label},`${p.page}-${p.hash}`)}return e.jsx(Lt,{to:m,className:`menu-item ${j?"active":""}`,children:p.label},p.page)},h=(p,m=!1)=>{var N,g;const j=l.has(p.id),y=d(p);return e.jsxs("div",{className:`menu-category ${m?"submenu":""}`,children:[e.jsxs("div",{className:`menu-category-header ${y?"active":""}`,onClick:()=>c(p.id),children:[e.jsx("span",{children:p.label}),e.jsx("span",{className:`menu-category-arrow ${j?"expanded":""}`,children:""})]}),e.jsxs("div",{className:`menu-items ${j?"expanded":""}`,children:[(N=p.subcategories)==null?void 0:N.map(x=>h(x,!0)),(g=p.items)==null?void 0:g.map(u)]})]},p.id)};return e.jsxs("div",{className:"app",children:[e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs(Lt,{to:"/",style:{textDecoration:"none",color:"inherit"},className:"sidebar-brand",children:[e.jsx("img",{src:"/kronk-logo.png",alt:"Kronk Logo",className:"sidebar-logo"}),e.jsx("h1",{children:"Model Server"})]})}),e.jsx("nav",{children:ih.map(p=>h(p))}),o&&e.jsx("div",{className:"download-indicator",children:e.jsxs(Lt,{to:Na["model-pull"],className:"download-indicator-link",children:[e.jsxs("div",{className:"download-indicator-header",children:[a?e.jsx("span",{className:"download-indicator-spinner"}):o.status==="complete"?e.jsx("span",{className:"download-indicator-icon success",children:""}):e.jsx("span",{className:"download-indicator-icon error",children:""}),e.jsx("span",{className:"download-indicator-title",children:a?"Downloading...":o.status==="complete"?"Complete":"Failed"})]}),e.jsx("div",{className:"download-indicator-url",title:o.modelUrl,children:o.modelUrl.split("/").pop()})]})})]}),e.jsx("main",{className:"main-content",children:n})]})}function St(n){if(n===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,s)).toFixed(2))+" "+r[s]}function Ry(n){return new Date(n).toLocaleString()}function Py(){var ie,G;const{models:n,loading:t,error:r,loadModels:s,invalidate:l}=gi(),[i,o]=_.useState(null),[a,c]=_.useState(null),[d,u]=_.useState(!1),[h,p]=_.useState(null),[m,j]=_.useState(!1),[y,N]=_.useState(null),[g,x]=_.useState(!1),[f,b]=_.useState(!1),[C,v]=_.useState(!1),[R,T]=_.useState(null),[A,w]=_.useState(null),M=async()=>{j(!0),N(null),x(!1);try{await Ie.rebuildModelIndex(),l(),s(),o(null),c(null),x(!0),setTimeout(()=>x(!1),3e3)}catch(P){N(P instanceof Error?P.message:"Failed to rebuild index")}finally{j(!1)}};_.useEffect(()=>{s()},[s]);const B=async P=>{if(i===P){o(null),c(null),b(!1);return}o(P),b(!1),T(null),w(null),u(!0),p(null),c(null);try{const q=await Ie.showModel(P);c(q)}catch(q){p(q instanceof Error?q.message:"Failed to load model info")}finally{u(!1)}},H=()=>{i&&b(!0)},O=async()=>{if(i){v(!0),b(!1),T(null),w(null);try{await Ie.removeModel(i),w(`Model "${i}" removed successfully`),o(null),c(null),l(),await s(),setTimeout(()=>w(null),3e3)}catch(P){T(P instanceof Error?P.message:"Failed to remove model")}finally{v(!1)}}},U=()=>{b(!1)};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Models"}),e.jsx("p",{children:"List of all models available in the system. Click a model to view details."})]}),e.jsxs("div",{className:"card",children:[t&&e.jsx("div",{className:"loading",children:"Loading models"}),r&&e.jsx("div",{className:"alert alert-error",children:r}),R&&e.jsx("div",{className:"alert alert-error",children:R}),A&&e.jsx("div",{className:"alert alert-success",children:A}),!t&&!r&&n&&e.jsx("div",{className:"table-container",children:n.data&&n.data.length>0?e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px",textAlign:"center"},title:"Validated",children:""}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Family"}),e.jsx("th",{children:"Size"}),e.jsx("th",{children:"Modified"})]})}),e.jsx("tbody",{children:(()=>{const P=n.data.filter(k=>!k.id.includes("/")),q=n.data.filter(k=>k.id.includes("/"));return P.map(k=>{const Q=q.filter(E=>E.id.startsWith(k.id+"/")),$=i===k.id,S=i==null?void 0:i.startsWith(k.id+"/"),re=$||S;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{onClick:()=>B(k.id),className:i===k.id?"selected":"",style:{cursor:"pointer"},children:[e.jsx("td",{style:{textAlign:"center",color:k.validated?"inherit":"#e74c3c"},children:k.validated?"":""}),e.jsx("td",{children:k.id}),e.jsx("td",{children:k.owned_by}),e.jsx("td",{children:k.model_family}),e.jsx("td",{children:St(k.size)}),e.jsx("td",{children:Ry(k.modified)})]},k.id),re&&Q.map(E=>e.jsxs("tr",{onClick:()=>B(E.id),className:i===E.id?"selected":"",style:{cursor:"pointer"},children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"24px"},children:[" ",E.id]}),e.jsx("td",{}),e.jsx("td",{children:"Extension Model"}),e.jsx("td",{}),e.jsx("td",{})]},E.id))]})})})()})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No models found"}),e.jsx("p",{children:"Pull a model to get started"})]})}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"8px"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>{l(),s(),o(null),c(null),b(!1),T(null),w(null),p(null),N(null),x(!1)},disabled:t,children:"Refresh"}),e.jsx("button",{className:"btn btn-secondary",onClick:M,disabled:m||t,children:m?"Rebuilding...":"Rebuild Index"}),i&&!f&&e.jsx("button",{className:"btn btn-danger",onClick:H,disabled:C,children:"Remove Model"}),i&&f&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-danger",onClick:O,disabled:C,children:C?"Removing...":"Yes, Remove"}),e.jsx("button",{className:"btn btn-secondary",onClick:U,disabled:C,children:"Cancel"})]})]}),y&&e.jsx("div",{className:"alert alert-error",style:{marginTop:"8px"},children:y}),g&&e.jsx("div",{className:"alert alert-success",style:{marginTop:"8px"},children:"Index rebuilt successfully"})]}),h&&e.jsx("div",{className:"alert alert-error",children:h}),d&&e.jsx("div",{className:"card",children:e.jsx("div",{className:"loading",children:"Loading model details"})}),a&&!d&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"16px"},children:a.id}),a.model_config&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"Model Configuration"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Device"}),e.jsx("span",{children:a.model_config.device||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Context Window"}),e.jsx("span",{children:a.model_config["context-window"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Batch Size"}),e.jsx("span",{children:a.model_config.nbatch})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Micro Batch Size"}),e.jsx("span",{children:a.model_config.nubatch})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Threads"}),e.jsx("span",{children:a.model_config.nthreads})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Batch Threads"}),e.jsx("span",{children:a.model_config["nthreads-batch"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Cache Type K"}),e.jsx("span",{children:a.model_config["cache-type-k"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Cache Type V"}),e.jsx("span",{children:a.model_config["cache-type-v"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Flash Attention"}),e.jsx("span",{children:a.model_config["flash-attention"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Sequences"}),e.jsx("span",{children:a.model_config["nseq-max"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"GPU Layers"}),e.jsx("span",{children:a.model_config["ngpu-layers"]??"auto"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Split Mode"}),e.jsx("span",{children:a.model_config["split-mode"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"System Prompt Cache"}),e.jsx("span",{className:`badge ${a.model_config["system-prompt-cache"]?"badge-yes":"badge-no"}`,children:a.model_config["system-prompt-cache"]?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Incremental Cache"}),e.jsx("span",{className:`badge ${a.model_config["incremental-cache"]?"badge-yes":"badge-no"}`,children:a.model_config["incremental-cache"]?"Yes":"No"})]}),(a.model_config["system-prompt-cache"]||a.model_config["incremental-cache"])&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Cache Sessions"}),e.jsx("span",{children:a.model_config["max-cache-sessions"]||1})]}),!!a.model_config["rope-scaling-type"]&&a.model_config["rope-scaling-type"]!=="none"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"RoPE Scaling"}),e.jsx("span",{children:a.model_config["rope-scaling-type"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Original Context"}),e.jsx("span",{children:a.model_config["yarn-orig-ctx"]??"auto"})]}),a.model_config["rope-freq-base"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"RoPE Freq Base"}),e.jsx("span",{children:a.model_config["rope-freq-base"]})]}),a.model_config["yarn-ext-factor"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Ext Factor"}),e.jsx("span",{children:a.model_config["yarn-ext-factor"]})]}),a.model_config["yarn-attn-factor"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Attn Factor"}),e.jsx("span",{children:a.model_config["yarn-attn-factor"]})]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Owner"}),e.jsx("span",{children:a.owned_by})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Size"}),e.jsx("span",{children:St(a.size)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Created"}),e.jsx("span",{children:new Date(a.created).toLocaleString()})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Has Projection"}),e.jsx("span",{className:`badge ${a.has_projection?"badge-yes":"badge-no"}`,children:a.has_projection?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Is GPT"}),e.jsx("span",{className:`badge ${a.is_gpt?"badge-yes":"badge-no"}`,children:a.is_gpt?"Yes":"No"})]})]})]}),((ie=a.model_config)==null?void 0:ie["sampling-parameters"])&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"Sampling Parameters"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Temperature"}),e.jsx("span",{children:a.model_config["sampling-parameters"].temperature.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Top K"}),e.jsx("span",{children:a.model_config["sampling-parameters"].top_k})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Top P"}),e.jsx("span",{children:a.model_config["sampling-parameters"].top_p.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Min P"}),e.jsx("span",{children:a.model_config["sampling-parameters"].min_p.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Tokens"}),e.jsx("span",{children:a.model_config["sampling-parameters"].max_tokens})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Repeat Penalty"}),e.jsx("span",{children:a.model_config["sampling-parameters"].repeat_penalty.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Repeat Last N"}),e.jsx("span",{children:a.model_config["sampling-parameters"].repeat_last_n})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Enable Thinking"}),e.jsx("span",{children:a.model_config["sampling-parameters"].enable_thinking||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Reasoning Effort"}),e.jsx("span",{children:a.model_config["sampling-parameters"].reasoning_effort||"default"})]})]})]}),a.desc&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"Description"}),e.jsx("p",{children:a.desc})]}),a.vram&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"VRAM Requirements"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Total VRAM"}),e.jsx("span",{children:St(a.vram.total_vram)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Slot Memory (KV Cache)"}),e.jsx("span",{children:St(a.vram.slot_memory)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"KV Per Slot"}),e.jsx("span",{children:St(a.vram.kv_per_slot)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Total Slots"}),e.jsx("span",{children:a.vram.total_slots})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"KV Per Token/Layer"}),e.jsx("span",{children:St(a.vram.kv_per_token_per_layer)})]})]}),e.jsx("div",{style:{marginTop:"2rem"}}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Model Size"}),e.jsx("span",{children:St(a.vram.input.model_size_bytes)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Block Count (Layers)"}),e.jsx("span",{children:a.vram.input.block_count})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Head Count KV"}),e.jsx("span",{children:a.vram.input.head_count_kv})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Key Length"}),e.jsx("span",{children:a.vram.input.key_length})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Value Length"}),e.jsx("span",{children:a.vram.input.value_length})]})]})]}),a.metadata&&Object.keys(a.metadata).filter(P=>P!=="tokenizer.chat_template").length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"Metadata"}),e.jsx("div",{className:"model-meta",children:Object.entries(a.metadata).filter(([P])=>P!=="tokenizer.chat_template").map(([P,q])=>e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:P}),e.jsx("span",{children:q})]},P))})]}),((G=a.metadata)==null?void 0:G["tokenizer.chat_template"])&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"tokenizer.chat_template"}),e.jsx("pre",{style:{background:"var(--color-gray-100)",padding:"12px",borderRadius:"6px",fontSize:"12px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a.metadata["tokenizer.chat_template"]})]})]})]})}function Iy(n){if(n===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,s)).toFixed(2))+" "+r[s]}function Ay(n){return new Date(n).toLocaleString()}function My(){const[n,t]=_.useState(null),[r,s]=_.useState(!0),[l,i]=_.useState(null);_.useEffect(()=>{o()},[]);const o=async()=>{s(!0),i(null);try{const a=await Ie.listRunningModels();t(a)}catch(a){i(a instanceof Error?a.message:"Failed to load running models")}finally{s(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Running Models"}),e.jsx("p",{children:"Models currently loaded in cache"})]}),e.jsxs("div",{className:"card",children:[r&&e.jsx("div",{className:"loading",children:"Loading running models"}),l&&e.jsx("div",{className:"alert alert-error",children:l}),!r&&!l&&n&&e.jsx("div",{className:"table-container",children:n.length>0?e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Family"}),e.jsx("th",{children:"Size"}),e.jsx("th",{children:"Expires At"}),e.jsx("th",{children:"Active Streams"})]})}),e.jsx("tbody",{children:n.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.id}),e.jsx("td",{children:a.owned_by}),e.jsx("td",{children:a.model_family}),e.jsx("td",{children:Iy(a.size)}),e.jsx("td",{children:Ay(a.expires_at)}),e.jsx("td",{children:a.active_streams})]},a.id))})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No running models"}),e.jsx("p",{children:"Models will appear here when loaded into cache"})]})}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsx("button",{className:"btn btn-secondary",onClick:o,disabled:r,children:"Refresh"})})]})]})}function Ly(){const{download:n,isDownloading:t,startDownload:r,cancelDownload:s,clearDownload:l}=Pm(),[i,o]=_.useState(""),a=u=>{u.preventDefault(),!(!i.trim()||t)&&r(i.trim())},c=(n==null?void 0:n.status)==="complete",d=(n==null?void 0:n.status)==="error";return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Pull Model"}),e.jsx("p",{children:"Download a model from a URL"}),e.jsx("p",{children:"Example: Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("form",{onSubmit:a,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"modelUrl",children:"Model URL"}),e.jsx("input",{type:"text",id:"modelUrl",value:i,onChange:u=>o(u.target.value),placeholder:"...",disabled:t})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:t||!i.trim(),children:t?"Downloading...":"Pull Model"}),t&&e.jsx("button",{className:"btn btn-danger",type:"button",onClick:s,children:"Cancel"}),(c||d)&&e.jsx("button",{className:"btn",type:"button",onClick:l,children:"Clear"})]})]}),n&&n.messages.length>0&&e.jsx("div",{className:"status-box",children:n.messages.map((u,h)=>e.jsx("div",{className:`status-line ${u.type}`,children:u.text},h))})]})]})}function Vr(n){return n>=1073741824?`${(n/1073741824).toFixed(2)} GB`:n>=1048576?`${(n/1048576).toFixed(2)} MB`:n>=1024?`${(n/1024).toFixed(2)} KB`:`${n} bytes`}function Dy(){var M,B,H;const{invalidate:n}=gi(),[t,r]=_.useState(null),[s,l]=_.useState(!0),[i,o]=_.useState(null),[a,c]=_.useState(null),[d,u]=_.useState(null),[h,p]=_.useState(!1),[m,j]=_.useState(null),[y,N]=_.useState("details"),[g,x]=_.useState(!1),[f,b]=_.useState([]),C=_.useRef(null);_.useEffect(()=>{v()},[]);const v=async()=>{l(!0),o(null);try{const O=await Ie.listCatalog();r(O)}catch(O){o(O instanceof Error?O.message:"Failed to load catalog")}finally{l(!1)}},R=async O=>{if(a===O){c(null),u(null),N("details"),b([]);return}c(O),N("details"),b([]),p(!0),j(null),u(null);try{const U=await Ie.showCatalogModel(O);u(U)}catch(U){j(U instanceof Error?U.message:"Failed to load model info")}finally{p(!1)}},T=()=>{if(!a)return;x(!0),b([]),N("pull");const O="\r\x1B[K",U=(G,P)=>{b(q=>[...q,{text:G,type:P}])},ie=(G,P)=>{b(q=>{if(q.length===0)return[{text:G,type:P}];const k=[...q];return k[k.length-1]={text:G,type:P},k})};C.current=Ie.pullCatalogModel(a,G=>{if(G.status)if(G.status.startsWith(O)){const P=G.status.slice(O.length);ie(P,"info")}else U(G.status,"info");G.model_file&&U(`Model file: ${G.model_file}`,"info")},G=>{U(G,"error"),x(!1)},()=>{U("Pull complete!","success"),x(!1),n(),v()})},A=()=>{C.current&&(C.current(),C.current=null),x(!1),b(O=>[...O,{text:"Cancelled",type:"error"}])},w=((M=t==null?void 0:t.find(O=>O.id===a))==null?void 0:M.downloaded)??!1;return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Catalog"}),e.jsx("p",{children:"Browse available models in the catalog. Click a model to view details."})]}),e.jsxs("div",{className:"card",children:[s&&e.jsx("div",{className:"loading",children:"Loading catalog"}),i&&e.jsx("div",{className:"alert alert-error",children:i}),!s&&!i&&t&&e.jsx("div",{className:"table-container",children:t.length>0?e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px",textAlign:"center"},title:"Validated",children:""}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Family"}),e.jsx("th",{children:"Downloaded"}),e.jsx("th",{children:"Capabilities"})]})}),e.jsx("tbody",{children:t.map(O=>e.jsxs("tr",{onClick:()=>R(O.id),className:a===O.id?"selected":"",style:{cursor:"pointer"},children:[e.jsx("td",{style:{textAlign:"center",color:O.validated?"inherit":"#e74c3c"},children:O.validated?"":""}),e.jsx("td",{children:O.id}),e.jsx("td",{children:O.category}),e.jsx("td",{children:O.owned_by}),e.jsx("td",{children:O.model_family}),e.jsx("td",{children:e.jsx("span",{className:`badge ${O.downloaded?"badge-yes":"badge-no"}`,children:O.downloaded?"Yes":"No"})}),e.jsxs("td",{children:[O.capabilities.images&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Images"}),O.capabilities.audio&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Audio"}),O.capabilities.video&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Video"}),O.capabilities.streaming&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Streaming"}),O.capabilities.reasoning&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Reasoning"}),O.capabilities.tooling&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Tooling"}),O.capabilities.embedding&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Embedding"}),O.capabilities.rerank&&e.jsx("span",{className:"badge badge-yes",style:{marginRight:4},children:"Rerank"})]})]},O.id))})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No catalog entries"}),e.jsx("p",{children:"The catalog is empty"})]})}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"8px"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>{v(),c(null),u(null),b([]),N("details"),j(null)},disabled:s,children:"Refresh"}),a&&e.jsx("button",{className:"btn btn-primary",onClick:T,disabled:g||w,children:g?"Pulling...":w?"Already Downloaded":"Pull Model"}),g&&e.jsx("button",{className:"btn btn-danger",onClick:A,children:"Cancel"})]})]}),m&&e.jsx("div",{className:"alert alert-error",children:m}),h&&e.jsx("div",{className:"card",children:e.jsx("div",{className:"loading",children:"Loading model details"})}),a&&!h&&(d||f.length>0)&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:`tab ${y==="details"?"active":""}`,onClick:()=>N("details"),children:"Details"}),e.jsx("button",{className:`tab ${y==="pull"?"active":""}`,onClick:()=>N("pull"),disabled:f.length===0&&!g,children:"Pull Output"})]}),y==="details"&&d&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{marginBottom:"16px"},children:d.id}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Category"}),e.jsx("span",{children:d.category})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Owner"}),e.jsx("span",{children:d.owned_by})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Family"}),e.jsx("span",{children:d.model_family})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Downloaded"}),e.jsx("span",{className:`badge ${d.downloaded?"badge-yes":"badge-no"}`,children:d.downloaded?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Gated Model"}),e.jsx("span",{className:`badge ${d.gated_model?"badge-yes":"badge-no"}`,children:d.gated_model?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Endpoint"}),e.jsx("span",{children:d.capabilities.endpoint})]})]}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Capabilities"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Images"}),e.jsx("span",{className:`badge ${d.capabilities.images?"badge-yes":"badge-no"}`,children:d.capabilities.images?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Audio"}),e.jsx("span",{className:`badge ${d.capabilities.audio?"badge-yes":"badge-no"}`,children:d.capabilities.audio?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Video"}),e.jsx("span",{className:`badge ${d.capabilities.video?"badge-yes":"badge-no"}`,children:d.capabilities.video?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Streaming"}),e.jsx("span",{className:`badge ${d.capabilities.streaming?"badge-yes":"badge-no"}`,children:d.capabilities.streaming?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Reasoning"}),e.jsx("span",{className:`badge ${d.capabilities.reasoning?"badge-yes":"badge-no"}`,children:d.capabilities.reasoning?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Tooling"}),e.jsx("span",{className:`badge ${d.capabilities.tooling?"badge-yes":"badge-no"}`,children:d.capabilities.tooling?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Embedding"}),e.jsx("span",{className:`badge ${d.capabilities.embedding?"badge-yes":"badge-no"}`,children:d.capabilities.embedding?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Rerank"}),e.jsx("span",{className:`badge ${d.capabilities.rerank?"badge-yes":"badge-no"}`,children:d.capabilities.rerank?"Yes":"No"})]})]})]}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Web Page"}),e.jsx("div",{className:"model-meta-item",children:e.jsx("span",{children:d.web_page?e.jsx("a",{href:d.web_page,target:"_blank",rel:"noopener noreferrer",children:d.web_page}):"-"})})]}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Files"}),e.jsxs("div",{className:"model-meta-item",style:{marginBottom:"12px"},children:[e.jsx("label",{children:"Model URL"}),e.jsx("span",{children:d.files.model.length>0?d.files.model.map((O,U)=>e.jsxs("div",{children:[O.url," ",O.size&&`(${O.size})`]},U)):"-"})]}),e.jsxs("div",{className:"model-meta-item",style:{marginBottom:"12px"},children:[e.jsx("label",{children:"Projection URL"}),e.jsx("span",{children:d.files.proj.url?e.jsxs("div",{children:[d.files.proj.url," ",d.files.proj.size&&`(${d.files.proj.size})`]}):"-"})]})]}),d.metadata.description&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Description"}),e.jsx("div",{className:"model-meta-item",children:e.jsx("span",{children:d.metadata.description})})]}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Catalog Metadata"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Created"}),e.jsx("span",{children:new Date(d.metadata.created).toLocaleString()})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Collections"}),e.jsx("span",{children:d.metadata.collections||"-"})]})]})]}),d.vram&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"VRAM Requirements"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Total VRAM"}),e.jsx("span",{children:Vr(d.vram.total_vram)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Slot Memory (KV Cache)"}),e.jsx("span",{children:Vr(d.vram.slot_memory)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"KV Per Slot"}),e.jsx("span",{children:Vr(d.vram.kv_per_slot)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Total Slots"}),e.jsx("span",{children:d.vram.total_slots})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"KV Per Token/Layer"}),e.jsx("span",{children:Vr(d.vram.kv_per_token_per_layer)})]})]}),e.jsx("div",{style:{marginTop:"2rem"}}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Model Size"}),e.jsx("span",{children:Vr(d.vram.input.model_size_bytes)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Block Count (Layers)"}),e.jsx("span",{children:d.vram.input.block_count})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Head Count KV"}),e.jsx("span",{children:d.vram.input.head_count_kv})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Key Length"}),e.jsx("span",{children:d.vram.input.key_length})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Value Length"}),e.jsx("span",{children:d.vram.input.value_length})]})]})]}),d.model_config&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Model Configuration"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Device"}),e.jsx("span",{children:d.model_config.device||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Context Window"}),e.jsx("span",{children:d.model_config["context-window"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Batch Size"}),e.jsx("span",{children:d.model_config.nbatch})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Micro Batch Size"}),e.jsx("span",{children:d.model_config.nubatch})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Threads"}),e.jsx("span",{children:d.model_config.nthreads})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Batch Threads"}),e.jsx("span",{children:d.model_config["nthreads-batch"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Cache Type K"}),e.jsx("span",{children:d.model_config["cache-type-k"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Cache Type V"}),e.jsx("span",{children:d.model_config["cache-type-v"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Flash Attention"}),e.jsx("span",{children:d.model_config["flash-attention"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Sequences"}),e.jsx("span",{children:d.model_config["nseq-max"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"GPU Layers"}),e.jsx("span",{children:d.model_config["ngpu-layers"]??"auto"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Split Mode"}),e.jsx("span",{children:d.model_config["split-mode"]||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"System Prompt Cache"}),e.jsx("span",{className:`badge ${d.model_config["system-prompt-cache"]?"badge-yes":"badge-no"}`,children:d.model_config["system-prompt-cache"]?"Yes":"No"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Incremental Cache"}),e.jsx("span",{className:`badge ${d.model_config["incremental-cache"]?"badge-yes":"badge-no"}`,children:d.model_config["incremental-cache"]?"Yes":"No"})]}),(d.model_config["system-prompt-cache"]||d.model_config["incremental-cache"])&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Cache Sessions"}),e.jsx("span",{children:d.model_config["max-cache-sessions"]||1})]}),!!d.model_config["rope-scaling-type"]&&d.model_config["rope-scaling-type"]!=="none"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"RoPE Scaling"}),e.jsx("span",{children:d.model_config["rope-scaling-type"]})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Original Context"}),e.jsx("span",{children:d.model_config["yarn-orig-ctx"]??"auto"})]}),d.model_config["rope-freq-base"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"RoPE Freq Base"}),e.jsx("span",{children:d.model_config["rope-freq-base"]})]}),d.model_config["yarn-ext-factor"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Ext Factor"}),e.jsx("span",{children:d.model_config["yarn-ext-factor"]})]}),d.model_config["yarn-attn-factor"]!=null&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"YaRN Attn Factor"}),e.jsx("span",{children:d.model_config["yarn-attn-factor"]})]})]})]})]}),((B=d.model_config)==null?void 0:B["sampling-parameters"])&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Sampling Parameters"}),e.jsxs("div",{className:"model-meta",children:[e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Temperature"}),e.jsx("span",{children:d.model_config["sampling-parameters"].temperature.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Top K"}),e.jsx("span",{children:d.model_config["sampling-parameters"].top_k})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Top P"}),e.jsx("span",{children:d.model_config["sampling-parameters"].top_p.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Min P"}),e.jsx("span",{children:d.model_config["sampling-parameters"].min_p.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Max Tokens"}),e.jsx("span",{children:d.model_config["sampling-parameters"].max_tokens})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Repeat Penalty"}),e.jsx("span",{children:d.model_config["sampling-parameters"].repeat_penalty.toFixed(2)})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Repeat Last N"}),e.jsx("span",{children:d.model_config["sampling-parameters"].repeat_last_n})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Enable Thinking"}),e.jsx("span",{children:d.model_config["sampling-parameters"].enable_thinking||"default"})]}),e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Reasoning Effort"}),e.jsx("span",{children:d.model_config["sampling-parameters"].reasoning_effort||"default"})]})]})]}),d.model_metadata&&Object.keys(d.model_metadata).filter(O=>O!=="tokenizer.chat_template").length>0&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Model Metadata"}),e.jsx("div",{className:"model-meta",children:Object.entries(d.model_metadata).filter(([O])=>O!=="tokenizer.chat_template").map(([O,U])=>e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:O}),e.jsx("span",{children:U})]},O))})]}),((H=d.model_metadata)==null?void 0:H["tokenizer.chat_template"])&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Template"}),e.jsx("pre",{style:{background:"var(--color-gray-100)",padding:"12px",borderRadius:"6px",fontSize:"12px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:d.model_metadata["tokenizer.chat_template"]})]})]}),y==="pull"&&e.jsxs("div",{children:[e.jsxs("h3",{style:{marginBottom:"16px"},children:["Pull Output: ",a]}),f.length>0?e.jsx("div",{className:"status-box",children:f.map((O,U)=>e.jsx("div",{className:`status-line ${O.type}`,children:O.text},U))}):e.jsx("p",{children:"No pull output yet."}),g&&e.jsx("button",{className:"btn btn-danger",onClick:A,style:{marginTop:"16px"},children:"Cancel"})]})]})]})}function Oy(){const[n,t]=_.useState(!1),[r,s]=_.useState([]),[l,i]=_.useState(null),[o,a]=_.useState(!0),c=_.useRef(null);_.useEffect(()=>{Ie.getLibsVersion().then(i).catch(()=>{}).finally(()=>a(!1))},[]);const d=()=>{t(!0),s([]),i(null);const h=(p,m)=>{s(j=>[...j,{text:p,type:m}])};c.current=Ie.pullLibs(p=>{p.status&&h(p.status,"info"),(p.current||p.latest)&&i(p)},p=>{h(p,"error"),t(!1)},()=>{h("Libs update complete!","success"),t(!1)})},u=()=>{c.current&&(c.current(),c.current=null),t(!1),s(h=>[...h,{text:"Cancelled",type:"error"}])};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Pull/Update Libs"}),e.jsx("p",{children:"Download or update the Kronk libraries"})]}),e.jsxs("div",{className:"card",children:[o?e.jsx("p",{children:"Loading version info..."}):l?e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h4",{style:{marginBottom:"12px"},children:"Current Version"}),e.jsxs("div",{className:"model-meta",children:[l.arch&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Architecture"}),e.jsx("span",{children:l.arch})]}),l.os&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"OS"}),e.jsx("span",{children:l.os})]}),l.processor&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Processor"}),e.jsx("span",{children:l.processor})]}),l.current&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Installed Version"}),e.jsx("span",{children:l.current})]}),l.latest&&e.jsxs("div",{className:"model-meta-item",children:[e.jsx("label",{children:"Latest Version"}),e.jsx("span",{children:l.latest})]})]})]}):e.jsx("p",{style:{marginBottom:"24px",color:"var(--color-gray-600)"},children:"No libs installed yet."}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{className:"btn btn-primary",onClick:d,disabled:n,children:n?"Updating...":"Pull/Update Libs"}),n&&e.jsx("button",{className:"btn btn-danger",onClick:u,children:"Cancel"})]}),r.length>0&&e.jsx("div",{className:"status-box",children:r.map((h,p)=>e.jsx("div",{className:`status-line ${h.type}`,children:h.text},p))})]})]})}const Xi="kronk_token",Im=_.createContext(null);function Fy({children:n}){const[t,r]=_.useState(()=>localStorage.getItem(Xi)||"");_.useEffect(()=>{t?localStorage.setItem(Xi,t):localStorage.removeItem(Xi)},[t]);const s=_.useCallback(i=>{r(i)},[]),l=_.useCallback(()=>{r("")},[]);return e.jsx(Im.Provider,{value:{token:t,setToken:s,clearToken:l,hasToken:!!t},children:n})}function Pr(){const n=_.useContext(Im);if(!n)throw new Error("useToken must be used within a TokenProvider");return n}function By(){const{token:n}=Pr(),[t,r]=_.useState(null),[s,l]=_.useState(!1),[i,o]=_.useState(null),a=async()=>{if(n){l(!0),o(null);try{const c=await Ie.listKeys(n);r(c)}catch(c){o(c instanceof Error?c.message:"Failed to load keys"),r(null)}finally{l(!1)}}};return _.useEffect(()=>{n&&a()},[n]),e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Security Keys"}),e.jsx("p",{children:"List all security keys (requires admin token)"})]}),!n&&e.jsxs("div",{className:"alert alert-error",children:["No API token configured. ",e.jsx(Lt,{to:"/settings",children:"Configure your token in Settings"})]}),n&&e.jsx("div",{className:"card",children:e.jsx("button",{className:"btn btn-primary",onClick:a,disabled:s,children:s?"Loading...":"Refresh Keys"})}),i&&e.jsx("div",{className:"alert alert-error",children:i}),t&&e.jsx("div",{className:"card",children:e.jsx("div",{className:"table-container",children:t.length>0?e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Created"})]})}),e.jsx("tbody",{children:t.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:c.id}),e.jsx("td",{children:new Date(c.created).toLocaleString()})]},c.id))})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No keys found"}),e.jsx("p",{children:"Create a key to get started"})]})})})]})}function qy(){const{token:n}=Pr(),[t,r]=_.useState(!1),[s,l]=_.useState(null),[i,o]=_.useState(null),a=async c=>{if(c.preventDefault(),!!n){r(!0),l(null),o(null);try{const d=await Ie.createKey(n);o(d.id)}catch(d){l(d instanceof Error?d.message:"Failed to create key")}finally{r(!1)}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Create Security Key"}),e.jsx("p",{children:"Generate a new security key (requires admin token)"})]}),!n&&e.jsxs("div",{className:"alert alert-error",children:["No API token configured. ",e.jsx(Lt,{to:"/settings",children:"Configure your token in Settings"})]}),n&&e.jsx("div",{className:"card",children:e.jsx("form",{onSubmit:a,children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:t,children:t?"Creating...":"Create Key"})})}),s&&e.jsx("div",{className:"alert alert-error",children:s}),i&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"alert alert-success",children:"Key created successfully!"}),e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"New Key ID"}),e.jsx("div",{className:"token-display",children:i}),e.jsx("p",{style:{marginTop:"8px",fontSize:"13px",color:"var(--color-gray-600)"},children:"Store this key securely. It will not be shown again."})]})]})]})}function Ky(){const{token:n}=Pr(),[t,r]=_.useState(""),[s,l]=_.useState(!1),[i,o]=_.useState(null),[a,c]=_.useState(null),d=async u=>{if(u.preventDefault(),!(!n||!t.trim())){l(!0),o(null),c(null);try{await Ie.deleteKey(n,t.trim()),c(`Key "${t}" deleted successfully`),r("")}catch(h){o(h instanceof Error?h.message:"Failed to delete key")}finally{l(!1)}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Delete Security Key"}),e.jsx("p",{children:"Remove a security key (requires admin token)"})]}),!n&&e.jsxs("div",{className:"alert alert-error",children:["No API token configured. ",e.jsx(Lt,{to:"/settings",children:"Configure your token in Settings"})]}),n&&e.jsxs("div",{className:"card",children:[i&&e.jsx("div",{className:"alert alert-error",children:i}),a&&e.jsx("div",{className:"alert alert-success",children:a}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"keyId",children:"Key ID"}),e.jsx("input",{type:"text",id:"keyId",value:t,onChange:u=>r(u.target.value),placeholder:"Enter key ID to delete"})]}),e.jsx("button",{className:"btn btn-danger",type:"submit",disabled:s||!t.trim(),children:s?"Deleting...":"Delete Key"})]})]})]})}const oh=[{label:"/v1/chat/completions",value:"chat-completions"},{label:"/v1/embeddings",value:"embeddings"}],Uy=[{label:"Unlimited",value:"unlimited"},{label:"Per Day",value:"day"},{label:"Per Month",value:"month"},{label:"Per Year",value:"year"}],zy=()=>({enabled:!1,limit:1e3,window:"unlimited"});function Vy(){const{token:n}=Pr(),[t,r]=_.useState(!1),[s,l]=_.useState(()=>{const g={};return oh.forEach(x=>{g[x.value]=zy()}),g}),[i,o]=_.useState("24"),[a,c]=_.useState("h"),[d,u]=_.useState(!1),[h,p]=_.useState(null),[m,j]=_.useState(null),y=(g,x)=>{l(f=>({...f,[g]:{...f[g],...x}}))},N=async g=>{if(g.preventDefault(),!n)return;u(!0),p(null),j(null);const x=parseInt(i);let f;switch(a){case"h":f=x*60*60*1e9;break;case"d":f=x*24*60*60*1e9;break;case"M":f=x*30*24*60*60*1e9;break;case"y":f=x*365*24*60*60*1e9;break}const b={};Object.entries(s).forEach(([C,v])=>{v.enabled&&(b[C]={limit:v.window==="unlimited"?0:v.limit,window:v.window})});try{const C=await Ie.createToken(n,{admin:t,endpoints:b,duration:f});j(C.token)}catch(C){p(C instanceof Error?C.message:"Failed to create token")}finally{u(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Create Token"}),e.jsx("p",{children:"Generate a new authentication token"})]}),!n&&e.jsxs("div",{className:"alert alert-error",children:["No API token configured. ",e.jsx(Lt,{to:"/settings",children:"Configure your token in Settings"})]}),n&&e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:N,children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t,onChange:g=>r(g.target.checked)}),"Admin privileges"]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Endpoints & Rate Limits"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:oh.map(g=>{const x=s[g.value];return e.jsxs("div",{style:{padding:"12px",background:x.enabled?"rgba(240, 181, 49, 0.1)":"var(--color-gray-100)",borderRadius:"6px",border:x.enabled?"1px solid rgba(240, 181, 49, 0.3)":"1px solid transparent"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontWeight:500},children:[e.jsx("input",{type:"checkbox",checked:x.enabled,onChange:f=>y(g.value,{enabled:f.target.checked}),style:{marginRight:"8px"}}),g.label]}),x.enabled&&e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"10px",paddingLeft:"24px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{fontSize:"12px",color:"var(--color-gray-600)",display:"block",marginBottom:"4px"},children:"Rate Limit"}),e.jsx("select",{value:x.window,onChange:f=>y(g.value,{window:f.target.value}),style:{width:"100%"},children:Uy.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),x.window!=="unlimited"&&e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{fontSize:"12px",color:"var(--color-gray-600)",display:"block",marginBottom:"4px"},children:"Max Requests"}),e.jsx("input",{type:"number",value:x.limit,onChange:f=>y(g.value,{limit:parseInt(f.target.value)||0}),min:"1",style:{width:"100%"}})]})]})]},g.value)})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"duration",children:"Duration"}),e.jsx("input",{type:"number",id:"duration",value:i,onChange:g=>o(g.target.value),min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"durationUnit",children:"Unit"}),e.jsxs("select",{id:"durationUnit",value:a,onChange:g=>c(g.target.value),children:[e.jsx("option",{value:"h",children:"Hours"}),e.jsx("option",{value:"d",children:"Days"}),e.jsx("option",{value:"M",children:"Months"}),e.jsx("option",{value:"y",children:"Years"})]})]})]}),e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:d,children:d?"Creating...":"Create Token"})]})}),h&&e.jsx("div",{className:"alert alert-error",children:h}),m&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"alert alert-success",children:"Token created successfully!"}),e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsx("label",{style:{fontWeight:500,display:"block",marginBottom:"8px"},children:"Token"}),e.jsx("div",{className:"token-display",children:m}),e.jsx("p",{style:{marginTop:"8px",fontSize:"13px",color:"var(--color-gray-600)"},children:"Store this token securely. It will not be shown again."})]})]})]})}function Hy(){const{token:n,setToken:t,clearToken:r,hasToken:s}=Pr(),[l,i]=_.useState(n),[o,a]=_.useState(!1),[c,d]=_.useState(!1),u=p=>{p.preventDefault(),t(l.trim()),d(!0),setTimeout(()=>d(!1),2e3)},h=()=>{r(),i(""),d(!0),setTimeout(()=>d(!1),2e3)};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Settings"}),e.jsx("p",{children:"Configure your API token for authenticated requests"})]}),e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"apiToken",children:"API Token"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("input",{type:o?"text":"password",id:"apiToken",value:l,onChange:p=>i(p.target.value),placeholder:"Enter your KRONK_TOKEN",style:{flex:1}}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(!o),children:o?"Hide":"Show"})]}),e.jsx("p",{style:{fontSize:"12px",color:"var(--color-gray-600)",marginTop:"8px"},children:"This token will be stored in your browser and used for all API requests that require authentication."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Save Token"}),s&&e.jsx("button",{className:"btn btn-danger",type:"button",onClick:h,children:"Clear Token"})]})]})}),c&&e.jsx("div",{className:"alert alert-success",children:"Token settings saved"}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{style:{marginBottom:"12px",color:"var(--color-blue)"},children:"Token Status"}),e.jsx("p",{style:{color:s?"var(--color-success)":"var(--color-gray-600)"},children:s?" Token is configured":" No token configured"})]})]})}function Gy(n,t){const r={};return(n[n.length-1]===""?[...n,""]:n).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const $y=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Wy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qy={};function ah(n,t){return(Qy.jsx?Wy:$y).test(n)}const Yy=/[ \t\n\f\r]/g;function Xy(n){return typeof n=="object"?n.type==="text"?ch(n.value):!1:ch(n)}function ch(n){return n.replace(Yy,"")===""}class Os{constructor(t,r,s){this.normal=r,this.property=t,s&&(this.space=s)}}Os.prototype.normal={};Os.prototype.property={};Os.prototype.space=void 0;function Am(n,t){const r={},s={};for(const l of n)Object.assign(r,l.property),Object.assign(s,l.normal);return new Os(r,s,t)}function ua(n){return n.toLowerCase()}class tn{constructor(t,r){this.attribute=r,this.property=t}}tn.prototype.attribute="";tn.prototype.booleanish=!1;tn.prototype.boolean=!1;tn.prototype.commaOrSpaceSeparated=!1;tn.prototype.commaSeparated=!1;tn.prototype.defined=!1;tn.prototype.mustUseProperty=!1;tn.prototype.number=!1;tn.prototype.overloadedBoolean=!1;tn.prototype.property="";tn.prototype.spaceSeparated=!1;tn.prototype.space=void 0;let Jy=0;const Y=Gt(),Ne=Gt(),pa=Gt(),D=Gt(),de=Gt(),fr=Gt(),sn=Gt();function Gt(){return 2**++Jy}const ma=Object.freeze(Object.defineProperty({__proto__:null,boolean:Y,booleanish:Ne,commaOrSpaceSeparated:sn,commaSeparated:fr,number:D,overloadedBoolean:pa,spaceSeparated:de},Symbol.toStringTag,{value:"Module"})),Ji=Object.keys(ma);class bc extends tn{constructor(t,r,s,l){let i=-1;if(super(t,r),dh(this,"space",l),typeof s=="number")for(;++i<Ji.length;){const o=Ji[i];dh(this,Ji[i],(s&ma[o])===ma[o])}}}bc.prototype.defined=!0;function dh(n,t,r){r&&(n[t]=r)}function Ir(n){const t={},r={};for(const[s,l]of Object.entries(n.properties)){const i=new bc(s,n.transform(n.attributes||{},s),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(s)&&(i.mustUseProperty=!0),t[s]=i,r[ua(s)]=s,r[ua(i.attribute)]=s}return new Os(t,r,n.space)}const Mm=Ir({properties:{ariaActiveDescendant:null,ariaAtomic:Ne,ariaAutoComplete:null,ariaBusy:Ne,ariaChecked:Ne,ariaColCount:D,ariaColIndex:D,ariaColSpan:D,ariaControls:de,ariaCurrent:null,ariaDescribedBy:de,ariaDetails:null,ariaDisabled:Ne,ariaDropEffect:de,ariaErrorMessage:null,ariaExpanded:Ne,ariaFlowTo:de,ariaGrabbed:Ne,ariaHasPopup:null,ariaHidden:Ne,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:de,ariaLevel:D,ariaLive:null,ariaModal:Ne,ariaMultiLine:Ne,ariaMultiSelectable:Ne,ariaOrientation:null,ariaOwns:de,ariaPlaceholder:null,ariaPosInSet:D,ariaPressed:Ne,ariaReadOnly:Ne,ariaRelevant:null,ariaRequired:Ne,ariaRoleDescription:de,ariaRowCount:D,ariaRowIndex:D,ariaRowSpan:D,ariaSelected:Ne,ariaSetSize:D,ariaSort:null,ariaValueMax:D,ariaValueMin:D,ariaValueNow:D,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Lm(n,t){return t in n?n[t]:t}function Dm(n,t){return Lm(n,t.toLowerCase())}const Zy=Ir({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fr,acceptCharset:de,accessKey:de,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:de,autoFocus:Y,autoPlay:Y,blocking:de,capture:null,charSet:null,checked:Y,cite:null,className:de,cols:D,colSpan:null,content:null,contentEditable:Ne,controls:Y,controlsList:de,coords:D|fr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:pa,draggable:Ne,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:de,height:D,hidden:pa,high:D,href:null,hrefLang:null,htmlFor:de,httpEquiv:de,id:null,imageSizes:null,imageSrcSet:null,inert:Y,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:de,itemRef:de,itemScope:Y,itemType:de,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:D,manifest:null,max:null,maxLength:D,media:null,method:null,min:null,minLength:D,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:D,pattern:null,ping:de,placeholder:null,playsInline:Y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:de,required:Y,reversed:Y,rows:D,rowSpan:D,sandbox:de,scope:null,scoped:Y,seamless:Y,selected:Y,shadowRootClonable:Y,shadowRootDelegatesFocus:Y,shadowRootMode:null,shape:null,size:D,sizes:null,slot:null,span:D,spellCheck:Ne,src:null,srcDoc:null,srcLang:null,srcSet:null,start:D,step:null,style:null,tabIndex:D,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:Ne,width:D,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:de,axis:null,background:null,bgColor:null,border:D,borderColor:null,bottomMargin:D,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:D,leftMargin:D,link:null,longDesc:null,lowSrc:null,marginHeight:D,marginWidth:D,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:D,rules:null,scheme:null,scrolling:Ne,standby:null,summary:null,text:null,topMargin:D,valueType:null,version:null,vAlign:null,vLink:null,vSpace:D,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:D,security:null,unselectable:null},space:"html",transform:Dm}),ek=Ir({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:sn,accentHeight:D,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:D,amplitude:D,arabicForm:null,ascent:D,attributeName:null,attributeType:null,azimuth:D,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:D,by:null,calcMode:null,capHeight:D,className:de,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:D,diffuseConstant:D,direction:null,display:null,dur:null,divisor:D,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:D,enableBackground:null,end:null,event:null,exponent:D,externalResourcesRequired:null,fill:null,fillOpacity:D,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fr,g2:fr,glyphName:fr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:D,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:D,horizOriginX:D,horizOriginY:D,id:null,ideographic:D,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:D,k:D,k1:D,k2:D,k3:D,k4:D,kernelMatrix:sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:D,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:D,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:D,overlineThickness:D,paintOrder:null,panose1:null,path:null,pathLength:D,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:de,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:D,pointsAtY:D,pointsAtZ:D,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sn,rev:sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sn,requiredFeatures:sn,requiredFonts:sn,requiredFormats:sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:D,specularExponent:D,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:D,strikethroughThickness:D,string:null,stroke:null,strokeDashArray:sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:D,strokeOpacity:D,strokeWidth:null,style:null,surfaceScale:D,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sn,tabIndex:D,tableValues:null,target:null,targetX:D,targetY:D,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:D,underlineThickness:D,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:D,values:null,vAlphabetic:D,vMathematical:D,vectorEffect:null,vHanging:D,vIdeographic:D,version:null,vertAdvY:D,vertOriginX:D,vertOriginY:D,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:D,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Lm}),Om=Ir({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),Fm=Ir({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Dm}),Bm=Ir({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),nk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tk=/[A-Z]/g,hh=/-[a-z]/g,rk=/^data[-\w.:]+$/i;function sk(n,t){const r=ua(t);let s=t,l=tn;if(r in n.normal)return n.property[n.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&rk.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(hh,ik);s="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!hh.test(i)){let o=i.replace(tk,lk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}l=bc}return new l(s,t)}function lk(n){return"-"+n.toLowerCase()}function ik(n){return n.charAt(1).toUpperCase()}const ok=Am([Mm,Zy,Om,Fm,Bm],"html"),wc=Am([Mm,ek,Om,Fm,Bm],"svg");function ak(n){return n.join(" ").trim()}var Nc={},uh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ck=/\n/g,dk=/^\s*/,hk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,uk=/^:\s*/,pk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,mk=/^[;\s]*/,xk=/^\s+|\s+$/g,fk=`
`,ph="/",mh="*",Et="",gk="comment",jk="declaration";function yk(n,t){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];t=t||{};var r=1,s=1;function l(j){var y=j.match(ck);y&&(r+=y.length);var N=j.lastIndexOf(fk);s=~N?j.length-N:s+j.length}function i(){var j={line:r,column:s};return function(y){return y.position=new o(j),d(),y}}function o(j){this.start=j,this.end={line:r,column:s},this.source=t.source}o.prototype.content=n;function a(j){var y=new Error(t.source+":"+r+":"+s+": "+j);if(y.reason=j,y.filename=t.source,y.line=r,y.column=s,y.source=n,!t.silent)throw y}function c(j){var y=j.exec(n);if(y){var N=y[0];return l(N),n=n.slice(N.length),y}}function d(){c(dk)}function u(j){var y;for(j=j||[];y=h();)y!==!1&&j.push(y);return j}function h(){var j=i();if(!(ph!=n.charAt(0)||mh!=n.charAt(1))){for(var y=2;Et!=n.charAt(y)&&(mh!=n.charAt(y)||ph!=n.charAt(y+1));)++y;if(y+=2,Et===n.charAt(y-1))return a("End of comment missing");var N=n.slice(2,y-2);return s+=2,l(N),n=n.slice(y),s+=2,j({type:gk,comment:N})}}function p(){var j=i(),y=c(hk);if(y){if(h(),!c(uk))return a("property missing ':'");var N=c(pk),g=j({type:jk,property:xh(y[0].replace(uh,Et)),value:N?xh(N[0].replace(uh,Et)):Et});return c(mk),g}}function m(){var j=[];u(j);for(var y;y=p();)y!==!1&&(j.push(y),u(j));return j}return d(),m()}function xh(n){return n?n.replace(xk,Et):Et}var kk=yk,vk=gr&&gr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=wk;const bk=vk(kk);function wk(n,t){let r=null;if(!n||typeof n!="string")return r;const s=(0,bk.default)(n),l=typeof t=="function";return s.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:a}=i;l?t(o,a,i):a&&(r=r||{},r[o]=a)}),r}var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.camelCase=void 0;var Nk=/^--[a-zA-Z0-9_-]+$/,Sk=/-([a-z])/g,Ck=/^[^-]+$/,_k=/^-(webkit|moz|ms|o|khtml)-/,Tk=/^-(ms)-/,Ek=function(n){return!n||Ck.test(n)||Nk.test(n)},Rk=function(n,t){return t.toUpperCase()},fh=function(n,t){return"".concat(t,"-")},Pk=function(n,t){return t===void 0&&(t={}),Ek(n)?n:(n=n.toLowerCase(),t.reactCompat?n=n.replace(Tk,fh):n=n.replace(_k,fh),n.replace(Sk,Rk))};ji.camelCase=Pk;var Ik=gr&&gr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Ak=Ik(Nc),Mk=ji;function xa(n,t){var r={};return!n||typeof n!="string"||(0,Ak.default)(n,function(s,l){s&&l&&(r[(0,Mk.camelCase)(s,t)]=l)}),r}xa.default=xa;var Lk=xa;const Dk=Zl(Lk),qm=Km("end"),Sc=Km("start");function Km(n){return t;function t(r){const s=r&&r.position&&r.position[n]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function Ok(n){const t=Sc(n),r=qm(n);if(t&&r)return{start:t,end:r}}function os(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?gh(n.position):"start"in n||"end"in n?gh(n):"line"in n||"column"in n?fa(n):""}function fa(n){return jh(n&&n.line)+":"+jh(n&&n.column)}function gh(n){return fa(n&&n.start)+"-"+fa(n&&n.end)}function jh(n){return n&&typeof n=="number"?n:1}class Ke extends Error{constructor(t,r,s){super(),typeof r=="string"&&(s=r,r=void 0);let l="",i={},o=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?l=t:!i.cause&&t&&(o=!0,l=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?i.ruleId=s:(i.source=s.slice(0,c),i.ruleId=s.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=a?a.line:void 0,this.name=os(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ke.prototype.file="";Ke.prototype.name="";Ke.prototype.reason="";Ke.prototype.message="";Ke.prototype.stack="";Ke.prototype.column=void 0;Ke.prototype.line=void 0;Ke.prototype.ancestors=void 0;Ke.prototype.cause=void 0;Ke.prototype.fatal=void 0;Ke.prototype.place=void 0;Ke.prototype.ruleId=void 0;Ke.prototype.source=void 0;const Cc={}.hasOwnProperty,Fk=new Map,Bk=/[A-Z]/g,qk=new Set(["table","tbody","thead","tfoot","tr"]),Kk=new Set(["td","th"]),Um="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Uk(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Yk(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Qk(r,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?wc:ok,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=zm(l,n,void 0);return i&&typeof i!="string"?i:l.create(n,l.Fragment,{children:i||void 0},void 0)}function zm(n,t,r){if(t.type==="element")return zk(n,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Vk(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Gk(n,t,r);if(t.type==="mdxjsEsm")return Hk(n,t);if(t.type==="root")return $k(n,t,r);if(t.type==="text")return Wk(n,t)}function zk(n,t,r){const s=n.schema;let l=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(l=wc,n.schema=l),n.ancestors.push(t);const i=Hm(n,t.tagName,!1),o=Xk(n,t);let a=Tc(n,t);return qk.has(t.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!Xy(c):!0})),Vm(n,o,i,t),_c(o,a),n.ancestors.pop(),n.schema=s,n.create(t,i,o,r)}function Vk(n,t){if(t.data&&t.data.estree&&n.evaluater){const s=t.data.estree.body[0];return s.type,n.evaluater.evaluateExpression(s.expression)}Es(n,t.position)}function Hk(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Es(n,t.position)}function Gk(n,t,r){const s=n.schema;let l=s;t.name==="svg"&&s.space==="html"&&(l=wc,n.schema=l),n.ancestors.push(t);const i=t.name===null?n.Fragment:Hm(n,t.name,!0),o=Jk(n,t),a=Tc(n,t);return Vm(n,o,i,t),_c(o,a),n.ancestors.pop(),n.schema=s,n.create(t,i,o,r)}function $k(n,t,r){const s={};return _c(s,Tc(n,t)),n.create(t,n.Fragment,s,r)}function Wk(n,t){return t.value}function Vm(n,t,r,s){typeof r!="string"&&r!==n.Fragment&&n.passNode&&(t.node=s)}function _c(n,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(n.children=r)}}function Qk(n,t,r){return s;function s(l,i,o,a){const d=Array.isArray(o.children)?r:t;return a?d(i,o,a):d(i,o)}}function Yk(n,t){return r;function r(s,l,i,o){const a=Array.isArray(i.children),c=Sc(s);return t(l,i,o,a,{columnNumber:c?c.column-1:void 0,fileName:n,lineNumber:c?c.line:void 0},void 0)}}function Xk(n,t){const r={};let s,l;for(l in t.properties)if(l!=="children"&&Cc.call(t.properties,l)){const i=Zk(n,l,t.properties[l]);if(i){const[o,a]=i;n.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Kk.has(t.tagName)?s=a:r[o]=a}}if(s){const i=r.style||(r.style={});i[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return r}function Jk(n,t){const r={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&n.evaluater){const i=s.data.estree.body[0];i.type;const o=i.expression;o.type;const a=o.properties[0];a.type,Object.assign(r,n.evaluater.evaluateExpression(a.argument))}else Es(n,t.position);else{const l=s.name;let i;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&n.evaluater){const a=s.value.data.estree.body[0];a.type,i=n.evaluater.evaluateExpression(a.expression)}else Es(n,t.position);else i=s.value===null?!0:s.value;r[l]=i}return r}function Tc(n,t){const r=[];let s=-1;const l=n.passKeys?new Map:Fk;for(;++s<t.children.length;){const i=t.children[s];let o;if(n.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const d=l.get(c)||0;o=c+"-"+d,l.set(c,d+1)}}const a=zm(n,i,o);a!==void 0&&r.push(a)}return r}function Zk(n,t,r){const s=sk(n.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=s.commaSeparated?Gy(r):ak(r)),s.property==="style"){let l=typeof r=="object"?r:ev(n,String(r));return n.stylePropertyNameCase==="css"&&(l=nv(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&s.space?nk[s.property]||s.property:s.attribute,r]}}function ev(n,t){try{return Dk(t,{reactCompat:!0})}catch(r){if(n.ignoreInvalidStyle)return{};const s=r,l=new Ke("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=Um+"#cannot-parse-style-attribute",l}}function Hm(n,t,r){let s;if(!r)s={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let i=-1,o;for(;++i<l.length;){const a=ah(l[i])?{type:"Identifier",name:l[i]}:{type:"Literal",value:l[i]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}s=o}else s=ah(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const l=s.value;return Cc.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(s);Es(n)}function Es(n,t){const r=new Ke("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=Um+"#cannot-handle-mdx-estrees-without-createevaluater",r}function nv(n){const t={};let r;for(r in n)Cc.call(n,r)&&(t[tv(r)]=n[r]);return t}function tv(n){let t=n.replace(Bk,rv);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function rv(n){return"-"+n.toLowerCase()}const Zi={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sv={};function Ec(n,t){const r=sv,s=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,l=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Gm(n,s,l)}function Gm(n,t,r){if(lv(n)){if("value"in n)return n.type==="html"&&!r?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return yh(n.children,t,r)}return Array.isArray(n)?yh(n,t,r):""}function yh(n,t,r){const s=[];let l=-1;for(;++l<n.length;)s[l]=Gm(n[l],t,r);return s.join("")}function lv(n){return!!(n&&typeof n=="object")}const kh=document.createElement("i");function Rc(n){const t="&"+n+";";kh.innerHTML=t;const r=kh.textContent;return r.charCodeAt(r.length-1)===59&&n!=="semi"||r===t?!1:r}function cn(n,t,r,s){const l=n.length;let i=0,o;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,r=r>0?r:0,s.length<1e4)o=Array.from(s),o.unshift(t,r),n.splice(...o);else for(r&&n.splice(t,r);i<s.length;)o=s.slice(i,i+1e4),o.unshift(t,0),n.splice(...o),i+=1e4,t+=1e4}function xn(n,t){return n.length>0?(cn(n,n.length,0,t),n):t}const vh={}.hasOwnProperty;function $m(n){const t={};let r=-1;for(;++r<n.length;)iv(t,n[r]);return t}function iv(n,t){let r;for(r in t){const l=(vh.call(n,r)?n[r]:void 0)||(n[r]={}),i=t[r];let o;if(i)for(o in i){vh.call(l,o)||(l[o]=[]);const a=i[o];ov(l[o],Array.isArray(a)?a:a?[a]:[])}}}function ov(n,t){let r=-1;const s=[];for(;++r<t.length;)(t[r].add==="after"?n:s).push(t[r]);cn(n,0,0,s)}function Wm(n,t){const r=Number.parseInt(n,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function _n(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ve=wt(/[A-Za-z]/),Be=wt(/[\dA-Za-z]/),av=wt(/[#-'*+\--9=?A-Z^-~]/);function Ql(n){return n!==null&&(n<32||n===127)}const ga=wt(/\d/),cv=wt(/[\dA-Fa-f]/),dv=wt(/[!-/:-@[-`{-~]/);function V(n){return n!==null&&n<-2}function ce(n){return n!==null&&(n<0||n===32)}function Z(n){return n===-2||n===-1||n===32}const yi=wt(new RegExp("\\p{P}|\\p{S}","u")),Kt=wt(/\s/);function wt(n){return t;function t(r){return r!==null&&r>-1&&n.test(String.fromCharCode(r))}}function Ar(n){const t=[];let r=-1,s=0,l=0;for(;++r<n.length;){const i=n.charCodeAt(r);let o="";if(i===37&&Be(n.charCodeAt(r+1))&&Be(n.charCodeAt(r+2)))l=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const a=n.charCodeAt(r+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),l=1):o=""}else o=String.fromCharCode(i);o&&(t.push(n.slice(s,r),encodeURIComponent(o)),s=r+l+1,o=""),l&&(r+=l,l=0)}return t.join("")+n.slice(s)}function te(n,t,r,s){const l=s?s-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return Z(c)?(n.enter(r),a(c)):t(c)}function a(c){return Z(c)&&i++<l?(n.consume(c),a):(n.exit(r),t(c))}}const hv={tokenize:uv};function uv(n){const t=n.attempt(this.parser.constructs.contentInitial,s,l);let r;return t;function s(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),te(n,t,"linePrefix")}function l(a){return n.enter("paragraph"),i(a)}function i(a){const c=n.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return V(a)?(n.consume(a),n.exit("chunkText"),i):(n.consume(a),o)}}const pv={tokenize:mv},bh={tokenize:xv};function mv(n){const t=this,r=[];let s=0,l,i,o;return a;function a(f){if(s<r.length){const b=r[s];return t.containerState=b[1],n.attempt(b[0].continuation,c,d)(f)}return d(f)}function c(f){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&x();const b=t.events.length;let C=b,v;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){v=t.events[C][1].end;break}g(s);let R=b;for(;R<t.events.length;)t.events[R][1].end={...v},R++;return cn(t.events,C+1,0,t.events.slice(b)),t.events.length=R,d(f)}return a(f)}function d(f){if(s===r.length){if(!l)return p(f);if(l.currentConstruct&&l.currentConstruct.concrete)return j(f);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(bh,u,h)(f)}function u(f){return l&&x(),g(s),p(f)}function h(f){return t.parser.lazy[t.now().line]=s!==r.length,o=t.now().offset,j(f)}function p(f){return t.containerState={},n.attempt(bh,m,j)(f)}function m(f){return s++,r.push([t.currentConstruct,t.containerState]),p(f)}function j(f){if(f===null){l&&x(),g(0),n.consume(f);return}return l=l||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:i}),y(f)}function y(f){if(f===null){N(n.exit("chunkFlow"),!0),g(0),n.consume(f);return}return V(f)?(n.consume(f),N(n.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(n.consume(f),y)}function N(f,b){const C=t.sliceStream(f);if(b&&C.push(null),f.previous=i,i&&(i.next=f),i=f,l.defineSkip(f.start),l.write(C),t.parser.lazy[f.start.line]){let v=l.events.length;for(;v--;)if(l.events[v][1].start.offset<o&&(!l.events[v][1].end||l.events[v][1].end.offset>o))return;const R=t.events.length;let T=R,A,w;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(A){w=t.events[T][1].end;break}A=!0}for(g(s),v=R;v<t.events.length;)t.events[v][1].end={...w},v++;cn(t.events,T+1,0,t.events.slice(R)),t.events.length=v}}function g(f){let b=r.length;for(;b-- >f;){const C=r[b];t.containerState=C[1],C[0].exit.call(t,n)}r.length=f}function x(){l.write([null]),i=void 0,l=void 0,t.containerState._closeFlow=void 0}}function xv(n,t,r){return te(n,n.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Sr(n){if(n===null||ce(n)||Kt(n))return 1;if(yi(n))return 2}function ki(n,t,r){const s=[];let l=-1;for(;++l<n.length;){const i=n[l].resolveAll;i&&!s.includes(i)&&(t=i(t,r),s.push(i))}return t}const ja={name:"attention",resolveAll:fv,tokenize:gv};function fv(n,t){let r=-1,s,l,i,o,a,c,d,u;for(;++r<n.length;)if(n[r][0]==="enter"&&n[r][1].type==="attentionSequence"&&n[r][1]._close){for(s=r;s--;)if(n[s][0]==="exit"&&n[s][1].type==="attentionSequence"&&n[s][1]._open&&t.sliceSerialize(n[s][1]).charCodeAt(0)===t.sliceSerialize(n[r][1]).charCodeAt(0)){if((n[s][1]._close||n[r][1]._open)&&(n[r][1].end.offset-n[r][1].start.offset)%3&&!((n[s][1].end.offset-n[s][1].start.offset+n[r][1].end.offset-n[r][1].start.offset)%3))continue;c=n[s][1].end.offset-n[s][1].start.offset>1&&n[r][1].end.offset-n[r][1].start.offset>1?2:1;const h={...n[s][1].end},p={...n[r][1].start};wh(h,-c),wh(p,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...n[s][1].end}},a={type:c>1?"strongSequence":"emphasisSequence",start:{...n[r][1].start},end:p},i={type:c>1?"strongText":"emphasisText",start:{...n[s][1].end},end:{...n[r][1].start}},l={type:c>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},n[s][1].end={...o.start},n[r][1].start={...a.end},d=[],n[s][1].end.offset-n[s][1].start.offset&&(d=xn(d,[["enter",n[s][1],t],["exit",n[s][1],t]])),d=xn(d,[["enter",l,t],["enter",o,t],["exit",o,t],["enter",i,t]]),d=xn(d,ki(t.parser.constructs.insideSpan.null,n.slice(s+1,r),t)),d=xn(d,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",l,t]]),n[r][1].end.offset-n[r][1].start.offset?(u=2,d=xn(d,[["enter",n[r][1],t],["exit",n[r][1],t]])):u=0,cn(n,s-1,r-s+3,d),r=s+d.length-u-2;break}}for(r=-1;++r<n.length;)n[r][1].type==="attentionSequence"&&(n[r][1].type="data");return n}function gv(n,t){const r=this.parser.constructs.attentionMarkers.null,s=this.previous,l=Sr(s);let i;return o;function o(c){return i=c,n.enter("attentionSequence"),a(c)}function a(c){if(c===i)return n.consume(c),a;const d=n.exit("attentionSequence"),u=Sr(c),h=!u||u===2&&l||r.includes(c),p=!l||l===2&&u||r.includes(s);return d._open=!!(i===42?h:h&&(l||!p)),d._close=!!(i===42?p:p&&(u||!h)),t(c)}}function wh(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const jv={name:"autolink",tokenize:yv};function yv(n,t,r){let s=0;return l;function l(m){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(m){return Ve(m)?(n.consume(m),o):m===64?r(m):d(m)}function o(m){return m===43||m===45||m===46||Be(m)?(s=1,a(m)):d(m)}function a(m){return m===58?(n.consume(m),s=0,c):(m===43||m===45||m===46||Be(m))&&s++<32?(n.consume(m),a):(s=0,d(m))}function c(m){return m===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),t):m===null||m===32||m===60||Ql(m)?r(m):(n.consume(m),c)}function d(m){return m===64?(n.consume(m),u):av(m)?(n.consume(m),d):r(m)}function u(m){return Be(m)?h(m):r(m)}function h(m){return m===46?(n.consume(m),s=0,u):m===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),t):p(m)}function p(m){if((m===45||Be(m))&&s++<63){const j=m===45?p:h;return n.consume(m),j}return r(m)}}const Fs={partial:!0,tokenize:kv};function kv(n,t,r){return s;function s(i){return Z(i)?te(n,l,"linePrefix")(i):l(i)}function l(i){return i===null||V(i)?t(i):r(i)}}const Qm={continuation:{tokenize:bv},exit:wv,name:"blockQuote",tokenize:vv};function vv(n,t,r){const s=this;return l;function l(o){if(o===62){const a=s.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),i}return r(o)}function i(o){return Z(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(o))}}function bv(n,t,r){const s=this;return l;function l(o){return Z(o)?te(n,i,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return n.attempt(Qm,t,r)(o)}}function wv(n){n.exit("blockQuote")}const Ym={name:"characterEscape",tokenize:Nv};function Nv(n,t,r){return s;function s(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),l}function l(i){return dv(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):r(i)}}const Xm={name:"characterReference",tokenize:Sv};function Sv(n,t,r){const s=this;let l=0,i,o;return a;function a(h){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),c}function c(h){return h===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(h),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),i=31,o=Be,u(h))}function d(h){return h===88||h===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(h),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,o=cv,u):(n.enter("characterReferenceValue"),i=7,o=ga,u(h))}function u(h){if(h===59&&l){const p=n.exit("characterReferenceValue");return o===Be&&!Rc(s.sliceSerialize(p))?r(h):(n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return o(h)&&l++<i?(n.consume(h),u):r(h)}}const Nh={partial:!0,tokenize:_v},Sh={concrete:!0,name:"codeFenced",tokenize:Cv};function Cv(n,t,r){const s=this,l={partial:!0,tokenize:C};let i=0,o=0,a;return c;function c(v){return d(v)}function d(v){const R=s.events[s.events.length-1];return i=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=v,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),u(v)}function u(v){return v===a?(o++,n.consume(v),u):o<3?r(v):(n.exit("codeFencedFenceSequence"),Z(v)?te(n,h,"whitespace")(v):h(v))}function h(v){return v===null||V(v)?(n.exit("codeFencedFence"),s.interrupt?t(v):n.check(Nh,y,b)(v)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||V(v)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),h(v)):Z(v)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),te(n,m,"whitespace")(v)):v===96&&v===a?r(v):(n.consume(v),p)}function m(v){return v===null||V(v)?h(v):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),j(v))}function j(v){return v===null||V(v)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),h(v)):v===96&&v===a?r(v):(n.consume(v),j)}function y(v){return n.attempt(l,b,N)(v)}function N(v){return n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),g}function g(v){return i>0&&Z(v)?te(n,x,"linePrefix",i+1)(v):x(v)}function x(v){return v===null||V(v)?n.check(Nh,y,b)(v):(n.enter("codeFlowValue"),f(v))}function f(v){return v===null||V(v)?(n.exit("codeFlowValue"),x(v)):(n.consume(v),f)}function b(v){return n.exit("codeFenced"),t(v)}function C(v,R,T){let A=0;return w;function w(U){return v.enter("lineEnding"),v.consume(U),v.exit("lineEnding"),M}function M(U){return v.enter("codeFencedFence"),Z(U)?te(v,B,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):B(U)}function B(U){return U===a?(v.enter("codeFencedFenceSequence"),H(U)):T(U)}function H(U){return U===a?(A++,v.consume(U),H):A>=o?(v.exit("codeFencedFenceSequence"),Z(U)?te(v,O,"whitespace")(U):O(U)):T(U)}function O(U){return U===null||V(U)?(v.exit("codeFencedFence"),R(U)):T(U)}}}function _v(n,t,r){const s=this;return l;function l(o){return o===null?r(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i)}function i(o){return s.parser.lazy[s.now().line]?r(o):t(o)}}const eo={name:"codeIndented",tokenize:Ev},Tv={partial:!0,tokenize:Rv};function Ev(n,t,r){const s=this;return l;function l(d){return n.enter("codeIndented"),te(n,i,"linePrefix",5)(d)}function i(d){const u=s.events[s.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(d):r(d)}function o(d){return d===null?c(d):V(d)?n.attempt(Tv,o,c)(d):(n.enter("codeFlowValue"),a(d))}function a(d){return d===null||V(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),a)}function c(d){return n.exit("codeIndented"),t(d)}}function Rv(n,t,r){const s=this;return l;function l(o){return s.parser.lazy[s.now().line]?r(o):V(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),l):te(n,i,"linePrefix",5)(o)}function i(o){const a=s.events[s.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):V(o)?l(o):r(o)}}const Pv={name:"codeText",previous:Av,resolve:Iv,tokenize:Mv};function Iv(n){let t=n.length-4,r=3,s,l;if((n[r][1].type==="lineEnding"||n[r][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(s=r;++s<t;)if(n[s][1].type==="codeTextData"){n[r][1].type="codeTextPadding",n[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(s=r-1,t++;++s<=t;)l===void 0?s!==t&&n[s][1].type!=="lineEnding"&&(l=s):(s===t||n[s][1].type==="lineEnding")&&(n[l][1].type="codeTextData",s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),t-=s-l-2,s=l+2),l=void 0);return n}function Av(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Mv(n,t,r){let s=0,l,i;return o;function o(h){return n.enter("codeText"),n.enter("codeTextSequence"),a(h)}function a(h){return h===96?(n.consume(h),s++,a):(n.exit("codeTextSequence"),c(h))}function c(h){return h===null?r(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),c):h===96?(i=n.enter("codeTextSequence"),l=0,u(h)):V(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),c):(n.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||V(h)?(n.exit("codeTextData"),c(h)):(n.consume(h),d)}function u(h){return h===96?(n.consume(h),l++,u):l===s?(n.exit("codeTextSequence"),n.exit("codeText"),t(h)):(i.type="codeTextData",d(h))}}class Lv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const s=r??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,r,s){const l=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return s&&Hr(this.left,s),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Hr(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hr(this.left,r.reverse())}}}function Hr(n,t){let r=0;if(t.length<1e4)n.push(...t);else for(;r<t.length;)n.push(...t.slice(r,r+1e4)),r+=1e4}function Jm(n){const t={};let r=-1,s,l,i,o,a,c,d;const u=new Lv(n);for(;++r<u.length;){for(;r in t;)r=t[r];if(s=u.get(r),r&&s[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(c=s[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,Dv(u,r)),r=t[r],d=!0);else if(s[1]._container){for(i=r,l=void 0;i--;)if(o=u.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(l&&(u.get(l)[1].type="lineEndingBlank"),o[1].type="lineEnding",l=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;l&&(s[1].end={...u.get(l)[1].start},a=u.slice(l,r),a.unshift(s),u.splice(l,r-l+1,a))}}return cn(n,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function Dv(n,t){const r=n.get(t)[1],s=n.get(t)[2];let l=t-1;const i=[];let o=r._tokenizer;o||(o=s.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,c=[],d={};let u,h,p=-1,m=r,j=0,y=0;const N=[y];for(;m;){for(;n.get(++l)[1]!==m;);i.push(l),m._tokenizer||(u=s.sliceStream(m),m.next||u.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=r;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,N.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):N.pop(),p=N.length;p--;){const g=a.slice(N[p],N[p+1]),x=i.pop();c.push([x,x+g.length-1]),n.splice(x,2,g)}for(c.reverse(),p=-1;++p<c.length;)d[j+c[p][0]]=j+c[p][1],j+=c[p][1]-c[p][0]-1;return d}const Ov={resolve:Bv,tokenize:qv},Fv={partial:!0,tokenize:Kv};function Bv(n){return Jm(n),n}function qv(n,t){let r;return s;function s(a){return n.enter("content"),r=n.enter("chunkContent",{contentType:"content"}),l(a)}function l(a){return a===null?i(a):V(a)?n.check(Fv,o,i)(a):(n.consume(a),l)}function i(a){return n.exit("chunkContent"),n.exit("content"),t(a)}function o(a){return n.consume(a),n.exit("chunkContent"),r.next=n.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,l}}function Kv(n,t,r){const s=this;return l;function l(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),te(n,i,"linePrefix")}function i(o){if(o===null||V(o))return r(o);const a=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):n.interrupt(s.parser.constructs.flow,r,t)(o)}}function Zm(n,t,r,s,l,i,o,a,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return h;function h(g){return g===60?(n.enter(s),n.enter(l),n.enter(i),n.consume(g),n.exit(i),p):g===null||g===32||g===41||Ql(g)?r(g):(n.enter(s),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(n.enter(i),n.consume(g),n.exit(i),n.exit(l),n.exit(s),t):(n.enter(a),n.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(n.exit("chunkString"),n.exit(a),p(g)):g===null||g===60||V(g)?r(g):(n.consume(g),g===92?j:m)}function j(g){return g===60||g===62||g===92?(n.consume(g),m):m(g)}function y(g){return!u&&(g===null||g===41||ce(g))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(s),t(g)):u<d&&g===40?(n.consume(g),u++,y):g===41?(n.consume(g),u--,y):g===null||g===32||g===40||Ql(g)?r(g):(n.consume(g),g===92?N:y)}function N(g){return g===40||g===41||g===92?(n.consume(g),y):y(g)}}function ex(n,t,r,s,l,i){const o=this;let a=0,c;return d;function d(m){return n.enter(s),n.enter(l),n.consume(m),n.exit(l),n.enter(i),u}function u(m){return a>999||m===null||m===91||m===93&&!c||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?r(m):m===93?(n.exit(i),n.enter(l),n.consume(m),n.exit(l),n.exit(s),t):V(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),u):(n.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||V(m)||a++>999?(n.exit("chunkString"),u(m)):(n.consume(m),c||(c=!Z(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(n.consume(m),a++,h):h(m)}}function nx(n,t,r,s,l,i){let o;return a;function a(p){return p===34||p===39||p===40?(n.enter(s),n.enter(l),n.consume(p),n.exit(l),o=p===40?41:p,c):r(p)}function c(p){return p===o?(n.enter(l),n.consume(p),n.exit(l),n.exit(s),t):(n.enter(i),d(p))}function d(p){return p===o?(n.exit(i),c(o)):p===null?r(p):V(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),te(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||V(p)?(n.exit("chunkString"),d(p)):(n.consume(p),p===92?h:u)}function h(p){return p===o||p===92?(n.consume(p),u):u(p)}}function as(n,t){let r;return s;function s(l){return V(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r=!0,s):Z(l)?te(n,s,r?"linePrefix":"lineSuffix")(l):t(l)}}const Uv={name:"definition",tokenize:Vv},zv={partial:!0,tokenize:Hv};function Vv(n,t,r){const s=this;let l;return i;function i(m){return n.enter("definition"),o(m)}function o(m){return ex.call(s,n,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return l=_n(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),m===58?(n.enter("definitionMarker"),n.consume(m),n.exit("definitionMarker"),c):r(m)}function c(m){return ce(m)?as(n,d)(m):d(m)}function d(m){return Zm(n,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return n.attempt(zv,h,h)(m)}function h(m){return Z(m)?te(n,p,"whitespace")(m):p(m)}function p(m){return m===null||V(m)?(n.exit("definition"),s.parser.defined.push(l),t(m)):r(m)}}function Hv(n,t,r){return s;function s(a){return ce(a)?as(n,l)(a):r(a)}function l(a){return nx(n,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return Z(a)?te(n,o,"whitespace")(a):o(a)}function o(a){return a===null||V(a)?t(a):r(a)}}const Gv={name:"hardBreakEscape",tokenize:$v};function $v(n,t,r){return s;function s(i){return n.enter("hardBreakEscape"),n.consume(i),l}function l(i){return V(i)?(n.exit("hardBreakEscape"),t(i)):r(i)}}const Wv={name:"headingAtx",resolve:Qv,tokenize:Yv};function Qv(n,t){let r=n.length-2,s=3,l,i;return n[s][1].type==="whitespace"&&(s+=2),r-2>s&&n[r][1].type==="whitespace"&&(r-=2),n[r][1].type==="atxHeadingSequence"&&(s===r-1||r-4>s&&n[r-2][1].type==="whitespace")&&(r-=s+1===r?2:4),r>s&&(l={type:"atxHeadingText",start:n[s][1].start,end:n[r][1].end},i={type:"chunkText",start:n[s][1].start,end:n[r][1].end,contentType:"text"},cn(n,s,r-s+1,[["enter",l,t],["enter",i,t],["exit",i,t],["exit",l,t]])),n}function Yv(n,t,r){let s=0;return l;function l(u){return n.enter("atxHeading"),i(u)}function i(u){return n.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&s++<6?(n.consume(u),o):u===null||ce(u)?(n.exit("atxHeadingSequence"),a(u)):r(u)}function a(u){return u===35?(n.enter("atxHeadingSequence"),c(u)):u===null||V(u)?(n.exit("atxHeading"),t(u)):Z(u)?te(n,a,"whitespace")(u):(n.enter("atxHeadingText"),d(u))}function c(u){return u===35?(n.consume(u),c):(n.exit("atxHeadingSequence"),a(u))}function d(u){return u===null||u===35||ce(u)?(n.exit("atxHeadingText"),a(u)):(n.consume(u),d)}}const Xv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ch=["pre","script","style","textarea"],Jv={concrete:!0,name:"htmlFlow",resolveTo:nb,tokenize:tb},Zv={partial:!0,tokenize:sb},eb={partial:!0,tokenize:rb};function nb(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function tb(n,t,r){const s=this;let l,i,o,a,c;return d;function d(S){return u(S)}function u(S){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(S),h}function h(S){return S===33?(n.consume(S),p):S===47?(n.consume(S),i=!0,y):S===63?(n.consume(S),l=3,s.interrupt?t:k):Ve(S)?(n.consume(S),o=String.fromCharCode(S),N):r(S)}function p(S){return S===45?(n.consume(S),l=2,m):S===91?(n.consume(S),l=5,a=0,j):Ve(S)?(n.consume(S),l=4,s.interrupt?t:k):r(S)}function m(S){return S===45?(n.consume(S),s.interrupt?t:k):r(S)}function j(S){const re="CDATA[";return S===re.charCodeAt(a++)?(n.consume(S),a===re.length?s.interrupt?t:B:j):r(S)}function y(S){return Ve(S)?(n.consume(S),o=String.fromCharCode(S),N):r(S)}function N(S){if(S===null||S===47||S===62||ce(S)){const re=S===47,E=o.toLowerCase();return!re&&!i&&Ch.includes(E)?(l=1,s.interrupt?t(S):B(S)):Xv.includes(o.toLowerCase())?(l=6,re?(n.consume(S),g):s.interrupt?t(S):B(S)):(l=7,s.interrupt&&!s.parser.lazy[s.now().line]?r(S):i?x(S):f(S))}return S===45||Be(S)?(n.consume(S),o+=String.fromCharCode(S),N):r(S)}function g(S){return S===62?(n.consume(S),s.interrupt?t:B):r(S)}function x(S){return Z(S)?(n.consume(S),x):w(S)}function f(S){return S===47?(n.consume(S),w):S===58||S===95||Ve(S)?(n.consume(S),b):Z(S)?(n.consume(S),f):w(S)}function b(S){return S===45||S===46||S===58||S===95||Be(S)?(n.consume(S),b):C(S)}function C(S){return S===61?(n.consume(S),v):Z(S)?(n.consume(S),C):f(S)}function v(S){return S===null||S===60||S===61||S===62||S===96?r(S):S===34||S===39?(n.consume(S),c=S,R):Z(S)?(n.consume(S),v):T(S)}function R(S){return S===c?(n.consume(S),c=null,A):S===null||V(S)?r(S):(n.consume(S),R)}function T(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||ce(S)?C(S):(n.consume(S),T)}function A(S){return S===47||S===62||Z(S)?f(S):r(S)}function w(S){return S===62?(n.consume(S),M):r(S)}function M(S){return S===null||V(S)?B(S):Z(S)?(n.consume(S),M):r(S)}function B(S){return S===45&&l===2?(n.consume(S),ie):S===60&&l===1?(n.consume(S),G):S===62&&l===4?(n.consume(S),Q):S===63&&l===3?(n.consume(S),k):S===93&&l===5?(n.consume(S),q):V(S)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(Zv,$,H)(S)):S===null||V(S)?(n.exit("htmlFlowData"),H(S)):(n.consume(S),B)}function H(S){return n.check(eb,O,$)(S)}function O(S){return n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),U}function U(S){return S===null||V(S)?H(S):(n.enter("htmlFlowData"),B(S))}function ie(S){return S===45?(n.consume(S),k):B(S)}function G(S){return S===47?(n.consume(S),o="",P):B(S)}function P(S){if(S===62){const re=o.toLowerCase();return Ch.includes(re)?(n.consume(S),Q):B(S)}return Ve(S)&&o.length<8?(n.consume(S),o+=String.fromCharCode(S),P):B(S)}function q(S){return S===93?(n.consume(S),k):B(S)}function k(S){return S===62?(n.consume(S),Q):S===45&&l===2?(n.consume(S),k):B(S)}function Q(S){return S===null||V(S)?(n.exit("htmlFlowData"),$(S)):(n.consume(S),Q)}function $(S){return n.exit("htmlFlow"),t(S)}}function rb(n,t,r){const s=this;return l;function l(o){return V(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):r(o)}function i(o){return s.parser.lazy[s.now().line]?r(o):t(o)}}function sb(n,t,r){return s;function s(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(Fs,t,r)}}const lb={name:"htmlText",tokenize:ib};function ib(n,t,r){const s=this;let l,i,o;return a;function a(k){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(k),c}function c(k){return k===33?(n.consume(k),d):k===47?(n.consume(k),C):k===63?(n.consume(k),f):Ve(k)?(n.consume(k),T):r(k)}function d(k){return k===45?(n.consume(k),u):k===91?(n.consume(k),i=0,j):Ve(k)?(n.consume(k),x):r(k)}function u(k){return k===45?(n.consume(k),m):r(k)}function h(k){return k===null?r(k):k===45?(n.consume(k),p):V(k)?(o=h,G(k)):(n.consume(k),h)}function p(k){return k===45?(n.consume(k),m):h(k)}function m(k){return k===62?ie(k):k===45?p(k):h(k)}function j(k){const Q="CDATA[";return k===Q.charCodeAt(i++)?(n.consume(k),i===Q.length?y:j):r(k)}function y(k){return k===null?r(k):k===93?(n.consume(k),N):V(k)?(o=y,G(k)):(n.consume(k),y)}function N(k){return k===93?(n.consume(k),g):y(k)}function g(k){return k===62?ie(k):k===93?(n.consume(k),g):y(k)}function x(k){return k===null||k===62?ie(k):V(k)?(o=x,G(k)):(n.consume(k),x)}function f(k){return k===null?r(k):k===63?(n.consume(k),b):V(k)?(o=f,G(k)):(n.consume(k),f)}function b(k){return k===62?ie(k):f(k)}function C(k){return Ve(k)?(n.consume(k),v):r(k)}function v(k){return k===45||Be(k)?(n.consume(k),v):R(k)}function R(k){return V(k)?(o=R,G(k)):Z(k)?(n.consume(k),R):ie(k)}function T(k){return k===45||Be(k)?(n.consume(k),T):k===47||k===62||ce(k)?A(k):r(k)}function A(k){return k===47?(n.consume(k),ie):k===58||k===95||Ve(k)?(n.consume(k),w):V(k)?(o=A,G(k)):Z(k)?(n.consume(k),A):ie(k)}function w(k){return k===45||k===46||k===58||k===95||Be(k)?(n.consume(k),w):M(k)}function M(k){return k===61?(n.consume(k),B):V(k)?(o=M,G(k)):Z(k)?(n.consume(k),M):A(k)}function B(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(n.consume(k),l=k,H):V(k)?(o=B,G(k)):Z(k)?(n.consume(k),B):(n.consume(k),O)}function H(k){return k===l?(n.consume(k),l=void 0,U):k===null?r(k):V(k)?(o=H,G(k)):(n.consume(k),H)}function O(k){return k===null||k===34||k===39||k===60||k===61||k===96?r(k):k===47||k===62||ce(k)?A(k):(n.consume(k),O)}function U(k){return k===47||k===62||ce(k)?A(k):r(k)}function ie(k){return k===62?(n.consume(k),n.exit("htmlTextData"),n.exit("htmlText"),t):r(k)}function G(k){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),P}function P(k){return Z(k)?te(n,q,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):q(k)}function q(k){return n.enter("htmlTextData"),o(k)}}const Pc={name:"labelEnd",resolveAll:db,resolveTo:hb,tokenize:ub},ob={tokenize:pb},ab={tokenize:mb},cb={tokenize:xb};function db(n){let t=-1;const r=[];for(;++t<n.length;){const s=n[t][1];if(r.push(n[t]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const l=s.type==="labelImage"?4:2;s.type="data",t+=l}}return n.length!==r.length&&cn(n,0,n.length,r),n}function hb(n,t){let r=n.length,s=0,l,i,o,a;for(;r--;)if(l=n[r][1],i){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[r][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(o){if(n[r][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(i=r,l.type!=="labelLink")){s=2;break}}else l.type==="labelEnd"&&(o=r);const c={type:n[i][1].type==="labelLink"?"link":"image",start:{...n[i][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[i][1].start},end:{...n[o][1].end}},u={type:"labelText",start:{...n[i+s+2][1].end},end:{...n[o-2][1].start}};return a=[["enter",c,t],["enter",d,t]],a=xn(a,n.slice(i+1,i+s+3)),a=xn(a,[["enter",u,t]]),a=xn(a,ki(t.parser.constructs.insideSpan.null,n.slice(i+s+4,o-3),t)),a=xn(a,[["exit",u,t],n[o-2],n[o-1],["exit",d,t]]),a=xn(a,n.slice(o+1)),a=xn(a,[["exit",c,t]]),cn(n,i,n.length,a),n}function ub(n,t,r){const s=this;let l=s.events.length,i,o;for(;l--;)if((s.events[l][1].type==="labelImage"||s.events[l][1].type==="labelLink")&&!s.events[l][1]._balanced){i=s.events[l][1];break}return a;function a(p){return i?i._inactive?h(p):(o=s.parser.defined.includes(_n(s.sliceSerialize({start:i.end,end:s.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),c):r(p)}function c(p){return p===40?n.attempt(ob,u,o?u:h)(p):p===91?n.attempt(ab,u,o?d:h)(p):o?u(p):h(p)}function d(p){return n.attempt(cb,u,h)(p)}function u(p){return t(p)}function h(p){return i._balanced=!0,r(p)}}function pb(n,t,r){return s;function s(h){return n.enter("resource"),n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),l}function l(h){return ce(h)?as(n,i)(h):i(h)}function i(h){return h===41?u(h):Zm(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return ce(h)?as(n,c)(h):u(h)}function a(h){return r(h)}function c(h){return h===34||h===39||h===40?nx(n,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function d(h){return ce(h)?as(n,u)(h):u(h)}function u(h){return h===41?(n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),n.exit("resource"),t):r(h)}}function mb(n,t,r){const s=this;return l;function l(a){return ex.call(s,n,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return s.parser.defined.includes(_n(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(a):r(a)}function o(a){return r(a)}}function xb(n,t,r){return s;function s(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),l}function l(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),t):r(i)}}const fb={name:"labelStartImage",resolveAll:Pc.resolveAll,tokenize:gb};function gb(n,t,r){const s=this;return l;function l(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),i}function i(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):r(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(a):t(a)}}const jb={name:"labelStartLink",resolveAll:Pc.resolveAll,tokenize:yb};function yb(n,t,r){const s=this;return l;function l(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(o):t(o)}}const no={name:"lineEnding",tokenize:kb};function kb(n,t){return r;function r(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),te(n,t,"linePrefix")}}const bl={name:"thematicBreak",tokenize:vb};function vb(n,t,r){let s=0,l;return i;function i(d){return n.enter("thematicBreak"),o(d)}function o(d){return l=d,a(d)}function a(d){return d===l?(n.enter("thematicBreakSequence"),c(d)):s>=3&&(d===null||V(d))?(n.exit("thematicBreak"),t(d)):r(d)}function c(d){return d===l?(n.consume(d),s++,c):(n.exit("thematicBreakSequence"),Z(d)?te(n,a,"whitespace")(d):a(d))}}const Ye={continuation:{tokenize:Sb},exit:_b,name:"list",tokenize:Nb},bb={partial:!0,tokenize:Tb},wb={partial:!0,tokenize:Cb};function Nb(n,t,r){const s=this,l=s.events[s.events.length-1];let i=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,o=0;return a;function a(m){const j=s.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!s.containerState.marker||m===s.containerState.marker:ga(m)){if(s.containerState.type||(s.containerState.type=j,n.enter(j,{_container:!0})),j==="listUnordered")return n.enter("listItemPrefix"),m===42||m===45?n.check(bl,r,d)(m):d(m);if(!s.interrupt||m===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(m)}return r(m)}function c(m){return ga(m)&&++o<10?(n.consume(m),c):(!s.interrupt||o<2)&&(s.containerState.marker?m===s.containerState.marker:m===41||m===46)?(n.exit("listItemValue"),d(m)):r(m)}function d(m){return n.enter("listItemMarker"),n.consume(m),n.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||m,n.check(Fs,s.interrupt?r:u,n.attempt(bb,p,h))}function u(m){return s.containerState.initialBlankLine=!0,i++,p(m)}function h(m){return Z(m)?(n.enter("listItemPrefixWhitespace"),n.consume(m),n.exit("listItemPrefixWhitespace"),p):r(m)}function p(m){return s.containerState.size=i+s.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(m)}}function Sb(n,t,r){const s=this;return s.containerState._closeFlow=void 0,n.check(Fs,l,i);function l(a){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,te(n,t,"listItemIndent",s.containerState.size+1)(a)}function i(a){return s.containerState.furtherBlankLines||!Z(a)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,o(a)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,n.attempt(wb,t,o)(a))}function o(a){return s.containerState._closeFlow=!0,s.interrupt=void 0,te(n,n.attempt(Ye,t,r),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Cb(n,t,r){const s=this;return te(n,l,"listItemIndent",s.containerState.size+1);function l(i){const o=s.events[s.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===s.containerState.size?t(i):r(i)}}function _b(n){n.exit(this.containerState.type)}function Tb(n,t,r){const s=this;return te(n,l,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(i){const o=s.events[s.events.length-1];return!Z(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const _h={name:"setextUnderline",resolveTo:Eb,tokenize:Rb};function Eb(n,t){let r=n.length,s,l,i;for(;r--;)if(n[r][0]==="enter"){if(n[r][1].type==="content"){s=r;break}n[r][1].type==="paragraph"&&(l=r)}else n[r][1].type==="content"&&n.splice(r,1),!i&&n[r][1].type==="definition"&&(i=r);const o={type:"setextHeading",start:{...n[s][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",i?(n.splice(l,0,["enter",o,t]),n.splice(i+1,0,["exit",n[s][1],t]),n[s][1].end={...n[i][1].end}):n[s][1]=o,n.push(["exit",o,t]),n}function Rb(n,t,r){const s=this;let l;return i;function i(d){let u=s.events.length,h;for(;u--;)if(s.events[u][1].type!=="lineEnding"&&s.events[u][1].type!=="linePrefix"&&s.events[u][1].type!=="content"){h=s.events[u][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||h)?(n.enter("setextHeadingLine"),l=d,o(d)):r(d)}function o(d){return n.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===l?(n.consume(d),a):(n.exit("setextHeadingLineSequence"),Z(d)?te(n,c,"lineSuffix")(d):c(d))}function c(d){return d===null||V(d)?(n.exit("setextHeadingLine"),t(d)):r(d)}}const Pb={tokenize:Ib};function Ib(n){const t=this,r=n.attempt(Fs,s,n.attempt(this.parser.constructs.flowInitial,l,te(n,n.attempt(this.parser.constructs.flow,l,n.attempt(Ov,l)),"linePrefix")));return r;function s(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function l(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t.currentConstruct=void 0,r}}const Ab={resolveAll:rx()},Mb=tx("string"),Lb=tx("text");function tx(n){return{resolveAll:rx(n==="text"?Db:void 0),tokenize:t};function t(r){const s=this,l=this.parser.constructs[n],i=r.attempt(l,o,a);return o;function o(u){return d(u)?i(u):a(u)}function a(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),c}function c(u){return d(u)?(r.exit("data"),i(u)):(r.consume(u),c)}function d(u){if(u===null)return!0;const h=l[u];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(s,s.previous))return!0}return!1}}}function rx(n){return t;function t(r,s){let l=-1,i;for(;++l<=r.length;)i===void 0?r[l]&&r[l][1].type==="data"&&(i=l,l++):(!r[l]||r[l][1].type!=="data")&&(l!==i+2&&(r[i][1].end=r[l-1][1].end,r.splice(i+2,l-i-2),l=i+2),i=void 0);return n?n(r,s):r}}function Db(n,t){let r=0;for(;++r<=n.length;)if((r===n.length||n[r][1].type==="lineEnding")&&n[r-1][1].type==="data"){const s=n[r-1][1],l=t.sliceStream(s);let i=l.length,o=-1,a=0,c;for(;i--;){const d=l[i];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===n.length&&(a=0),a){const d={type:r===n.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:s.start._bufferIndex+o,_index:s.start._index+i,line:s.end.line,column:s.end.column-a,offset:s.end.offset-a},end:{...s.end}};s.end={...d.start},s.start.offset===s.end.offset?Object.assign(s,d):(n.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return n}const Ob={42:Ye,43:Ye,45:Ye,48:Ye,49:Ye,50:Ye,51:Ye,52:Ye,53:Ye,54:Ye,55:Ye,56:Ye,57:Ye,62:Qm},Fb={91:Uv},Bb={[-2]:eo,[-1]:eo,32:eo},qb={35:Wv,42:bl,45:[_h,bl],60:Jv,61:_h,95:bl,96:Sh,126:Sh},Kb={38:Xm,92:Ym},Ub={[-5]:no,[-4]:no,[-3]:no,33:fb,38:Xm,42:ja,60:[jv,lb],91:jb,92:[Gv,Ym],93:Pc,95:ja,96:Pv},zb={null:[ja,Ab]},Vb={null:[42,95]},Hb={null:[]},Gb=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Vb,contentInitial:Fb,disable:Hb,document:Ob,flow:qb,flowInitial:Bb,insideSpan:zb,string:Kb,text:Ub},Symbol.toStringTag,{value:"Module"}));function $b(n,t,r){let s={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const l={},i=[];let o=[],a=[];const c={attempt:R(C),check:R(v),consume:x,enter:f,exit:b,interrupt:R(v,{interrupt:!0})},d={code:null,containerState:{},defineSkip:y,events:[],now:j,parser:n,previous:null,sliceSerialize:p,sliceStream:m,write:h};let u=t.tokenize.call(d,c);return t.resolveAll&&i.push(t),d;function h(M){return o=xn(o,M),N(),o[o.length-1]!==null?[]:(T(t,0),d.events=ki(i,d.events,d),d.events)}function p(M,B){return Qb(m(M),B)}function m(M){return Wb(o,M)}function j(){const{_bufferIndex:M,_index:B,line:H,column:O,offset:U}=s;return{_bufferIndex:M,_index:B,line:H,column:O,offset:U}}function y(M){l[M.line]=M.column,w()}function N(){let M;for(;s._index<o.length;){const B=o[s._index];if(typeof B=="string")for(M=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===M&&s._bufferIndex<B.length;)g(B.charCodeAt(s._bufferIndex));else g(B)}}function g(M){u=u(M)}function x(M){V(M)?(s.line++,s.column=1,s.offset+=M===-3?2:1,w()):M!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===o[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=M}function f(M,B){const H=B||{};return H.type=M,H.start=j(),d.events.push(["enter",H,d]),a.push(H),H}function b(M){const B=a.pop();return B.end=j(),d.events.push(["exit",B,d]),B}function C(M,B){T(M,B.from)}function v(M,B){B.restore()}function R(M,B){return H;function H(O,U,ie){let G,P,q,k;return Array.isArray(O)?$(O):"tokenize"in O?$([O]):Q(O);function Q(z){return J;function J(ue){const We=ue!==null&&z[ue],Ue=ue!==null&&z.null,Qe=[...Array.isArray(We)?We:We?[We]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return $(Qe)(ue)}}function $(z){return G=z,P=0,z.length===0?ie:S(z[P])}function S(z){return J;function J(ue){return k=A(),q=z,z.partial||(d.currentConstruct=z),z.name&&d.parser.constructs.disable.null.includes(z.name)?E():z.tokenize.call(B?Object.assign(Object.create(d),B):d,c,re,E)(ue)}}function re(z){return M(q,k),U}function E(z){return k.restore(),++P<G.length?S(G[P]):ie}}}function T(M,B){M.resolveAll&&!i.includes(M)&&i.push(M),M.resolve&&cn(d.events,B,d.events.length-B,M.resolve(d.events.slice(B),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function A(){const M=j(),B=d.previous,H=d.currentConstruct,O=d.events.length,U=Array.from(a);return{from:O,restore:ie};function ie(){s=M,d.previous=B,d.currentConstruct=H,d.events.length=O,a=U,w()}}function w(){s.line in l&&s.column<2&&(s.column=l[s.line],s.offset+=l[s.line]-1)}}function Wb(n,t){const r=t.start._index,s=t.start._bufferIndex,l=t.end._index,i=t.end._bufferIndex;let o;if(r===l)o=[n[r].slice(s,i)];else{if(o=n.slice(r,l),s>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(s):o.shift()}i>0&&o.push(n[l].slice(0,i))}return o}function Qb(n,t){let r=-1;const s=[];let l;for(;++r<n.length;){const i=n[r];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&l)continue;o=" ";break}default:o=String.fromCharCode(i)}l=i===-2,s.push(o)}return s.join("")}function Yb(n){const s={constructs:$m([Gb,...(n||{}).extensions||[]]),content:l(hv),defined:[],document:l(pv),flow:l(Pb),lazy:{},string:l(Mb),text:l(Lb)};return s;function l(i){return o;function o(a){return $b(s,i,a)}}}function Xb(n){for(;!Jm(n););return n}const Th=/[\0\t\n\r]/g;function Jb(){let n=1,t="",r=!0,s;return l;function l(i,o,a){const c=[];let d,u,h,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",r&&(i.charCodeAt(0)===65279&&h++,r=void 0);h<i.length;){if(Th.lastIndex=h,d=Th.exec(i),p=d&&d.index!==void 0?d.index:i.length,m=i.charCodeAt(p),!d){t=i.slice(h);break}if(m===10&&h===p&&s)c.push(-3),s=void 0;else switch(s&&(c.push(-5),s=void 0),h<p&&(c.push(i.slice(h,p)),n+=p-h),m){case 0:{c.push(65533),n++;break}case 9:{for(u=Math.ceil(n/4)*4,c.push(-2);n++<u;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:s=!0,n=1}h=p+1}return a&&(s&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Zb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ew(n){return n.replace(Zb,nw)}function nw(n,t,r){if(t)return t;if(r.charCodeAt(0)===35){const l=r.charCodeAt(1),i=l===120||l===88;return Wm(r.slice(i?2:1),i?16:10)}return Rc(r)||n}const sx={}.hasOwnProperty;function tw(n,t,r){return typeof t!="string"&&(r=t,t=void 0),rw(r)(Xb(Yb(r).document().write(Jb()(n,t,!0))))}function rw(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ks),autolinkProtocol:A,autolinkEmail:A,atxHeading:i(En),blockQuote:i(Ue),characterEscape:A,characterReference:A,codeFenced:i(Qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Qe,o),codeText:i(Jn,o),codeTextData:A,data:A,codeFlowValue:A,definition:i(pe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Ee),hardBreakEscape:i(Rn),hardBreakTrailing:i(Rn),htmlFlow:i(Fn,o),htmlFlowData:A,htmlText:i(Fn,o),htmlTextData:A,image:i(qs),label:o,link:i(Ks),listItem:i(Ux),listItemValue:p,listOrdered:i($t,h),listUnordered:i($t),paragraph:i(zx),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(En),strong:i(Vx),thematicBreak:i(Gx)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:We,autolinkProtocol:ue,blockQuote:c(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:E,characterReferenceMarkerNumeric:E,characterReferenceValue:z,characterReference:J,codeFenced:c(N),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:j,codeFlowValue:w,codeIndented:c(g),codeText:c(U),codeTextData:w,data:w,definition:c(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:f,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(H),htmlFlowData:w,htmlText:c(O),htmlTextData:w,image:c(G),label:q,labelText:P,lineEnding:M,link:c(ie),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:re,resourceDestinationString:k,resourceTitleString:Q,resource:$,setextHeading:c(T),setextHeadingLineSequence:R,setextHeadingText:v,strong:c(),thematicBreak:c()}};lx(t,(n||{}).mdastExtensions||[]);const r={};return s;function s(I){let F={type:"root",children:[]};const W={stack:[F],tokenStack:[],config:t,enter:a,exit:d,buffer:o,resume:u,data:r},ne=[];let ae=-1;for(;++ae<I.length;)if(I[ae][1].type==="listOrdered"||I[ae][1].type==="listUnordered")if(I[ae][0]==="enter")ne.push(ae);else{const kn=ne.pop();ae=l(I,kn,ae)}for(ae=-1;++ae<I.length;){const kn=t[I[ae][0]];sx.call(kn,I[ae][1].type)&&kn[I[ae][1].type].call(Object.assign({sliceSerialize:I[ae][2].sliceSerialize},W),I[ae][1])}if(W.tokenStack.length>0){const kn=W.tokenStack[W.tokenStack.length-1];(kn[1]||Eh).call(W,void 0,kn[0])}for(F.position={start:et(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:et(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<t.transforms.length;)F=t.transforms[ae](F)||F;return F}function l(I,F,W){let ne=F-1,ae=-1,kn=!1,Nt,Bn,Mr,Lr;for(;++ne<=W;){const rn=I[ne];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?ae++:ae--,Lr=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(Nt&&!Lr&&!ae&&!Mr&&(Mr=ne),Lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lr=void 0}if(!ae&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||ae===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(Nt){let Wt=ne;for(Bn=void 0;Wt--;){const qn=I[Wt];if(qn[1].type==="lineEnding"||qn[1].type==="lineEndingBlank"){if(qn[0]==="exit")continue;Bn&&(I[Bn][1].type="lineEndingBlank",kn=!0),qn[1].type="lineEnding",Bn=Wt}else if(!(qn[1].type==="linePrefix"||qn[1].type==="blockQuotePrefix"||qn[1].type==="blockQuotePrefixWhitespace"||qn[1].type==="blockQuoteMarker"||qn[1].type==="listItemIndent"))break}Mr&&(!Bn||Mr<Bn)&&(Nt._spread=!0),Nt.end=Object.assign({},Bn?I[Bn][1].start:rn[1].end),I.splice(Bn||ne,0,["exit",Nt,rn[2]]),ne++,W++}if(rn[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};Nt=Wt,I.splice(ne,0,["enter",Wt,rn[2]]),ne++,W++,Mr=void 0,Lr=!0}}}return I[F][1]._spread=kn,W}function i(I,F){return W;function W(ne){a.call(this,I(ne),ne),F&&F.call(this,ne)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(I,F,W){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([F,W||void 0]),I.position={start:et(F.start),end:void 0}}function c(I){return F;function F(W){I&&I.call(this,W),d.call(this,W)}}function d(I,F){const W=this.stack.pop(),ne=this.tokenStack.pop();if(ne)ne[0].type!==I.type&&(F?F.call(this,I,ne[0]):(ne[1]||Eh).call(this,I,ne[0]));else throw new Error("Cannot close `"+I.type+"` ("+os({start:I.start,end:I.end})+"): its not open");W.position.end=et(I.end)}function u(){return Ec(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(I){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function m(){const I=this.resume(),F=this.stack[this.stack.length-1];F.lang=I}function j(){const I=this.resume(),F=this.stack[this.stack.length-1];F.meta=I}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const I=this.resume(),F=this.stack[this.stack.length-1];F.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const I=this.resume(),F=this.stack[this.stack.length-1];F.value=I.replace(/(\r?\n|\r)$/g,"")}function x(I){const F=this.resume(),W=this.stack[this.stack.length-1];W.label=F,W.identifier=_n(this.sliceSerialize(I)).toLowerCase()}function f(){const I=this.resume(),F=this.stack[this.stack.length-1];F.title=I}function b(){const I=this.resume(),F=this.stack[this.stack.length-1];F.url=I}function C(I){const F=this.stack[this.stack.length-1];if(!F.depth){const W=this.sliceSerialize(I).length;F.depth=W}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function R(I){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function A(I){const W=this.stack[this.stack.length-1].children;let ne=W[W.length-1];(!ne||ne.type!=="text")&&(ne=Hx(),ne.position={start:et(I.start),end:void 0},W.push(ne)),this.stack.push(ne)}function w(I){const F=this.stack.pop();F.value+=this.sliceSerialize(I),F.position.end=et(I.end)}function M(I){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const W=F.children[F.children.length-1];W.position.end=et(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(A.call(this,I),w.call(this,I))}function B(){this.data.atHardBreak=!0}function H(){const I=this.resume(),F=this.stack[this.stack.length-1];F.value=I}function O(){const I=this.resume(),F=this.stack[this.stack.length-1];F.value=I}function U(){const I=this.resume(),F=this.stack[this.stack.length-1];F.value=I}function ie(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=F,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function G(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=F,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function P(I){const F=this.sliceSerialize(I),W=this.stack[this.stack.length-2];W.label=ew(F),W.identifier=_n(F).toLowerCase()}function q(){const I=this.stack[this.stack.length-1],F=this.resume(),W=this.stack[this.stack.length-1];if(this.data.inReference=!0,W.type==="link"){const ne=I.children;W.children=ne}else W.alt=F}function k(){const I=this.resume(),F=this.stack[this.stack.length-1];F.url=I}function Q(){const I=this.resume(),F=this.stack[this.stack.length-1];F.title=I}function $(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function re(I){const F=this.resume(),W=this.stack[this.stack.length-1];W.label=F,W.identifier=_n(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function E(I){this.data.characterReferenceType=I.type}function z(I){const F=this.sliceSerialize(I),W=this.data.characterReferenceType;let ne;W?(ne=Wm(F,W==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ne=Rc(F);const ae=this.stack[this.stack.length-1];ae.value+=ne}function J(I){const F=this.stack.pop();F.position.end=et(I.end)}function ue(I){w.call(this,I);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(I)}function We(I){w.call(this,I);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(I)}function Ue(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function Jn(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function En(){return{type:"heading",depth:0,children:[]}}function Rn(){return{type:"break"}}function Fn(){return{type:"html",value:""}}function qs(){return{type:"image",title:null,url:"",alt:null}}function Ks(){return{type:"link",title:null,url:"",children:[]}}function $t(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function Ux(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function zx(){return{type:"paragraph",children:[]}}function Vx(){return{type:"strong",children:[]}}function Hx(){return{type:"text",value:""}}function Gx(){return{type:"thematicBreak"}}}function et(n){return{line:n.line,column:n.column,offset:n.offset}}function lx(n,t){let r=-1;for(;++r<t.length;){const s=t[r];Array.isArray(s)?lx(n,s):sw(n,s)}}function sw(n,t){let r;for(r in t)if(sx.call(t,r))switch(r){case"canContainEols":{const s=t[r];s&&n[r].push(...s);break}case"transforms":{const s=t[r];s&&n[r].push(...s);break}case"enter":case"exit":{const s=t[r];s&&Object.assign(n[r],s);break}}}function Eh(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+os({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+os({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+os({start:t.start,end:t.end})+") is still open")}function lw(n){const t=this;t.parser=r;function r(s){return tw(s,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function iw(n,t){const r={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,r),n.applyData(t,r)}function ow(n,t){const r={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,r),[n.applyData(t,r),{type:"text",value:`
`}]}function aw(n,t){const r=t.value?t.value+`
`:"",s={},l=t.lang?t.lang.split(/\s+/):[];l.length>0&&(s.className=["language-"+l[0]]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),n.patch(t,i),i=n.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},n.patch(t,i),i}function cw(n,t){const r={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function dw(n,t){const r={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function hw(n,t){const r=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),l=Ar(s.toLowerCase()),i=n.footnoteOrder.indexOf(s);let o,a=n.footnoteCounts.get(s);a===void 0?(a=0,n.footnoteOrder.push(s),o=n.footnoteOrder.length):o=i+1,a+=1,n.footnoteCounts.set(s,a);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+l,id:r+"fnref-"+l+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return n.patch(t,d),n.applyData(t,d)}function uw(n,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function pw(n,t){if(n.options.allowDangerousHtml){const r={type:"raw",value:t.value};return n.patch(t,r),n.applyData(t,r)}}function ix(n,t){const r=t.referenceType;let s="]";if(r==="collapsed"?s+="[]":r==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const l=n.all(t),i=l[0];i&&i.type==="text"?i.value="["+i.value:l.unshift({type:"text",value:"["});const o=l[l.length-1];return o&&o.type==="text"?o.value+=s:l.push({type:"text",value:s}),l}function mw(n,t){const r=String(t.identifier).toUpperCase(),s=n.definitionById.get(r);if(!s)return ix(n,t);const l={src:Ar(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(l.title=s.title);const i={type:"element",tagName:"img",properties:l,children:[]};return n.patch(t,i),n.applyData(t,i)}function xw(n,t){const r={src:Ar(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(t,s),n.applyData(t,s)}function fw(n,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,r);const s={type:"element",tagName:"code",properties:{},children:[r]};return n.patch(t,s),n.applyData(t,s)}function gw(n,t){const r=String(t.identifier).toUpperCase(),s=n.definitionById.get(r);if(!s)return ix(n,t);const l={href:Ar(s.url||"")};s.title!==null&&s.title!==void 0&&(l.title=s.title);const i={type:"element",tagName:"a",properties:l,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function jw(n,t){const r={href:Ar(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const s={type:"element",tagName:"a",properties:r,children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function yw(n,t,r){const s=n.all(t),l=r?kw(r):ox(t),i={},o=[];if(typeof t.checked=="boolean"){const u=s[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},s.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<s.length;){const u=s[a];(l||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!l?o.push(...u.children):o.push(u)}const c=s[s.length-1];c&&(l||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:o};return n.patch(t,d),n.applyData(t,d)}function kw(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const r=n.children;let s=-1;for(;!t&&++s<r.length;)t=ox(r[s])}return t}function ox(n){const t=n.spread;return t??n.children.length>1}function vw(n,t){const r={},s=n.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++l<s.length;){const o=s[l];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:n.wrap(s,!0)};return n.patch(t,i),n.applyData(t,i)}function bw(n,t){const r={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function ww(n,t){const r={type:"root",children:n.wrap(n.all(t))};return n.patch(t,r),n.applyData(t,r)}function Nw(n,t){const r={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function Sw(n,t){const r=n.all(t),s=r.shift(),l=[];if(s){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([s],!0)};n.patch(t.children[0],o),l.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(r,!0)},a=Sc(t.children[1]),c=qm(t.children[t.children.length-1]);a&&c&&(o.position={start:a,end:c}),l.push(o)}const i={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(t,i),n.applyData(t,i)}function Cw(n,t,r){const s=r?r.children:void 0,i=(s?s.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,a=o?o.length:t.children.length;let c=-1;const d=[];for(;++c<a;){const h=t.children[c],p={},m=o?o[c]:void 0;m&&(p.align=m);let j={type:"element",tagName:i,properties:p,children:[]};h&&(j.children=n.all(h),n.patch(h,j),j=n.applyData(h,j)),d.push(j)}const u={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(t,u),n.applyData(t,u)}function _w(n,t){const r={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}const Rh=9,Ph=32;function Tw(n){const t=String(n),r=/\r?\n|\r/g;let s=r.exec(t),l=0;const i=[];for(;s;)i.push(Ih(t.slice(l,s.index),l>0,!0),s[0]),l=s.index+s[0].length,s=r.exec(t);return i.push(Ih(t.slice(l),l>0,!1)),i.join("")}function Ih(n,t,r){let s=0,l=n.length;if(t){let i=n.codePointAt(s);for(;i===Rh||i===Ph;)s++,i=n.codePointAt(s)}if(r){let i=n.codePointAt(l-1);for(;i===Rh||i===Ph;)l--,i=n.codePointAt(l-1)}return l>s?n.slice(s,l):""}function Ew(n,t){const r={type:"text",value:Tw(String(t.value))};return n.patch(t,r),n.applyData(t,r)}function Rw(n,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,r),n.applyData(t,r)}const Pw={blockquote:iw,break:ow,code:aw,delete:cw,emphasis:dw,footnoteReference:hw,heading:uw,html:pw,imageReference:mw,image:xw,inlineCode:fw,linkReference:gw,link:jw,listItem:yw,list:vw,paragraph:bw,root:ww,strong:Nw,table:Sw,tableCell:_w,tableRow:Cw,text:Ew,thematicBreak:Rw,toml:ll,yaml:ll,definition:ll,footnoteDefinition:ll};function ll(){}const ax=-1,vi=0,cs=1,Yl=2,Ic=3,Ac=4,Mc=5,Lc=6,cx=7,dx=8,Ah=typeof self=="object"?self:globalThis,Iw=(n,t)=>{const r=(l,i)=>(n.set(i,l),l),s=l=>{if(n.has(l))return n.get(l);const[i,o]=t[l];switch(i){case vi:case ax:return r(o,l);case cs:{const a=r([],l);for(const c of o)a.push(s(c));return a}case Yl:{const a=r({},l);for(const[c,d]of o)a[s(c)]=s(d);return a}case Ic:return r(new Date(o),l);case Ac:{const{source:a,flags:c}=o;return r(new RegExp(a,c),l)}case Mc:{const a=r(new Map,l);for(const[c,d]of o)a.set(s(c),s(d));return a}case Lc:{const a=r(new Set,l);for(const c of o)a.add(s(c));return a}case cx:{const{name:a,message:c}=o;return r(new Ah[a](c),l)}case dx:return r(BigInt(o),l);case"BigInt":return r(Object(BigInt(o)),l);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return r(new DataView(a),o)}}return r(new Ah[i](o),l)};return s},Mh=n=>Iw(new Map,n)(0),Yt="",{toString:Aw}={},{keys:Mw}=Object,Gr=n=>{const t=typeof n;if(t!=="object"||!n)return[vi,t];const r=Aw.call(n).slice(8,-1);switch(r){case"Array":return[cs,Yt];case"Object":return[Yl,Yt];case"Date":return[Ic,Yt];case"RegExp":return[Ac,Yt];case"Map":return[Mc,Yt];case"Set":return[Lc,Yt];case"DataView":return[cs,r]}return r.includes("Array")?[cs,r]:r.includes("Error")?[cx,r]:[Yl,r]},il=([n,t])=>n===vi&&(t==="function"||t==="symbol"),Lw=(n,t,r,s)=>{const l=(o,a)=>{const c=s.push(o)-1;return r.set(a,c),c},i=o=>{if(r.has(o))return r.get(o);let[a,c]=Gr(o);switch(a){case vi:{let u=o;switch(c){case"bigint":a=dx,u=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return l([ax],o)}return l([a,u],o)}case cs:{if(c){let p=o;return c==="DataView"?p=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(o)),l([c,[...p]],o)}const u=[],h=l([a,u],o);for(const p of o)u.push(i(p));return h}case Yl:{if(c)switch(c){case"BigInt":return l([c,o.toString()],o);case"Boolean":case"Number":case"String":return l([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const u=[],h=l([a,u],o);for(const p of Mw(o))(n||!il(Gr(o[p])))&&u.push([i(p),i(o[p])]);return h}case Ic:return l([a,o.toISOString()],o);case Ac:{const{source:u,flags:h}=o;return l([a,{source:u,flags:h}],o)}case Mc:{const u=[],h=l([a,u],o);for(const[p,m]of o)(n||!(il(Gr(p))||il(Gr(m))))&&u.push([i(p),i(m)]);return h}case Lc:{const u=[],h=l([a,u],o);for(const p of o)(n||!il(Gr(p)))&&u.push(i(p));return h}}const{message:d}=o;return l([a,{name:c,message:d}],o)};return i},Lh=(n,{json:t,lossy:r}={})=>{const s=[];return Lw(!(t||r),!!t,new Map,s)(n),s},Xl=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?Mh(Lh(n,t)):structuredClone(n):(n,t)=>Mh(Lh(n,t));function Dw(n,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Ow(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function Fw(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=n.options.footnoteBackContent||Dw,s=n.options.footnoteBackLabel||Ow,l=n.options.footnoteLabel||"Footnotes",i=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[c]);if(!d)continue;const u=n.all(d),h=String(d.identifier).toUpperCase(),p=Ar(h.toLowerCase());let m=0;const j=[],y=n.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){j.length>0&&j.push({type:"text",value:" "});let x=typeof r=="string"?r:r(c,m);typeof x=="string"&&(x={type:"text",value:x}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const N=u[u.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const x=N.children[N.children.length-1];x&&x.type==="text"?x.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...j)}else u.push(...j);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:n.wrap(u,!0)};n.patch(d,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Xl(o),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(a,!0)},{type:"text",value:`
`}]}}const bi=function(n){if(n==null)return Uw;if(typeof n=="function")return wi(n);if(typeof n=="object")return Array.isArray(n)?Bw(n):qw(n);if(typeof n=="string")return Kw(n);throw new Error("Expected function, string, or object as test")};function Bw(n){const t=[];let r=-1;for(;++r<n.length;)t[r]=bi(n[r]);return wi(s);function s(...l){let i=-1;for(;++i<t.length;)if(t[i].apply(this,l))return!0;return!1}}function qw(n){const t=n;return wi(r);function r(s){const l=s;let i;for(i in n)if(l[i]!==t[i])return!1;return!0}}function Kw(n){return wi(t);function t(r){return r&&r.type===n}}function wi(n){return t;function t(r,s,l){return!!(zw(r)&&n.call(this,r,typeof s=="number"?s:void 0,l||void 0))}}function Uw(){return!0}function zw(n){return n!==null&&typeof n=="object"&&"type"in n}const hx=[],Vw=!0,ya=!1,Hw="skip";function ux(n,t,r,s){let l;typeof t=="function"&&typeof r!="function"?(s=r,r=t):l=t;const i=bi(l),o=s?-1:1;a(n,void 0,[])();function a(c,d,u){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=hx,j,y,N;if((!t||i(c,d,u[u.length-1]||void 0))&&(m=Gw(r(c,u)),m[0]===ya))return m;if("children"in c&&c.children){const g=c;if(g.children&&m[0]!==Hw)for(y=(s?g.children.length:-1)+o,N=u.concat(g);y>-1&&y<g.children.length;){const x=g.children[y];if(j=a(x,y,N)(),j[0]===ya)return j;y=typeof j[1]=="number"?j[1]:y+o}}return m}}}function Gw(n){return Array.isArray(n)?n:typeof n=="number"?[Vw,n]:n==null?hx:[n]}function Dc(n,t,r,s){let l,i,o;typeof t=="function"&&typeof r!="function"?(i=void 0,o=t,l=r):(i=t,o=r,l=s),ux(n,i,a,l);function a(c,d){const u=d[d.length-1],h=u?u.children.indexOf(c):void 0;return o(c,h,u)}}const ka={}.hasOwnProperty,$w={};function Ww(n,t){const r=t||$w,s=new Map,l=new Map,i=new Map,o={...Pw,...r.handlers},a={all:d,applyData:Yw,definitionById:s,footnoteById:l,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:r,patch:Qw,wrap:Jw};return Dc(n,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?s:l,p=String(u.identifier).toUpperCase();h.has(p)||h.set(p,u)}}),a;function c(u,h){const p=u.type,m=a.handlers[p];if(ka.call(a.handlers,p)&&m)return m(a,u,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in u){const{children:y,...N}=u,g=Xl(N);return g.children=a.all(u),g}return Xl(u)}return(a.options.unknownHandler||Xw)(a,u,h)}function d(u){const h=[];if("children"in u){const p=u.children;let m=-1;for(;++m<p.length;){const j=a.one(p[m],u);if(j){if(m&&p[m-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=Dh(j.value)),!Array.isArray(j)&&j.type==="element")){const y=j.children[0];y&&y.type==="text"&&(y.value=Dh(y.value))}Array.isArray(j)?h.push(...j):h.push(j)}}}return h}}function Qw(n,t){n.position&&(t.position=Ok(n))}function Yw(n,t){let r=t;if(n&&n.data){const s=n.data.hName,l=n.data.hChildren,i=n.data.hProperties;if(typeof s=="string")if(r.type==="element")r.tagName=s;else{const o="children"in r?r.children:[r];r={type:"element",tagName:s,properties:{},children:o}}r.type==="element"&&i&&Object.assign(r.properties,Xl(i)),"children"in r&&r.children&&l!==null&&l!==void 0&&(r.children=l)}return r}function Xw(n,t){const r=t.data||{},s="value"in t&&!(ka.call(r,"hProperties")||ka.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function Jw(n,t){const r=[];let s=-1;for(t&&r.push({type:"text",value:`
`});++s<n.length;)s&&r.push({type:"text",value:`
`}),r.push(n[s]);return t&&n.length>0&&r.push({type:"text",value:`
`}),r}function Dh(n){let t=0,r=n.charCodeAt(t);for(;r===9||r===32;)t++,r=n.charCodeAt(t);return n.slice(t)}function Oh(n,t){const r=Ww(n,t),s=r.one(n,void 0),l=Fw(r),i=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return l&&i.children.push({type:"text",value:`
`},l),i}function Zw(n,t){return n&&"run"in n?async function(r,s){const l=Oh(r,{file:s,...t});await n.run(l,s)}:function(r,s){return Oh(r,{file:s,...n||t})}}function Fh(n){if(n)throw n}var wl=Object.prototype.hasOwnProperty,px=Object.prototype.toString,Bh=Object.defineProperty,qh=Object.getOwnPropertyDescriptor,Kh=function(t){return typeof Array.isArray=="function"?Array.isArray(t):px.call(t)==="[object Array]"},Uh=function(t){if(!t||px.call(t)!=="[object Object]")return!1;var r=wl.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&wl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!s)return!1;var l;for(l in t);return typeof l>"u"||wl.call(t,l)},zh=function(t,r){Bh&&r.name==="__proto__"?Bh(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Vh=function(t,r){if(r==="__proto__")if(wl.call(t,r)){if(qh)return qh(t,r).value}else return;return t[r]},eN=function n(){var t,r,s,l,i,o,a=arguments[0],c=1,d=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<d;++c)if(t=arguments[c],t!=null)for(r in t)s=Vh(a,r),l=Vh(t,r),a!==l&&(u&&l&&(Uh(l)||(i=Kh(l)))?(i?(i=!1,o=s&&Kh(s)?s:[]):o=s&&Uh(s)?s:{},zh(a,{name:r,newValue:n(u,o,l)})):typeof l<"u"&&zh(a,{name:r,newValue:l}));return a};const to=Zl(eN);function va(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function nN(){const n=[],t={run:r,use:s};return t;function r(...l){let i=-1;const o=l.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...l);function a(c,...d){const u=n[++i];let h=-1;if(c){o(c);return}for(;++h<l.length;)(d[h]===null||d[h]===void 0)&&(d[h]=l[h]);l=d,u?tN(u,a)(...d):o(null,...d)}}function s(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),t}}function tN(n,t){let r;return s;function s(...o){const a=n.length>o.length;let c;a&&o.push(l);try{c=n.apply(this,o)}catch(d){const u=d;if(a&&r)throw u;return l(u)}a||(c&&c.then&&typeof c.then=="function"?c.then(i,l):c instanceof Error?l(c):i(c))}function l(o,...a){r||(r=!0,t(o,...a))}function i(o){l(null,o)}}const An={basename:rN,dirname:sN,extname:lN,join:iN,sep:"/"};function rN(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Bs(n);let r=0,s=-1,l=n.length,i;if(t===void 0||t.length===0||t.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(i){r=l+1;break}}else s<0&&(i=!0,s=l+1);return s<0?"":n.slice(r,s)}if(t===n)return"";let o=-1,a=t.length-1;for(;l--;)if(n.codePointAt(l)===47){if(i){r=l+1;break}}else o<0&&(i=!0,o=l+1),a>-1&&(n.codePointAt(l)===t.codePointAt(a--)?a<0&&(s=l):(a=-1,s=o));return r===s?s=o:s<0&&(s=n.length),n.slice(r,s)}function sN(n){if(Bs(n),n.length===0)return".";let t=-1,r=n.length,s;for(;--r;)if(n.codePointAt(r)===47){if(s){t=r;break}}else s||(s=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function lN(n){Bs(n);let t=n.length,r=-1,s=0,l=-1,i=0,o;for(;t--;){const a=n.codePointAt(t);if(a===47){if(o){s=t+1;break}continue}r<0&&(o=!0,r=t+1),a===46?l<0?l=t:i!==1&&(i=1):l>-1&&(i=-1)}return l<0||r<0||i===0||i===1&&l===r-1&&l===s+1?"":n.slice(l,r)}function iN(...n){let t=-1,r;for(;++t<n.length;)Bs(n[t]),n[t]&&(r=r===void 0?n[t]:r+"/"+n[t]);return r===void 0?".":oN(r)}function oN(n){Bs(n);const t=n.codePointAt(0)===47;let r=aN(n,!t);return r.length===0&&!t&&(r="."),r.length>0&&n.codePointAt(n.length-1)===47&&(r+="/"),t?"/"+r:r}function aN(n,t){let r="",s=0,l=-1,i=0,o=-1,a,c;for(;++o<=n.length;){if(o<n.length)a=n.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(l===o-1||i===1))if(l!==o-1&&i===2){if(r.length<2||s!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",s=0):(r=r.slice(0,c),s=r.length-1-r.lastIndexOf("/")),l=o,i=0;continue}}else if(r.length>0){r="",s=0,l=o,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+n.slice(l+1,o):r=n.slice(l+1,o),s=o-l-1;l=o,i=0}else a===46&&i>-1?i++:i=-1}return r}function Bs(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const cN={cwd:dN};function dN(){return"/"}function ba(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function hN(n){if(typeof n=="string")n=new URL(n);else if(!ba(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uN(n)}function uN(n){if(n.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=n.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const s=t.codePointAt(r+2);if(s===70||s===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const ro=["history","path","basename","stem","extname","dirname"];class mx{constructor(t){let r;t?ba(t)?r={path:t}:typeof t=="string"||pN(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":cN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<ro.length;){const i=ro[s];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let l;for(l in r)ro.includes(l)||(this[l]=r[l])}get basename(){return typeof this.path=="string"?An.basename(this.path):void 0}set basename(t){lo(t,"basename"),so(t,"basename"),this.path=An.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?An.dirname(this.path):void 0}set dirname(t){Hh(this.basename,"dirname"),this.path=An.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?An.extname(this.path):void 0}set extname(t){if(so(t,"extname"),Hh(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=An.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ba(t)&&(t=hN(t)),lo(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?An.basename(this.path,this.extname):void 0}set stem(t){lo(t,"stem"),so(t,"stem"),this.path=An.join(this.dirname||"",t+(this.extname||""))}fail(t,r,s){const l=this.message(t,r,s);throw l.fatal=!0,l}info(t,r,s){const l=this.message(t,r,s);return l.fatal=void 0,l}message(t,r,s){const l=new Ke(t,r,s);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function so(n,t){if(n&&n.includes(An.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+An.sep+"`")}function lo(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function Hh(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pN(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const mN=function(n){const s=this.constructor.prototype,l=s[n],i=function(){return l.apply(i,arguments)};return Object.setPrototypeOf(i,s),i},xN={}.hasOwnProperty;class Oc extends mN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nN()}copy(){const t=new Oc;let r=-1;for(;++r<this.attachers.length;){const s=this.attachers[r];t.use(...s)}return t.data(to(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ao("data",this.frozen),this.namespace[t]=r,this):xN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ao("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const l=r.call(t,...s);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=ol(t),s=this.parser||this.Parser;return io("parse",s),s(String(r),r)}process(t,r){const s=this;return this.freeze(),io("process",this.parser||this.Parser),oo("process",this.compiler||this.Compiler),r?l(void 0,r):new Promise(l);function l(i,o){const a=ol(t),c=s.parse(a);s.run(c,a,function(u,h,p){if(u||!h||!p)return d(u);const m=h,j=s.stringify(m,p);jN(j)?p.value=j:p.result=j,d(u,p)});function d(u,h){u||!h?o(u):i?i(h):r(void 0,h)}}}processSync(t){let r=!1,s;return this.freeze(),io("processSync",this.parser||this.Parser),oo("processSync",this.compiler||this.Compiler),this.process(t,l),$h("processSync","process",r),s;function l(i,o){r=!0,Fh(i),s=o}}run(t,r,s){Gh(t),this.freeze();const l=this.transformers;return!s&&typeof r=="function"&&(s=r,r=void 0),s?i(void 0,s):new Promise(i);function i(o,a){const c=ol(r);l.run(t,c,d);function d(u,h,p){const m=h||t;u?a(u):o?o(m):s(void 0,m,p)}}}runSync(t,r){let s=!1,l;return this.run(t,r,i),$h("runSync","run",s),l;function i(o,a){Fh(o),l=a,s=!0}}stringify(t,r){this.freeze();const s=ol(r),l=this.compiler||this.Compiler;return oo("stringify",l),Gh(t),l(t,s)}use(t,...r){const s=this.attachers,l=this.namespace;if(ao("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...h]=d;c(u,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(l.settings=to(!0,l.settings,d.settings))}function a(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const h=d[u];i(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let h=-1,p=-1;for(;++h<s.length;)if(s[h][0]===d){p=h;break}if(p===-1)s.push([d,...u]);else if(u.length>0){let[m,...j]=u;const y=s[p][1];va(y)&&va(m)&&(m=to(!0,y,m)),s[p]=[d,m,...j]}}}}const fN=new Oc().freeze();function io(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function oo(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function ao(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gh(n){if(!va(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function $h(n,t,r){if(!r)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function ol(n){return gN(n)?n:new mx(n)}function gN(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function jN(n){return typeof n=="string"||yN(n)}function yN(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const kN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wh=[],Qh={allowDangerousHtml:!0},vN=/^(https?|ircs?|mailto|xmpp)$/i,bN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wN(n){const t=NN(n),r=SN(n);return CN(t.runSync(t.parse(r),r),n)}function NN(n){const t=n.rehypePlugins||Wh,r=n.remarkPlugins||Wh,s=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Qh}:Qh;return fN().use(lw).use(r).use(Zw,s).use(t)}function SN(n){const t=n.children||"",r=new mx;return typeof t=="string"&&(r.value=t),r}function CN(n,t){const r=t.allowedElements,s=t.allowElement,l=t.components,i=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,c=t.urlTransform||_N;for(const u of bN)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+kN+u.id,void 0);return Dc(n,d),Uk(n,{Fragment:e.Fragment,components:l,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function d(u,h,p){if(u.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let m;for(m in Zi)if(Object.hasOwn(Zi,m)&&Object.hasOwn(u.properties,m)){const j=u.properties[m],y=Zi[m];(y===null||y.includes(u.tagName))&&(u.properties[m]=c(String(j||""),m,u))}}if(u.type==="element"){let m=r?!r.includes(u.tagName):i?i.includes(u.tagName):!1;if(!m&&s&&typeof h=="number"&&(m=!s(u,h,p)),m&&p&&typeof h=="number")return a&&u.children?p.children.splice(h,1,...u.children):p.children.splice(h,1),h}}}function _N(n){const t=n.indexOf(":"),r=n.indexOf("?"),s=n.indexOf("#"),l=n.indexOf("/");return t===-1||l!==-1&&t>l||r!==-1&&t>r||s!==-1&&t>s||vN.test(n.slice(0,t))?n:""}function Yh(n,t){const r=String(n);if(typeof t!="string")throw new TypeError("Expected character");let s=0,l=r.indexOf(t);for(;l!==-1;)s++,l=r.indexOf(t,l+t.length);return s}function TN(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function EN(n,t,r){const l=bi((r||{}).ignore||[]),i=RN(t);let o=-1;for(;++o<i.length;)ux(n,"text",a);function a(d,u){let h=-1,p;for(;++h<u.length;){const m=u[h],j=p?p.children:void 0;if(l(m,j?j.indexOf(m):void 0,p))return;p=m}if(p)return c(d,u)}function c(d,u){const h=u[u.length-1],p=i[o][0],m=i[o][1];let j=0;const N=h.children.indexOf(d);let g=!1,x=[];p.lastIndex=0;let f=p.exec(d.value);for(;f;){const b=f.index,C={index:f.index,input:f.input,stack:[...u,d]};let v=m(...f,C);if(typeof v=="string"&&(v=v.length>0?{type:"text",value:v}:void 0),v===!1?p.lastIndex=b+1:(j!==b&&x.push({type:"text",value:d.value.slice(j,b)}),Array.isArray(v)?x.push(...v):v&&x.push(v),j=b+f[0].length,g=!0),!p.global)break;f=p.exec(d.value)}return g?(j<d.value.length&&x.push({type:"text",value:d.value.slice(j)}),h.children.splice(N,1,...x)):x=[d],N+x.length}}function RN(n){const t=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!n[0]||Array.isArray(n[0])?n:[n];let s=-1;for(;++s<r.length;){const l=r[s];t.push([PN(l[0]),IN(l[1])])}return t}function PN(n){return typeof n=="string"?new RegExp(TN(n),"g"):n}function IN(n){return typeof n=="function"?n:function(){return n}}const co="phrasing",ho=["autolink","link","image","label"];function AN(){return{transforms:[qN],enter:{literalAutolink:LN,literalAutolinkEmail:uo,literalAutolinkHttp:uo,literalAutolinkWww:uo},exit:{literalAutolink:BN,literalAutolinkEmail:FN,literalAutolinkHttp:DN,literalAutolinkWww:ON}}}function MN(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:co,notInConstruct:ho},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:co,notInConstruct:ho},{character:":",before:"[ps]",after:"\\/",inConstruct:co,notInConstruct:ho}]}}function LN(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function uo(n){this.config.enter.autolinkProtocol.call(this,n)}function DN(n){this.config.exit.autolinkProtocol.call(this,n)}function ON(n){this.config.exit.data.call(this,n);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(n)}function FN(n){this.config.exit.autolinkEmail.call(this,n)}function BN(n){this.exit(n)}function qN(n){EN(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KN],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),UN]],{ignore:["link","linkReference"]})}function KN(n,t,r,s,l){let i="";if(!xx(l)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!zN(r)))return!1;const o=VN(r+s);if(!o[0])return!1;const a={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function UN(n,t,r,s){return!xx(s,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function zN(n){const t=n.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function VN(n){const t=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!t)return[n,void 0];n=n.slice(0,t.index);let r=t[0],s=r.indexOf(")");const l=Yh(n,"(");let i=Yh(n,")");for(;s!==-1&&l>i;)n+=r.slice(0,s+1),r=r.slice(s+1),s=r.indexOf(")"),i++;return[n,r]}function xx(n,t){const r=n.input.charCodeAt(n.index-1);return(n.index===0||Kt(r)||yi(r))&&(!t||r!==47)}fx.peek=ZN;function HN(){this.buffer()}function GN(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function $N(){this.buffer()}function WN(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function QN(n){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=_n(this.sliceSerialize(n)).toLowerCase(),r.label=t}function YN(n){this.exit(n)}function XN(n){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=_n(this.sliceSerialize(n)).toLowerCase(),r.label=t}function JN(n){this.exit(n)}function ZN(){return"["}function fx(n,t,r,s){const l=r.createTracker(s);let i=l.move("[^");const o=r.enter("footnoteReference"),a=r.enter("reference");return i+=l.move(r.safe(r.associationId(n),{after:"]",before:i})),a(),o(),i+=l.move("]"),i}function e0(){return{enter:{gfmFootnoteCallString:HN,gfmFootnoteCall:GN,gfmFootnoteDefinitionLabelString:$N,gfmFootnoteDefinition:WN},exit:{gfmFootnoteCallString:QN,gfmFootnoteCall:YN,gfmFootnoteDefinitionLabelString:XN,gfmFootnoteDefinition:JN}}}function n0(n){let t=!1;return n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:fx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(s,l,i,o){const a=i.createTracker(o);let c=a.move("[^");const d=i.enter("footnoteDefinition"),u=i.enter("label");return c+=a.move(i.safe(i.associationId(s),{before:c,after:"]"})),u(),c+=a.move("]:"),s.children&&s.children.length>0&&(a.shift(4),c+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(s,a.current()),t?gx:t0))),d(),c}}function t0(n,t,r){return t===0?n:gx(n,t,r)}function gx(n,t,r){return(r?"":"    ")+n}const r0=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jx.peek=a0;function s0(){return{canContainEols:["delete"],enter:{strikethrough:i0},exit:{strikethrough:o0}}}function l0(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:r0}],handlers:{delete:jx}}}function i0(n){this.enter({type:"delete",children:[]},n)}function o0(n){this.exit(n)}function jx(n,t,r,s){const l=r.createTracker(s),i=r.enter("strikethrough");let o=l.move("~~");return o+=r.containerPhrasing(n,{...l.current(),before:o,after:"~"}),o+=l.move("~~"),i(),o}function a0(){return"~"}function c0(n){return n.length}function d0(n,t){const r=t||{},s=(r.align||[]).concat(),l=r.stringLength||c0,i=[],o=[],a=[],c=[];let d=0,u=-1;for(;++u<n.length;){const y=[],N=[];let g=-1;for(n[u].length>d&&(d=n[u].length);++g<n[u].length;){const x=h0(n[u][g]);if(r.alignDelimiters!==!1){const f=l(x);N[g]=f,(c[g]===void 0||f>c[g])&&(c[g]=f)}y.push(x)}o[u]=y,a[u]=N}let h=-1;if(typeof s=="object"&&"length"in s)for(;++h<d;)i[h]=Xh(s[h]);else{const y=Xh(s);for(;++h<d;)i[h]=y}h=-1;const p=[],m=[];for(;++h<d;){const y=i[h];let N="",g="";y===99?(N=":",g=":"):y===108?N=":":y===114&&(g=":");let x=r.alignDelimiters===!1?1:Math.max(1,c[h]-N.length-g.length);const f=N+"-".repeat(x)+g;r.alignDelimiters!==!1&&(x=N.length+x+g.length,x>c[h]&&(c[h]=x),m[h]=x),p[h]=f}o.splice(1,0,p),a.splice(1,0,m),u=-1;const j=[];for(;++u<o.length;){const y=o[u],N=a[u];h=-1;const g=[];for(;++h<d;){const x=y[h]||"";let f="",b="";if(r.alignDelimiters!==!1){const C=c[h]-(N[h]||0),v=i[h];v===114?f=" ".repeat(C):v===99?C%2?(f=" ".repeat(C/2+.5),b=" ".repeat(C/2-.5)):(f=" ".repeat(C/2),b=f):b=" ".repeat(C)}r.delimiterStart!==!1&&!h&&g.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||h)&&g.push(" "),r.alignDelimiters!==!1&&g.push(f),g.push(x),r.alignDelimiters!==!1&&g.push(b),r.padding!==!1&&g.push(" "),(r.delimiterEnd!==!1||h!==d-1)&&g.push("|")}j.push(r.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return j.join(`
`)}function h0(n){return n==null?"":String(n)}function Xh(n){const t=typeof n=="string"?n.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function u0(n,t,r,s){const l=r.enter("blockquote"),i=r.createTracker(s);i.move("> "),i.shift(2);const o=r.indentLines(r.containerFlow(n,i.current()),p0);return l(),o}function p0(n,t,r){return">"+(r?"":" ")+n}function m0(n,t){return Jh(n,t.inConstruct,!0)&&!Jh(n,t.notInConstruct,!1)}function Jh(n,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let s=-1;for(;++s<t.length;)if(n.includes(t[s]))return!0;return!1}function Zh(n,t,r,s){let l=-1;for(;++l<r.unsafe.length;)if(r.unsafe[l].character===`
`&&m0(r.stack,r.unsafe[l]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function x0(n,t){const r=String(n);let s=r.indexOf(t),l=s,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===l?++i>o&&(o=i):i=1,l=s+t.length,s=r.indexOf(t,l);return o}function f0(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function g0(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function j0(n,t,r,s){const l=g0(r),i=n.value||"",o=l==="`"?"GraveAccent":"Tilde";if(f0(n,r)){const h=r.enter("codeIndented"),p=r.indentLines(i,y0);return h(),p}const a=r.createTracker(s),c=l.repeat(Math.max(x0(i,l)+1,3)),d=r.enter("codeFenced");let u=a.move(c);if(n.lang){const h=r.enter(`codeFencedLang${o}`);u+=a.move(r.safe(n.lang,{before:u,after:" ",encode:["`"],...a.current()})),h()}if(n.lang&&n.meta){const h=r.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(r.safe(n.meta,{before:u,after:`
`,encode:["`"],...a.current()})),h()}return u+=a.move(`
`),i&&(u+=a.move(i+`
`)),u+=a.move(c),d(),u}function y0(n,t,r){return(r?"":"    ")+n}function Fc(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function k0(n,t,r,s){const l=Fc(r),i=l==='"'?"Quote":"Apostrophe",o=r.enter("definition");let a=r.enter("label");const c=r.createTracker(s);let d=c.move("[");return d+=c.move(r.safe(r.associationId(n),{before:d,after:"]",...c.current()})),d+=c.move("]: "),a(),!n.url||/[\0- \u007F]/.test(n.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(n.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(n.url,{before:d,after:n.title?" ":`
`,...c.current()}))),a(),n.title&&(a=r.enter(`title${i}`),d+=c.move(" "+l),d+=c.move(r.safe(n.title,{before:d,after:l,...c.current()})),d+=c.move(l),a()),o(),d}function v0(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Rs(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Jl(n,t,r){const s=Sr(n),l=Sr(t);return s===void 0?l===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}yx.peek=b0;function yx(n,t,r,s){const l=v0(r),i=r.enter("emphasis"),o=r.createTracker(s),a=o.move(l);let c=o.move(r.containerPhrasing(n,{after:l,before:a,...o.current()}));const d=c.charCodeAt(0),u=Jl(s.before.charCodeAt(s.before.length-1),d,l);u.inside&&(c=Rs(d)+c.slice(1));const h=c.charCodeAt(c.length-1),p=Jl(s.after.charCodeAt(0),h,l);p.inside&&(c=c.slice(0,-1)+Rs(h));const m=o.move(l);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},a+c+m}function b0(n,t,r){return r.options.emphasis||"*"}function w0(n,t){let r=!1;return Dc(n,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return r=!0,ya}),!!((!n.depth||n.depth<3)&&Ec(n)&&(t.options.setext||r))}function N0(n,t,r,s){const l=Math.max(Math.min(6,n.depth||1),1),i=r.createTracker(s);if(w0(n,r)){const u=r.enter("headingSetext"),h=r.enter("phrasing"),p=r.containerPhrasing(n,{...i.current(),before:`
`,after:`
`});return h(),u(),p+`
`+(l===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(l),a=r.enter("headingAtx"),c=r.enter("phrasing");i.move(o+" ");let d=r.containerPhrasing(n,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=Rs(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,r.options.closeAtx&&(d+=" "+o),c(),a(),d}kx.peek=S0;function kx(n){return n.value||""}function S0(){return"<"}vx.peek=C0;function vx(n,t,r,s){const l=Fc(r),i=l==='"'?"Quote":"Apostrophe",o=r.enter("image");let a=r.enter("label");const c=r.createTracker(s);let d=c.move("![");return d+=c.move(r.safe(n.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(n.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(n.url,{before:d,after:n.title?" ":")",...c.current()}))),a(),n.title&&(a=r.enter(`title${i}`),d+=c.move(" "+l),d+=c.move(r.safe(n.title,{before:d,after:l,...c.current()})),d+=c.move(l),a()),d+=c.move(")"),o(),d}function C0(){return"!"}bx.peek=_0;function bx(n,t,r,s){const l=n.referenceType,i=r.enter("imageReference");let o=r.enter("label");const a=r.createTracker(s);let c=a.move("![");const d=r.safe(n.alt,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const h=r.safe(r.associationId(n),{before:c,after:"]",...a.current()});return o(),r.stack=u,i(),l==="full"||!d||d!==h?c+=a.move(h+"]"):l==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function _0(){return"!"}wx.peek=T0;function wx(n,t,r){let s=n.value||"",l="`",i=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(s);)l+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++i<r.unsafe.length;){const o=r.unsafe[i],a=r.compilePattern(o);let c;if(o.atBreak)for(;c=a.exec(s);){let d=c.index;s.charCodeAt(d)===10&&s.charCodeAt(d-1)===13&&d--,s=s.slice(0,d)+" "+s.slice(c.index+1)}}return l+s+l}function T0(){return"`"}function Nx(n,t){const r=Ec(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(r===n.url||"mailto:"+r===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Sx.peek=E0;function Sx(n,t,r,s){const l=Fc(r),i=l==='"'?"Quote":"Apostrophe",o=r.createTracker(s);let a,c;if(Nx(n,r)){const u=r.stack;r.stack=[],a=r.enter("autolink");let h=o.move("<");return h+=o.move(r.containerPhrasing(n,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),r.stack=u,h}a=r.enter("link"),c=r.enter("label");let d=o.move("[");return d+=o.move(r.containerPhrasing(n,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=r.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(r.safe(n.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=r.enter("destinationRaw"),d+=o.move(r.safe(n.url,{before:d,after:n.title?" ":")",...o.current()}))),c(),n.title&&(c=r.enter(`title${i}`),d+=o.move(" "+l),d+=o.move(r.safe(n.title,{before:d,after:l,...o.current()})),d+=o.move(l),c()),d+=o.move(")"),a(),d}function E0(n,t,r){return Nx(n,r)?"<":"["}Cx.peek=R0;function Cx(n,t,r,s){const l=n.referenceType,i=r.enter("linkReference");let o=r.enter("label");const a=r.createTracker(s);let c=a.move("[");const d=r.containerPhrasing(n,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const h=r.safe(r.associationId(n),{before:c,after:"]",...a.current()});return o(),r.stack=u,i(),l==="full"||!d||d!==h?c+=a.move(h+"]"):l==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function R0(){return"["}function Bc(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function P0(n){const t=Bc(n),r=n.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function I0(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _x(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function A0(n,t,r,s){const l=r.enter("list"),i=r.bulletCurrent;let o=n.ordered?I0(r):Bc(r);const a=n.ordered?o==="."?")":".":P0(r);let c=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!n.ordered){const u=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),_x(r)===o&&u){let h=-1;for(;++h<n.children.length;){const p=n.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=a),r.bulletCurrent=o;const d=r.containerFlow(n,s);return r.bulletLastUsed=o,r.bulletCurrent=i,l(),d}function M0(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function L0(n,t,r,s){const l=M0(r);let i=r.bulletCurrent||Bc(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(n))+i);let o=i.length+1;(l==="tab"||l==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(o=Math.ceil(o/4)*4);const a=r.createTracker(s);a.move(i+" ".repeat(o-i.length)),a.shift(o);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(n,a.current()),u);return c(),d;function u(h,p,m){return p?(m?"":" ".repeat(o))+h:(m?i:i+" ".repeat(o-i.length))+h}}function D0(n,t,r,s){const l=r.enter("paragraph"),i=r.enter("phrasing"),o=r.containerPhrasing(n,s);return i(),l(),o}const O0=bi(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function F0(n,t,r,s){return(n.children.some(function(o){return O0(o)})?r.containerPhrasing:r.containerFlow).call(r,n,s)}function B0(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Tx.peek=q0;function Tx(n,t,r,s){const l=B0(r),i=r.enter("strong"),o=r.createTracker(s),a=o.move(l+l);let c=o.move(r.containerPhrasing(n,{after:l,before:a,...o.current()}));const d=c.charCodeAt(0),u=Jl(s.before.charCodeAt(s.before.length-1),d,l);u.inside&&(c=Rs(d)+c.slice(1));const h=c.charCodeAt(c.length-1),p=Jl(s.after.charCodeAt(0),h,l);p.inside&&(c=c.slice(0,-1)+Rs(h));const m=o.move(l+l);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},a+c+m}function q0(n,t,r){return r.options.strong||"*"}function K0(n,t,r,s){return r.safe(n.value,s)}function U0(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function z0(n,t,r){const s=(_x(r)+(r.options.ruleSpaces?" ":"")).repeat(U0(r));return r.options.ruleSpaces?s.slice(0,-1):s}const Ex={blockquote:u0,break:Zh,code:j0,definition:k0,emphasis:yx,hardBreak:Zh,heading:N0,html:kx,image:vx,imageReference:bx,inlineCode:wx,link:Sx,linkReference:Cx,list:A0,listItem:L0,paragraph:D0,root:F0,strong:Tx,text:K0,thematicBreak:z0};function V0(){return{enter:{table:H0,tableData:eu,tableHeader:eu,tableRow:$0},exit:{codeText:W0,table:G0,tableData:po,tableHeader:po,tableRow:po}}}function H0(n){const t=n._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},n),this.data.inTable=!0}function G0(n){this.exit(n),this.data.inTable=void 0}function $0(n){this.enter({type:"tableRow",children:[]},n)}function po(n){this.exit(n)}function eu(n){this.enter({type:"tableCell",children:[]},n)}function W0(n){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Q0));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(n)}function Q0(n,t){return t==="|"?t:n}function Y0(n){const t=n||{},r=t.tableCellPadding,s=t.tablePipeAlign,l=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:c,tableRow:a}};function o(m,j,y,N){return d(u(m,y,N),m.align)}function a(m,j,y,N){const g=h(m,y,N),x=d([g]);return x.slice(0,x.indexOf(`
`))}function c(m,j,y,N){const g=y.enter("tableCell"),x=y.enter("phrasing"),f=y.containerPhrasing(m,{...N,before:i,after:i});return x(),g(),f}function d(m,j){return d0(m,{align:j,alignDelimiters:s,padding:r,stringLength:l})}function u(m,j,y){const N=m.children;let g=-1;const x=[],f=j.enter("table");for(;++g<N.length;)x[g]=h(N[g],j,y);return f(),x}function h(m,j,y){const N=m.children;let g=-1;const x=[],f=j.enter("tableRow");for(;++g<N.length;)x[g]=c(N[g],m,j,y);return f(),x}function p(m,j,y){let N=Ex.inlineCode(m,j,y);return y.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function X0(){return{exit:{taskListCheckValueChecked:nu,taskListCheckValueUnchecked:nu,paragraph:Z0}}}function J0(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:e1}}}function nu(n){const t=this.stack[this.stack.length-2];t.type,t.checked=n.type==="taskListCheckValueChecked"}function Z0(n){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const s=r.children[0];if(s&&s.type==="text"){const l=t.children;let i=-1,o;for(;++i<l.length;){const a=l[i];if(a.type==="paragraph"){o=a;break}}o===r&&(s.value=s.value.slice(1),s.value.length===0?r.children.shift():r.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,r.position.start=Object.assign({},s.position.start)))}}this.exit(n)}function e1(n,t,r,s){const l=n.children[0],i=typeof n.checked=="boolean"&&l&&l.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",a=r.createTracker(s);i&&a.move(o);let c=Ex.listItem(n,t,r,{...s,...a.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(u){return u+o}}function n1(){return[AN(),e0(),s0(),V0(),X0()]}function t1(n){return{extensions:[MN(),n0(n),l0(),Y0(n),J0()]}}const r1={tokenize:c1,partial:!0},Rx={tokenize:d1,partial:!0},Px={tokenize:h1,partial:!0},Ix={tokenize:u1,partial:!0},s1={tokenize:p1,partial:!0},Ax={name:"wwwAutolink",tokenize:o1,previous:Lx},Mx={name:"protocolAutolink",tokenize:a1,previous:Dx},Xn={name:"emailAutolink",tokenize:i1,previous:Ox},On={};function l1(){return{text:On}}let Ct=48;for(;Ct<123;)On[Ct]=Xn,Ct++,Ct===58?Ct=65:Ct===91&&(Ct=97);On[43]=Xn;On[45]=Xn;On[46]=Xn;On[95]=Xn;On[72]=[Xn,Mx];On[104]=[Xn,Mx];On[87]=[Xn,Ax];On[119]=[Xn,Ax];function i1(n,t,r){const s=this;let l,i;return o;function o(h){return!wa(h)||!Ox.call(s,s.previous)||qc(s.events)?r(h):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),a(h))}function a(h){return wa(h)?(n.consume(h),a):h===64?(n.consume(h),c):r(h)}function c(h){return h===46?n.check(s1,u,d)(h):h===45||h===95||Be(h)?(i=!0,n.consume(h),c):u(h)}function d(h){return n.consume(h),l=!0,c}function u(h){return i&&l&&Ve(s.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),t(h)):r(h)}}function o1(n,t,r){const s=this;return l;function l(o){return o!==87&&o!==119||!Lx.call(s,s.previous)||qc(s.events)?r(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(r1,n.attempt(Rx,n.attempt(Px,i),r),r)(o))}function i(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),t(o)}}function a1(n,t,r){const s=this;let l="",i=!1;return o;function o(h){return(h===72||h===104)&&Dx.call(s,s.previous)&&!qc(s.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),l+=String.fromCodePoint(h),n.consume(h),a):r(h)}function a(h){if(Ve(h)&&l.length<5)return l+=String.fromCodePoint(h),n.consume(h),a;if(h===58){const p=l.toLowerCase();if(p==="http"||p==="https")return n.consume(h),c}return r(h)}function c(h){return h===47?(n.consume(h),i?d:(i=!0,c)):r(h)}function d(h){return h===null||Ql(h)||ce(h)||Kt(h)||yi(h)?r(h):n.attempt(Rx,n.attempt(Px,u),r)(h)}function u(h){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),t(h)}}function c1(n,t,r){let s=0;return l;function l(o){return(o===87||o===119)&&s<3?(s++,n.consume(o),l):o===46&&s===3?(n.consume(o),i):r(o)}function i(o){return o===null?r(o):t(o)}}function d1(n,t,r){let s,l,i;return o;function o(d){return d===46||d===95?n.check(Ix,c,a)(d):d===null||ce(d)||Kt(d)||d!==45&&yi(d)?c(d):(i=!0,n.consume(d),o)}function a(d){return d===95?s=!0:(l=s,s=void 0),n.consume(d),o}function c(d){return l||s||!i?r(d):t(d)}}function h1(n,t){let r=0,s=0;return l;function l(o){return o===40?(r++,n.consume(o),l):o===41&&s<r?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(Ix,t,i)(o):o===null||ce(o)||Kt(o)?t(o):(n.consume(o),l)}function i(o){return o===41&&s++,n.consume(o),l}}function u1(n,t,r){return s;function s(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(n.consume(a),s):a===38?(n.consume(a),i):a===93?(n.consume(a),l):a===60||a===null||ce(a)||Kt(a)?t(a):r(a)}function l(a){return a===null||a===40||a===91||ce(a)||Kt(a)?t(a):s(a)}function i(a){return Ve(a)?o(a):r(a)}function o(a){return a===59?(n.consume(a),s):Ve(a)?(n.consume(a),o):r(a)}}function p1(n,t,r){return s;function s(i){return n.consume(i),l}function l(i){return Be(i)?r(i):t(i)}}function Lx(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||ce(n)}function Dx(n){return!Ve(n)}function Ox(n){return!(n===47||wa(n))}function wa(n){return n===43||n===45||n===46||n===95||Be(n)}function qc(n){let t=n.length,r=!1;for(;t--;){const s=n[t][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){r=!0;break}if(s._gfmAutolinkLiteralWalkedInto){r=!1;break}}return n.length>0&&!r&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const m1={tokenize:b1,partial:!0};function x1(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:y1,continuation:{tokenize:k1},exit:v1}},text:{91:{name:"gfmFootnoteCall",tokenize:j1},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:f1,resolveTo:g1}}}}function f1(n,t,r){const s=this;let l=s.events.length;const i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o;for(;l--;){const c=s.events[l][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return a;function a(c){if(!o||!o._balanced)return r(c);const d=_n(s.sliceSerialize({start:o.end,end:s.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?r(c):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),t(c))}}function g1(n,t){let r=n.length;for(;r--;)if(n[r][1].type==="labelImage"&&n[r][0]==="enter"){n[r][1];break}n[r+1][1].type="data",n[r+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},n[r+3][1].start),end:Object.assign({},n[n.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},n[r+3][1].end),end:Object.assign({},n[r+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[n[r+1],n[r+2],["enter",s,t],n[r+3],n[r+4],["enter",l,t],["exit",l,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],n[n.length-2],n[n.length-1],["exit",s,t]];return n.splice(r,n.length-r+1,...a),n}function j1(n,t,r){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i=0,o;return a;function a(h){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?r(h):(n.enter("gfmFootnoteCallMarker"),n.consume(h),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",d)}function d(h){if(i>999||h===93&&!o||h===null||h===91||ce(h))return r(h);if(h===93){n.exit("chunkString");const p=n.exit("gfmFootnoteCallString");return l.includes(_n(s.sliceSerialize(p)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),t):r(h)}return ce(h)||(o=!0),i++,n.consume(h),h===92?u:d}function u(h){return h===91||h===92||h===93?(n.consume(h),i++,d):d(h)}}function y1(n,t,r){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i,o=0,a;return c;function c(j){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(j),n.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(j){return j===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(j),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",u):r(j)}function u(j){if(o>999||j===93&&!a||j===null||j===91||ce(j))return r(j);if(j===93){n.exit("chunkString");const y=n.exit("gfmFootnoteDefinitionLabelString");return i=_n(s.sliceSerialize(y)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(j),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),p}return ce(j)||(a=!0),o++,n.consume(j),j===92?h:u}function h(j){return j===91||j===92||j===93?(n.consume(j),o++,u):u(j)}function p(j){return j===58?(n.enter("definitionMarker"),n.consume(j),n.exit("definitionMarker"),l.includes(i)||l.push(i),te(n,m,"gfmFootnoteDefinitionWhitespace")):r(j)}function m(j){return t(j)}}function k1(n,t,r){return n.check(Fs,t,n.attempt(m1,t,r))}function v1(n){n.exit("gfmFootnoteDefinition")}function b1(n,t,r){const s=this;return te(n,l,"gfmFootnoteDefinitionIndent",5);function l(i){const o=s.events[s.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):r(i)}}function w1(n){let r=(n||{}).singleTilde;const s={name:"strikethrough",tokenize:i,resolveAll:l};return r==null&&(r=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function l(o,a){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},h={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},p=[["enter",u,a],["enter",o[d][1],a],["exit",o[d][1],a],["enter",h,a]],m=a.parser.constructs.insideSpan.null;m&&cn(p,p.length,0,ki(m,o.slice(d+1,c),a)),cn(p,p.length,0,[["exit",h,a],["enter",o[c][1],a],["exit",o[c][1],a],["exit",u,a]]),cn(o,d-1,c-d+3,p),c=d+p.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function i(o,a,c){const d=this.previous,u=this.events;let h=0;return p;function p(j){return d===126&&u[u.length-1][1].type!=="characterEscape"?c(j):(o.enter("strikethroughSequenceTemporary"),m(j))}function m(j){const y=Sr(d);if(j===126)return h>1?c(j):(o.consume(j),h++,m);if(h<2&&!r)return c(j);const N=o.exit("strikethroughSequenceTemporary"),g=Sr(j);return N._open=!g||g===2&&!!y,N._close=!y||y===2&&!!g,a(j)}}}class N1{constructor(){this.map=[]}add(t,r,s){S1(this,t,r,s)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const s=[];for(;r>0;)r-=1,s.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];s.push(t.slice()),t.length=0;let l=s.pop();for(;l;){for(const i of l)t.push(i);l=s.pop()}this.map.length=0}}function S1(n,t,r,s){let l=0;if(!(r===0&&s.length===0)){for(;l<n.map.length;){if(n.map[l][0]===t){n.map[l][1]+=r,n.map[l][2].push(...s);return}l+=1}n.map.push([t,r,s])}}function C1(n,t){let r=!1;const s=[];for(;t<n.length;){const l=n[t];if(r){if(l[0]==="enter")l[1].type==="tableContent"&&s.push(n[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(n[t-1][1].type==="tableDelimiterMarker"){const i=s.length-1;s[i]=s[i]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return s}function _1(){return{flow:{null:{name:"table",tokenize:T1,resolveAll:E1}}}}function T1(n,t,r){const s=this;let l=0,i=0,o;return a;function a(w){let M=s.events.length-1;for(;M>-1;){const O=s.events[M][1].type;if(O==="lineEnding"||O==="linePrefix")M--;else break}const B=M>-1?s.events[M][1].type:null,H=B==="tableHead"||B==="tableRow"?v:c;return H===v&&s.parser.lazy[s.now().line]?r(w):H(w)}function c(w){return n.enter("tableHead"),n.enter("tableRow"),d(w)}function d(w){return w===124||(o=!0,i+=1),u(w)}function u(w){return w===null?r(w):V(w)?i>1?(i=0,s.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),m):r(w):Z(w)?te(n,u,"whitespace")(w):(i+=1,o&&(o=!1,l+=1),w===124?(n.enter("tableCellDivider"),n.consume(w),n.exit("tableCellDivider"),o=!0,u):(n.enter("data"),h(w)))}function h(w){return w===null||w===124||ce(w)?(n.exit("data"),u(w)):(n.consume(w),w===92?p:h)}function p(w){return w===92||w===124?(n.consume(w),h):h(w)}function m(w){return s.interrupt=!1,s.parser.lazy[s.now().line]?r(w):(n.enter("tableDelimiterRow"),o=!1,Z(w)?te(n,j,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):j(w))}function j(w){return w===45||w===58?N(w):w===124?(o=!0,n.enter("tableCellDivider"),n.consume(w),n.exit("tableCellDivider"),y):C(w)}function y(w){return Z(w)?te(n,N,"whitespace")(w):N(w)}function N(w){return w===58?(i+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(w),n.exit("tableDelimiterMarker"),g):w===45?(i+=1,g(w)):w===null||V(w)?b(w):C(w)}function g(w){return w===45?(n.enter("tableDelimiterFiller"),x(w)):C(w)}function x(w){return w===45?(n.consume(w),x):w===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(w),n.exit("tableDelimiterMarker"),f):(n.exit("tableDelimiterFiller"),f(w))}function f(w){return Z(w)?te(n,b,"whitespace")(w):b(w)}function b(w){return w===124?j(w):w===null||V(w)?!o||l!==i?C(w):(n.exit("tableDelimiterRow"),n.exit("tableHead"),t(w)):C(w)}function C(w){return r(w)}function v(w){return n.enter("tableRow"),R(w)}function R(w){return w===124?(n.enter("tableCellDivider"),n.consume(w),n.exit("tableCellDivider"),R):w===null||V(w)?(n.exit("tableRow"),t(w)):Z(w)?te(n,R,"whitespace")(w):(n.enter("data"),T(w))}function T(w){return w===null||w===124||ce(w)?(n.exit("data"),R(w)):(n.consume(w),w===92?A:T)}function A(w){return w===92||w===124?(n.consume(w),T):T(w)}}function E1(n,t){let r=-1,s=!0,l=0,i=[0,0,0,0],o=[0,0,0,0],a=!1,c=0,d,u,h;const p=new N1;for(;++r<n.length;){const m=n[r],j=m[1];m[0]==="enter"?j.type==="tableHead"?(a=!1,c!==0&&(tu(p,t,c,d,u),u=void 0,c=0),d={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},p.add(r,0,[["enter",d,t]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(s=!0,h=void 0,i=[0,0,0,0],o=[0,r+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},p.add(r,0,[["enter",u,t]])),l=j.type==="tableDelimiterRow"?2:u?3:1):l&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(s=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],h=al(p,t,i,l,void 0,h),i=[0,0,0,0]),o[2]=r)):j.type==="tableCellDivider"&&(s?s=!1:(i[1]!==0&&(o[0]=o[1],h=al(p,t,i,l,void 0,h)),i=o,o=[i[1],r,0,0])):j.type==="tableHead"?(a=!0,c=r):j.type==="tableRow"||j.type==="tableDelimiterRow"?(c=r,i[1]!==0?(o[0]=o[1],h=al(p,t,i,l,r,h)):o[1]!==0&&(h=al(p,t,o,l,r,h)),l=0):l&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(o[3]=r)}for(c!==0&&tu(p,t,c,d,u),p.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=C1(t.events,r))}return n}function al(n,t,r,s,l,i){const o=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",a="tableContent";r[0]!==0&&(i.end=Object.assign({},Xt(t.events,r[0])),n.add(r[0],0,[["exit",i,t]]));const c=Xt(t.events,r[1]);if(i={type:o,start:Object.assign({},c),end:Object.assign({},c)},n.add(r[1],0,[["enter",i,t]]),r[2]!==0){const d=Xt(t.events,r[2]),u=Xt(t.events,r[3]),h={type:a,start:Object.assign({},d),end:Object.assign({},u)};if(n.add(r[2],0,[["enter",h,t]]),s!==2){const p=t.events[r[2]],m=t.events[r[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const j=r[2]+1,y=r[3]-r[2]-1;n.add(j,y,[])}}n.add(r[3]+1,0,[["exit",h,t]])}return l!==void 0&&(i.end=Object.assign({},Xt(t.events,l)),n.add(l,0,[["exit",i,t]]),i=void 0),i}function tu(n,t,r,s,l){const i=[],o=Xt(t.events,r);l&&(l.end=Object.assign({},o),i.push(["exit",l,t])),s.end=Object.assign({},o),i.push(["exit",s,t]),n.add(r+1,0,i)}function Xt(n,t){const r=n[t],s=r[0]==="enter"?"start":"end";return r[1][s]}const R1={name:"tasklistCheck",tokenize:I1};function P1(){return{text:{91:R1}}}function I1(n,t,r){const s=this;return l;function l(c){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?r(c):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),i)}function i(c){return ce(c)?(n.enter("taskListCheckValueUnchecked"),n.consume(c),n.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(n.enter("taskListCheckValueChecked"),n.consume(c),n.exit("taskListCheckValueChecked"),o):r(c)}function o(c){return c===93?(n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),a):r(c)}function a(c){return V(c)?t(c):Z(c)?n.check({tokenize:A1},t,r)(c):r(c)}}function A1(n,t,r){return te(n,s,"whitespace");function s(l){return l===null?r(l):t(l)}}function M1(n){return $m([l1(),x1(),w1(n),_1(),P1()])}const L1={};function D1(n){const t=this,r=n||L1,s=t.data(),l=s.micromarkExtensions||(s.micromarkExtensions=[]),i=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),o=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);l.push(M1(r)),i.push(n1()),o.push(t1(r))}const cl="kronk_chat_messages",Fx=_.createContext(null);function O1({children:n}){const[t,r]=_.useState(()=>{try{const i=localStorage.getItem(cl);return i?JSON.parse(i):[]}catch{return[]}});_.useEffect(()=>{try{t.length>0?localStorage.setItem(cl,JSON.stringify(t)):localStorage.removeItem(cl)}catch{}},[t]);const s=_.useCallback(i=>{r(i)},[]),l=_.useCallback(()=>{r([]),localStorage.removeItem(cl)},[]);return e.jsx(Fx.Provider,{value:{messages:t,setMessages:s,clearMessages:l},children:n})}function F1(){const n=_.useContext(Fx);if(!n)throw new Error("useChatMessages must be used within a ChatProvider");return n}const mo="kronk_chat_sampling",ge={maxTokens:2048,temperature:.8,topP:.9,topK:40,minP:0,repeatPenalty:1,repeatLastN:64,dryMultiplier:1.05,dryBase:1.75,dryAllowedLen:2,dryPenaltyLast:0,xtcProbability:0,xtcThreshold:.1,xtcMinKeep:1,enableThinking:"",reasoningEffort:"",returnPrompt:!1,includeUsage:!0,logprobs:!1,topLogprobs:0},Bx=_.createContext(null);function B1({children:n}){const[t,r]=_.useState(()=>{try{const i=localStorage.getItem(mo);if(i)return{...ge,...JSON.parse(i)}}catch{}return ge});_.useEffect(()=>{try{localStorage.setItem(mo,JSON.stringify(t))}catch{}},[t]);const s=_.useCallback(i=>{r(o=>({...o,...i}))},[]),l=_.useCallback(()=>{r(ge),localStorage.removeItem(mo)},[]);return e.jsx(Bx.Provider,{value:{sampling:t,setSampling:s,resetSampling:l},children:n})}function q1(){const n=_.useContext(Bx);if(!n)throw new Error("useSampling must be used within a SamplingProvider");return n}function X(n,t,r){return r?t!==r[n]:!1}function we(n,t){if(!t)return"";const r=t[n];return typeof r=="boolean"?r?"true":"false":typeof r=="string"?r===""?"default":r:String(r)}const K1=["maxTokens","temperature","topP","topK"],qx=["minP","repeatPenalty","repeatLastN","dryMultiplier","dryBase","dryAllowedLen","dryPenaltyLast","xtcProbability","xtcThreshold","xtcMinKeep","enableThinking","reasoningEffort"];function ru(n,t){return t?[...K1,...qx].some(r=>n[r]!==t[r]):!1}function U1(n,t){return t?qx.some(r=>n[r]!==t[r]):!1}var Kx={exports:{}};(function(n){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(s){var l=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},a={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function x(f){return f instanceof c?new c(f.type,x(f.content),f.alias):Array.isArray(f)?f.map(x):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++i}),x.__id},clone:function x(f,b){b=b||{};var C,v;switch(a.util.type(f)){case"Object":if(v=a.util.objId(f),b[v])return b[v];C={},b[v]=C;for(var R in f)f.hasOwnProperty(R)&&(C[R]=x(f[R],b));return C;case"Array":return v=a.util.objId(f),b[v]?b[v]:(C=[],b[v]=C,f.forEach(function(T,A){C[A]=x(T,b)}),C);default:return f}},getLanguage:function(x){for(;x;){var f=l.exec(x.className);if(f)return f[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,f){x.className=x.className.replace(RegExp(l,"gi"),""),x.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(C){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(x){var f=document.getElementsByTagName("script");for(var b in f)if(f[b].src==x)return f[b]}return null}},isActive:function(x,f,b){for(var C="no-"+f;x;){var v=x.classList;if(v.contains(f))return!0;if(v.contains(C))return!1;x=x.parentElement}return!!b}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(x,f){var b=a.util.clone(a.languages[x]);for(var C in f)b[C]=f[C];return b},insertBefore:function(x,f,b,C){C=C||a.languages;var v=C[x],R={};for(var T in v)if(v.hasOwnProperty(T)){if(T==f)for(var A in b)b.hasOwnProperty(A)&&(R[A]=b[A]);b.hasOwnProperty(T)||(R[T]=v[T])}var w=C[x];return C[x]=R,a.languages.DFS(a.languages,function(M,B){B===w&&M!=x&&(this[M]=R)}),R},DFS:function x(f,b,C,v){v=v||{};var R=a.util.objId;for(var T in f)if(f.hasOwnProperty(T)){b.call(f,T,f[T],C||T);var A=f[T],w=a.util.type(A);w==="Object"&&!v[R(A)]?(v[R(A)]=!0,x(A,b,null,v)):w==="Array"&&!v[R(A)]&&(v[R(A)]=!0,x(A,b,T,v))}}},plugins:{},highlightAll:function(x,f){a.highlightAllUnder(document,x,f)},highlightAllUnder:function(x,f,b){var C={callback:b,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),a.hooks.run("before-all-elements-highlight",C);for(var v=0,R;R=C.elements[v++];)a.highlightElement(R,f===!0,C.callback)},highlightElement:function(x,f,b){var C=a.util.getLanguage(x),v=a.languages[C];a.util.setLanguage(x,C);var R=x.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(R,C);var T=x.textContent,A={element:x,language:C,grammar:v,code:T};function w(B){A.highlightedCode=B,a.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,a.hooks.run("after-highlight",A),a.hooks.run("complete",A),b&&b.call(A.element)}if(a.hooks.run("before-sanity-check",A),R=A.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!A.code){a.hooks.run("complete",A),b&&b.call(A.element);return}if(a.hooks.run("before-highlight",A),!A.grammar){w(a.util.encode(A.code));return}if(f&&s.Worker){var M=new Worker(a.filename);M.onmessage=function(B){w(B.data)},M.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else w(a.highlight(A.code,A.grammar,A.language))},highlight:function(x,f,b){var C={code:x,grammar:f,language:b};if(a.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=a.tokenize(C.code,C.grammar),a.hooks.run("after-tokenize",C),c.stringify(a.util.encode(C.tokens),C.language)},tokenize:function(x,f){var b=f.rest;if(b){for(var C in b)f[C]=b[C];delete f.rest}var v=new h;return p(v,v.head,x),u(x,v,f,v.head,0),j(v)},hooks:{all:{},add:function(x,f){var b=a.hooks.all;b[x]=b[x]||[],b[x].push(f)},run:function(x,f){var b=a.hooks.all[x];if(!(!b||!b.length))for(var C=0,v;v=b[C++];)v(f)}},Token:c};s.Prism=a;function c(x,f,b,C){this.type=x,this.content=f,this.alias=b,this.length=(C||"").length|0}c.stringify=function x(f,b){if(typeof f=="string")return f;if(Array.isArray(f)){var C="";return f.forEach(function(w){C+=x(w,b)}),C}var v={type:f.type,content:x(f.content,b),tag:"span",classes:["token",f.type],attributes:{},language:b},R=f.alias;R&&(Array.isArray(R)?Array.prototype.push.apply(v.classes,R):v.classes.push(R)),a.hooks.run("wrap",v);var T="";for(var A in v.attributes)T+=" "+A+'="'+(v.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+T+">"+v.content+"</"+v.tag+">"};function d(x,f,b,C){x.lastIndex=f;var v=x.exec(b);if(v&&C&&v[1]){var R=v[1].length;v.index+=R,v[0]=v[0].slice(R)}return v}function u(x,f,b,C,v,R){for(var T in b)if(!(!b.hasOwnProperty(T)||!b[T])){var A=b[T];A=Array.isArray(A)?A:[A];for(var w=0;w<A.length;++w){if(R&&R.cause==T+","+w)return;var M=A[w],B=M.inside,H=!!M.lookbehind,O=!!M.greedy,U=M.alias;if(O&&!M.pattern.global){var ie=M.pattern.toString().match(/[imsuy]*$/)[0];M.pattern=RegExp(M.pattern.source,ie+"g")}for(var G=M.pattern||M,P=C.next,q=v;P!==f.tail&&!(R&&q>=R.reach);q+=P.value.length,P=P.next){var k=P.value;if(f.length>x.length)return;if(!(k instanceof c)){var Q=1,$;if(O){if($=d(G,q,x,H),!$||$.index>=x.length)break;var z=$.index,S=$.index+$[0].length,re=q;for(re+=P.value.length;z>=re;)P=P.next,re+=P.value.length;if(re-=P.value.length,q=re,P.value instanceof c)continue;for(var E=P;E!==f.tail&&(re<S||typeof E.value=="string");E=E.next)Q++,re+=E.value.length;Q--,k=x.slice(q,re),$.index-=q}else if($=d(G,0,k,H),!$)continue;var z=$.index,J=$[0],ue=k.slice(0,z),We=k.slice(z+J.length),Ue=q+k.length;R&&Ue>R.reach&&(R.reach=Ue);var Qe=P.prev;ue&&(Qe=p(f,Qe,ue),q+=ue.length),m(f,Qe,Q);var Jn=new c(T,B?a.tokenize(J,B):J,U,J);if(P=p(f,Qe,Jn),We&&p(f,P,We),Q>1){var pe={cause:T+","+w,reach:Ue};u(x,f,b,P.prev,q,pe),R&&pe.reach>R.reach&&(R.reach=pe.reach)}}}}}}function h(){var x={value:null,prev:null,next:null},f={value:null,prev:x,next:null};x.next=f,this.head=x,this.tail=f,this.length=0}function p(x,f,b){var C=f.next,v={value:b,prev:f,next:C};return f.next=v,C.prev=v,x.length++,v}function m(x,f,b){for(var C=f.next,v=0;v<b&&C!==x.tail;v++)C=C.next;f.next=C,C.prev=f,x.length-=v}function j(x){for(var f=[],b=x.head.next;b!==x.tail;)f.push(b.value),b=b.next;return f}if(!s.document)return s.addEventListener&&(a.disableWorkerMessageHandler||s.addEventListener("message",function(x){var f=JSON.parse(x.data),b=f.language,C=f.code,v=f.immediateClose;s.postMessage(a.highlight(C,a.languages[b],b)),v&&s.close()},!1)),a;var y=a.util.currentScript();y&&(a.filename=y.src,y.hasAttribute("data-manual")&&(a.manual=!0));function N(){a.manual||a.highlightAll()}if(!a.manual){var g=document.readyState;g==="loading"||g==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",N):window.requestAnimationFrame?window.requestAnimationFrame(N):window.setTimeout(N,16)}return a}(t);n.exports&&(n.exports=r),typeof gr<"u"&&(gr.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(l,i){var o={};o["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var c={};c[l]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return l}),"i"),lookbehind:!0,greedy:!0,inside:a},r.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(s,l){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[l,"language-"+l],inside:r.languages[l]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(s){var l=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+l.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+l.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+l.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+l.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:l,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var i=s.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s="Loading",l=function(y,N){return" Error "+y+" while fetching file: "+N},i=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",c="loading",d="loaded",u="failed",h="pre[data-src]:not(["+a+'="'+d+'"]):not(['+a+'="'+c+'"])';function p(y,N,g){var x=new XMLHttpRequest;x.open("GET",y,!0),x.onreadystatechange=function(){x.readyState==4&&(x.status<400&&x.responseText?N(x.responseText):x.status>=400?g(l(x.status,x.statusText)):g(i))},x.send(null)}function m(y){var N=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(N){var g=Number(N[1]),x=N[2],f=N[3];return x?f?[g,Number(f)]:[g,void 0]:[g,g]}}r.hooks.add("before-highlightall",function(y){y.selector+=", "+h}),r.hooks.add("before-sanity-check",function(y){var N=y.element;if(N.matches(h)){y.code="",N.setAttribute(a,c);var g=N.appendChild(document.createElement("CODE"));g.textContent=s;var x=N.getAttribute("data-src"),f=y.language;if(f==="none"){var b=(/\.(\w+)$/.exec(x)||[,"none"])[1];f=o[b]||b}r.util.setLanguage(g,f),r.util.setLanguage(N,f);var C=r.plugins.autoloader;C&&C.loadLanguages(f),p(x,function(v){N.setAttribute(a,d);var R=m(N.getAttribute("data-range"));if(R){var T=v.split(/\r\n?|\n/g),A=R[0],w=R[1]==null?T.length:R[1];A<0&&(A+=T.length),A=Math.max(0,Math.min(A-1,T.length)),w<0&&(w+=T.length),w=Math.max(0,Math.min(w,T.length)),v=T.slice(A,w).join(`
`),N.hasAttribute("data-start")||N.setAttribute("data-start",String(A+1))}g.textContent=v,r.highlightElement(g)},function(v){N.setAttribute(a,u),g.textContent=v})}}),r.plugins.fileHighlight={highlight:function(N){for(var g=(N||document).querySelectorAll(h),x=0,f;f=g[x++];)r.highlightElement(f)}};var j=!1;r.fileHighlight=function(){j||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),j=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Kx);var z1=Kx.exports;const V1=Zl(z1);Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var t=n.languages.extend("typescript",{});delete t["class-name"],n.languages.typescript["class-name"].inside=t,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(n){var t=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,s="(?:"+r.source+"(?:[ 	]+"+t.source+")?|"+t.source+"(?:[ 	]+"+r.source+")?)",l=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),i=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(a,c){c=(c||"").replace(/m/g,"")+"m";var d=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return s}).replace(/<<value>>/g,function(){return a});return RegExp(d,c)}n.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return s})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return s}).replace(/<<key>>/g,function(){return"(?:"+l+"|"+i+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(i),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml})(Prism);function nt({code:n,language:t="go",collapsible:r=!1}){const s=_.useRef(null),[l,i]=_.useState(!1),[o,a]=_.useState(!1),[c,d]=_.useState(0);_.useEffect(()=>{if(s.current){V1.highlightElement(s.current);const y=n.split(`
`).length;d(y),console.log("CodeBlock: Lines:",y,"Collapse?:",y>3)}},[n]);const u=async()=>{try{if(console.log("Attempting to copy code:",{codeLength:n.length,code:n.substring(0,100)}),navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(n),console.log("Successfully copied to clipboard"),a(!0),setTimeout(()=>a(!1),2e3);else{const y=document.createElement("textarea");y.value=n,y.style.position="fixed",y.style.left="-999999px",document.body.appendChild(y),y.focus(),y.select();const N=document.execCommand("copy");document.body.removeChild(y),N?(console.log("Successfully copied to clipboard (fallback)"),a(!0),setTimeout(()=>a(!1),2e3)):console.error("Fallback copy failed")}}catch(y){console.error("Failed to copy:",y)}},h=r&&c>3,p=t==="go"?"code-go":"code-block",m=`language-${t}`,j=`${p} ${h&&!l?"collapsed":""}`;return console.log("CodeBlock render:",{lineCount:c,shouldCollapse:h,isExpanded:l,preClassName:j}),e.jsxs("div",{className:"code-block-container",children:[e.jsxs("div",{className:"code-block-header",children:[e.jsx("div",{className:"code-block-info",children:h&&e.jsxs("button",{className:"code-block-toggle",onClick:()=>i(!l),"aria-label":l?"Collapse code":"Expand code",title:l?"Collapse":"Expand",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l?e.jsx("path",{d:"M2 5l6 6 6-6H2z"}):e.jsx("path",{d:"M6 2v12l6-6-6-6z"})}),e.jsx("span",{className:"code-block-line-count",children:l?"Collapse":`Show all (${c} lines)`})]})}),e.jsxs("button",{className:"code-copy-btn",onClick:u,"aria-label":"Copy code",title:"Copy to clipboard",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[e.jsx("path",{d:"M4 1.5H3a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v-1a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v1zm5-1v1H6v-1h3z"}),e.jsx("path",{d:"M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H4.5a.5.5 0 0 1-.5-.5v-9z"})]}),e.jsx("span",{className:`copy-feedback ${o?"show":""}`,children:o?"Copied!":"Copy"})]})]}),e.jsx("pre",{className:j,children:e.jsx("code",{ref:s,className:m,children:n})})]})}function H1(n){return(n.match(/```/g)||[]).length%2!==0?n+"\n```":n}const G1={code({node:n,className:t,children:r,...s}){const l=/language-(\w+)/.exec(t||"");if(!l&&!t)return e.jsx("code",{className:"inline-code",...s,children:r});const o=l?l[1]:"text",a=String(r).replace(/\n$/,"");return e.jsx("div",{className:"chat-code-block-wrapper",children:e.jsx(nt,{code:a,language:o,collapsible:!0})})},h1:({children:n})=>e.jsx("h1",{className:"markdown-h1",children:n}),h2:({children:n})=>e.jsx("h2",{className:"markdown-h2",children:n}),h3:({children:n})=>e.jsx("h3",{className:"markdown-h3",children:n}),ul:({children:n})=>e.jsx("ul",{className:"markdown-list",children:n}),ol:({children:n})=>e.jsx("ol",{className:"markdown-list markdown-list-ordered",children:n}),li:({children:n})=>e.jsx("li",{className:"markdown-list-item",children:n}),p:({children:n})=>e.jsx("p",{className:"markdown-paragraph",children:n}),strong:({children:n})=>e.jsx("strong",{className:"markdown-bold",children:n}),em:({children:n})=>e.jsx("em",{className:"markdown-italic",children:n}),blockquote:({children:n})=>e.jsx("blockquote",{className:"markdown-blockquote",children:n}),a:({href:n,children:t})=>e.jsx("a",{href:n,className:"markdown-link",target:"_blank",rel:"noopener noreferrer",children:t})};function $1(n){const t=H1(n);return e.jsx(wN,{remarkPlugins:[D1],components:G1,children:t})}function W1(){var S,re;const{models:n,loading:t,loadModels:r}=gi(),{messages:s,setMessages:l,clearMessages:i}=F1(),{sampling:o,setSampling:a}=q1(),[c,d]=_.useState(()=>localStorage.getItem("kronk_chat_model")||""),[u,h]=_.useState(""),[p,m]=_.useState(!1),[j,y]=_.useState(null),[N,g]=_.useState(!1),[x,f]=_.useState([]),[b,C]=_.useState(!1),[v,R]=_.useState([]),[T,A]=_.useState(null),w=_.useRef(null),M=_.useRef(null),B=_.useRef(null),H=_.useRef(null),O=_.useRef(null),U=_.useCallback(E=>({temperature:E.temperature||ge.temperature,topK:E.top_k||ge.topK,topP:E.top_p||ge.topP,minP:E.min_p||ge.minP,maxTokens:E.max_tokens||ge.maxTokens,repeatPenalty:E.repeat_penalty||ge.repeatPenalty,repeatLastN:E.repeat_last_n||ge.repeatLastN,dryMultiplier:E.dry_multiplier||ge.dryMultiplier,dryBase:E.dry_base||ge.dryBase,dryAllowedLen:E.dry_allowed_length||ge.dryAllowedLen,dryPenaltyLast:E.dry_penalty_last_n??ge.dryPenaltyLast,xtcProbability:E.xtc_probability??ge.xtcProbability,xtcThreshold:E.xtc_threshold||ge.xtcThreshold,xtcMinKeep:E.xtc_min_keep||ge.xtcMinKeep,enableThinking:E.enable_thinking||ge.enableThinking,reasoningEffort:E.reasoning_effort||ge.reasoningEffort,returnPrompt:ge.returnPrompt,includeUsage:ge.includeUsage,logprobs:ge.logprobs,topLogprobs:ge.topLogprobs}),[]),ie=_.useCallback(E=>{if(E){const z=U(E);a(z),A(z)}else A(null)},[a,U]);_.useEffect(()=>{r(),Ie.listModelsExtended().then(E=>{E!=null&&E.data&&R(E.data)}).catch(()=>{})},[r]),_.useEffect(()=>{if(n!=null&&n.data&&n.data.length>0){const E=n.data.filter(J=>{const ue=J.id.toLowerCase();return!ue.includes("embed")&&!ue.includes("rerank")});!E.some(J=>J.id===c)&&E.length>0&&d(E[0].id)}},[n,c]),_.useEffect(()=>{if(c){if(localStorage.setItem("kronk_chat_model",c),w.current!==null&&w.current!==c){const E=v.find(z=>z.id===c);ie(E==null?void 0:E.sampling)}w.current=c}},[c,v,ie]),_.useEffect(()=>{if(c&&v.length>0&&T===null){const E=v.find(z=>z.id===c);E!=null&&E.sampling&&A(U(E.sampling))}},[c,v,T,U]),_.useEffect(()=>{var E;(E=M.current)==null||E.scrollIntoView({behavior:"smooth"})},[s]),_.useEffect(()=>{var E;!p&&c&&((E=B.current)==null||E.focus())},[p,c]);const G=E=>{if(E.preventDefault(),!u.trim()&&x.length===0||!c||p)return;const z={role:"user",content:u.trim(),attachments:x.length>0?[...x]:void 0};l(pe=>[...pe,z]),h(""),f([]),y(null),m(!0);const J=(pe,Ee)=>{if(Ee.length===0)return pe;const En=[];pe&&En.push({type:"text",text:pe});for(const Rn of Ee)if(Rn.type==="image")En.push({type:"image_url",image_url:{url:Rn.dataUrl}});else if(Rn.type==="audio"){const Fn=Rn.dataUrl.match(/^data:audio\/(\w+);base64,(.+)$/);Fn&&En.push({type:"input_audio",input_audio:{data:Fn[2],format:Fn[1]}})}return En},ue=[...s.map(pe=>({role:pe.role,content:pe.attachments?J(pe.content,pe.attachments):pe.content})),{role:"user",content:J(u.trim(),x)}];let We="",Ue="",Qe,Jn=[];l(pe=>[...pe,{role:"assistant",content:"",reasoning:""}]),O.current=Ie.streamChat({model:c,messages:ue,max_tokens:o.maxTokens,temperature:o.temperature,top_p:o.topP,top_k:o.topK,min_p:o.minP,repeat_penalty:o.repeatPenalty,repeat_last_n:o.repeatLastN,dry_multiplier:o.dryMultiplier,dry_base:o.dryBase,dry_allowed_length:o.dryAllowedLen,dry_penalty_last_n:o.dryPenaltyLast,xtc_probability:o.xtcProbability,xtc_threshold:o.xtcThreshold,xtc_min_keep:o.xtcMinKeep,enable_thinking:o.enableThinking||void 0,reasoning_effort:o.reasoningEffort||void 0,return_prompt:o.returnPrompt,stream_options:{include_usage:o.includeUsage},logprobs:o.logprobs,top_logprobs:o.topLogprobs},pe=>{var En,Rn,Fn,qs;const Ee=(En=pe.choices)==null?void 0:En[0];(Rn=Ee==null?void 0:Ee.delta)!=null&&Rn.content&&(We+=Ee.delta.content),(Fn=Ee==null?void 0:Ee.delta)!=null&&Fn.reasoning&&(Ue+=Ee.delta.reasoning),(qs=Ee==null?void 0:Ee.delta)!=null&&qs.tool_calls&&Ee.delta.tool_calls.length>0&&(Jn=[...Jn,...Ee.delta.tool_calls]),pe.usage&&(Qe=pe.usage),l(Ks=>{const $t=[...Ks];return $t[$t.length-1]={role:"assistant",content:We,reasoning:Ue,usage:Qe,toolCalls:Jn.length?Jn:void 0},$t})},pe=>{y(pe),m(!1)},()=>{m(!1)})},P=()=>{O.current&&(O.current(),O.current=null,m(!1))},q=()=>{i(),y(null),f([])},k=E=>{const z=E.target.files;z&&(Array.from(z).forEach(J=>{const ue=new FileReader;ue.onload=()=>{const We=ue.result,Ue=J.type.startsWith("image/")?"image":"audio";f(Qe=>[...Qe,{type:Ue,name:J.name,dataUrl:We}])},ue.readAsDataURL(J)}),E.target.value="")},Q=E=>{f(z=>z.filter((J,ue)=>ue!==E))},$=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),G(E))};return e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"chat-header",children:[e.jsxs("div",{className:"chat-header-left",children:[e.jsx("h2",{children:"Apps"}),e.jsxs("select",{value:c,onChange:E=>d(E.target.value),disabled:t||p,className:"chat-model-select",children:[t&&e.jsx("option",{children:"Loading models..."}),!t&&((S=n==null?void 0:n.data)==null?void 0:S.length)===0&&e.jsx("option",{children:"No models available"}),(re=n==null?void 0:n.data)==null?void 0:re.filter(E=>{const z=E.id.toLowerCase();return!z.includes("embed")&&!z.includes("rerank")}).map(E=>e.jsx("option",{value:E.id,children:E.id},E.id))]})]}),e.jsxs("div",{className:"chat-header-right",children:[e.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(!N),children:["Settings",ru(o,T)&&e.jsx("span",{className:"chat-setting-default",children:""})]}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:q,disabled:p||s.length===0,children:"Clear chat"})]})]}),N&&e.jsxs("div",{className:"chat-settings",children:[e.jsxs("div",{className:`chat-setting ${X("maxTokens",o.maxTokens,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Max Tokens",X("maxTokens",o.maxTokens,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("maxTokens",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.maxTokens,onChange:E=>a({maxTokens:Number(E.target.value)}),min:1,max:32768})]}),e.jsxs("div",{className:`chat-setting ${X("temperature",o.temperature,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Temperature",X("temperature",o.temperature,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("temperature",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.temperature,onChange:E=>a({temperature:Number(E.target.value)}),min:0,max:2,step:.1})]}),e.jsxs("div",{className:`chat-setting ${X("topP",o.topP,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Top P",X("topP",o.topP,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("topP",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.topP,onChange:E=>a({topP:Number(E.target.value)}),min:0,max:1,step:.05})]}),e.jsxs("div",{className:`chat-setting ${X("topK",o.topK,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Top K",X("topK",o.topK,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("topK",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.topK,onChange:E=>a({topK:Number(E.target.value)}),min:1,max:100})]}),e.jsxs("div",{className:"chat-setting chat-setting-button",children:[e.jsx("label",{children:""}),e.jsxs("button",{type:"button",className:"chat-advanced-toggle",onClick:()=>C(!b),children:["Advanced ",b?"":"",U1(o,T)&&e.jsx("span",{className:"chat-setting-default",children:""})]})]}),e.jsx("div",{className:"chat-setting chat-setting-button",children:ru(o,T)&&T&&e.jsx("button",{type:"button",className:"chat-reset-defaults",onClick:()=>a(T),title:"Reset all sampling values to model defaults",children:"Reset to default"})}),b&&e.jsxs("div",{className:"chat-advanced-settings",children:[e.jsxs("div",{className:`chat-setting ${X("minP",o.minP,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Min P",X("minP",o.minP,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("minP",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.minP,onChange:E=>a({minP:Number(E.target.value)}),min:0,max:1,step:.01})]}),e.jsxs("div",{className:`chat-setting ${X("repeatPenalty",o.repeatPenalty,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Repeat Penalty",X("repeatPenalty",o.repeatPenalty,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("repeatPenalty",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.repeatPenalty,onChange:E=>a({repeatPenalty:Number(E.target.value)}),min:0,max:2,step:.1})]}),e.jsxs("div",{className:`chat-setting ${X("repeatLastN",o.repeatLastN,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Repeat Last N",X("repeatLastN",o.repeatLastN,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("repeatLastN",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.repeatLastN,onChange:E=>a({repeatLastN:Number(E.target.value)}),min:-1,max:512})]}),e.jsxs("div",{className:`chat-setting ${X("dryMultiplier",o.dryMultiplier,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["DRY Multiplier",X("dryMultiplier",o.dryMultiplier,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("dryMultiplier",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.dryMultiplier,onChange:E=>a({dryMultiplier:Number(E.target.value)}),min:0,step:.1})]}),e.jsxs("div",{className:`chat-setting ${X("dryBase",o.dryBase,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["DRY Base",X("dryBase",o.dryBase,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("dryBase",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.dryBase,onChange:E=>a({dryBase:Number(E.target.value)}),min:1,step:.05})]}),e.jsxs("div",{className:`chat-setting ${X("dryAllowedLen",o.dryAllowedLen,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["DRY Allowed Length",X("dryAllowedLen",o.dryAllowedLen,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("dryAllowedLen",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.dryAllowedLen,onChange:E=>a({dryAllowedLen:Number(E.target.value)}),min:0})]}),e.jsxs("div",{className:`chat-setting ${X("dryPenaltyLast",o.dryPenaltyLast,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["DRY Penalty Last N",X("dryPenaltyLast",o.dryPenaltyLast,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("dryPenaltyLast",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.dryPenaltyLast,onChange:E=>a({dryPenaltyLast:Number(E.target.value)}),min:-1})]}),e.jsxs("div",{className:`chat-setting ${X("xtcProbability",o.xtcProbability,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["XTC Probability",X("xtcProbability",o.xtcProbability,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("xtcProbability",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.xtcProbability,onChange:E=>a({xtcProbability:Number(E.target.value)}),min:0,max:1,step:.01})]}),e.jsxs("div",{className:`chat-setting ${X("xtcThreshold",o.xtcThreshold,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["XTC Threshold",X("xtcThreshold",o.xtcThreshold,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("xtcThreshold",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.xtcThreshold,onChange:E=>a({xtcThreshold:Number(E.target.value)}),min:0,max:1,step:.01})]}),e.jsxs("div",{className:`chat-setting ${X("xtcMinKeep",o.xtcMinKeep,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["XTC Min Keep",X("xtcMinKeep",o.xtcMinKeep,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("xtcMinKeep",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.xtcMinKeep,onChange:E=>a({xtcMinKeep:Number(E.target.value)}),min:1})]}),e.jsxs("div",{className:`chat-setting ${X("enableThinking",o.enableThinking,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Enable Thinking",X("enableThinking",o.enableThinking,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("enableThinking",T)}`,children:""})]}),e.jsxs("select",{value:o.enableThinking,onChange:E=>a({enableThinking:E.target.value}),children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"true",children:"Enabled"}),e.jsx("option",{value:"false",children:"Disabled"})]})]}),e.jsxs("div",{className:`chat-setting ${X("reasoningEffort",o.reasoningEffort,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Reasoning Effort",X("reasoningEffort",o.reasoningEffort,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("reasoningEffort",T)}`,children:""})]}),e.jsxs("select",{value:o.reasoningEffort,onChange:E=>a({reasoningEffort:E.target.value}),children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{className:`chat-setting ${X("topLogprobs",o.topLogprobs,T)?"chat-setting-changed":""}`,children:[e.jsxs("label",{children:["Top Logprobs",X("topLogprobs",o.topLogprobs,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("topLogprobs",T)}`,children:""})]}),e.jsx("input",{type:"number",value:o.topLogprobs,onChange:E=>a({topLogprobs:Number(E.target.value)}),min:0,max:20})]}),e.jsx("div",{className:`chat-setting chat-setting-checkbox ${X("returnPrompt",o.returnPrompt,T)?"chat-setting-changed":""}`,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:o.returnPrompt,onChange:E=>a({returnPrompt:E.target.checked})}),"Return Prompt",X("returnPrompt",o.returnPrompt,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("returnPrompt",T)}`,children:""})]})}),e.jsx("div",{className:`chat-setting chat-setting-checkbox ${X("includeUsage",o.includeUsage,T)?"chat-setting-changed":""}`,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:o.includeUsage,onChange:E=>a({includeUsage:E.target.checked})}),"Include Usage",X("includeUsage",o.includeUsage,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("includeUsage",T)}`,children:""})]})}),e.jsx("div",{className:`chat-setting chat-setting-checkbox ${X("logprobs",o.logprobs,T)?"chat-setting-changed":""}`,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:o.logprobs,onChange:E=>a({logprobs:E.target.checked})}),"Logprobs",X("logprobs",o.logprobs,T)&&e.jsx("span",{className:"chat-setting-default",title:`Default: ${we("logprobs",T)}`,children:""})]})})]})]}),j&&e.jsx("div",{className:"alert alert-error",children:j}),e.jsxs("div",{className:"chat-messages",children:[s.length===0&&e.jsxs("div",{className:"chat-empty",children:[e.jsx("p",{children:"Select a model and start chatting"}),e.jsx("p",{className:"chat-empty-hint",children:"Type a message below to begin"})]}),s.map((E,z)=>e.jsxs("div",{className:`chat-message chat-message-${E.role}`,children:[e.jsx("div",{className:"chat-message-header",children:E.role==="user"?"USER":"MODEL"}),E.attachments&&E.attachments.length>0&&e.jsx("div",{className:"chat-message-attachments",children:E.attachments.map((J,ue)=>e.jsx("div",{className:"chat-attachment-preview",children:J.type==="image"?e.jsx("img",{src:J.dataUrl,alt:J.name,className:"chat-attachment-image"}):e.jsx("div",{className:"chat-attachment-audio",children:e.jsxs("span",{children:[" ",J.name]})})},ue))}),E.reasoning&&e.jsx("div",{className:"chat-message-reasoning",children:E.reasoning}),e.jsx("div",{className:"chat-message-content",children:E.content?$1(E.content):p&&z===s.length-1?"...":""}),E.toolCalls&&E.toolCalls.length>0&&e.jsx("div",{className:"chat-message-tool-calls",children:E.toolCalls.map(J=>e.jsxs("div",{className:"chat-tool-call",children:["Tool call ",J.id,": ",J.function.name,"(",J.function.arguments,")"]},J.id))}),E.usage&&e.jsxs("div",{className:"chat-message-usage",children:["Input: ",E.usage.prompt_tokens," | Reasoning: ",E.usage.reasoning_tokens," | Completion: ",E.usage.completion_tokens," | Output: ",E.usage.output_tokens," | TPS: ",E.usage.tokens_per_second.toFixed(2)]})]},z)),e.jsx("div",{ref:M})]}),e.jsx("form",{onSubmit:G,className:"chat-input-form",children:e.jsxs("div",{className:"chat-input-row",children:[x.length>0&&e.jsx("div",{className:"chat-attachments-bar",children:x.map((E,z)=>e.jsxs("div",{className:"chat-attachment-chip",children:[E.type==="image"?e.jsx("img",{src:E.dataUrl,alt:E.name,className:"chat-attachment-chip-image"}):e.jsx("span",{className:"chat-attachment-chip-audio",children:""}),e.jsx("span",{className:"chat-attachment-chip-name",children:E.name}),e.jsx("button",{type:"button",className:"chat-attachment-chip-remove",onClick:()=>Q(z),children:""})]},z))}),e.jsx("textarea",{ref:B,value:u,onChange:E=>h(E.target.value),onKeyDown:$,placeholder:"Type your message... (Enter to send, Shift+Enter for new line)",disabled:p||!c,className:"chat-input",rows:3}),e.jsxs("div",{className:"chat-input-buttons",children:[e.jsx("input",{ref:H,type:"file",accept:"image/*,audio/*",multiple:!0,onChange:k,style:{display:"none"}}),e.jsx("button",{type:"button",className:"btn btn-secondary chat-attach-btn",onClick:()=>{var E;return(E=H.current)==null?void 0:E.click()},disabled:p||!c,children:""}),p?e.jsx("button",{type:"button",className:"btn btn-danger",onClick:P,children:"Stop"}):e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!u.trim()&&x.length===0||!c,children:"Send"})]})]})})]})}function Q1(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"SDK Documentation"}),e.jsx("p",{children:"Documentation for the Kronk SDK"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:" Under Construction"}),e.jsx("p",{children:"SDK documentation is coming soon."})]})})]})}function Y1(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Kronk Package"}),e.jsx("p",{children:"Package kronk provides support for working with models using llama.cpp via yzma."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Import"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'import "github.com/ardanlabs/kronk/sdk/kronk"'})})]}),e.jsxs("div",{className:"card",id:"functions",children:[e.jsx("h3",{children:"Functions"}),e.jsxs("div",{className:"doc-section",id:"func-init",children:[e.jsx("h4",{children:"Init"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func Init(opts ...InitOption) error"})}),e.jsx("p",{className:"doc-description",children:"Init initializes the Kronk backend support."})]}),e.jsxs("div",{className:"doc-section",id:"func-setfmtloggertraceid",children:[e.jsx("h4",{children:"SetFmtLoggerTraceID"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func SetFmtLoggerTraceID(ctx context.Context, traceID string) context.Context"})}),e.jsx("p",{className:"doc-description",children:"SetFmtLoggerTraceID allows you to set a trace id in the content that can be part of the output of the FmtLogger."})]}),e.jsxs("div",{className:"doc-section",id:"func-new",children:[e.jsx("h4",{children:"New"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func New(cfg model.Config, opts ...Option) (*Kronk, error)"})}),e.jsx("p",{className:"doc-description",children:"New provides the ability to use models in a concurrently safe way."})]})]}),e.jsxs("div",{className:"card",id:"types",children:[e.jsx("h3",{children:"Types"}),e.jsxs("div",{className:"doc-section",id:"type-incompletedetail",children:[e.jsx("h4",{children:"IncompleteDetail"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type IncompleteDetail struct {\n	Reason string `json:"reason"`\n}'})}),e.jsx("p",{className:"doc-description",children:"IncompleteDetail provides details about why a response is incomplete."})]}),e.jsxs("div",{className:"doc-section",id:"type-initoption",children:[e.jsx("h4",{children:"InitOption"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type InitOption func(*initOptions)"})}),e.jsx("p",{className:"doc-description",children:"InitOption represents options for configuring Init."})]}),e.jsxs("div",{className:"doc-section",id:"type-inputtokensdetails",children:[e.jsx("h4",{children:"InputTokensDetails"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type InputTokensDetails struct {\n	CachedTokens int `json:"cached_tokens"`\n}'})}),e.jsx("p",{className:"doc-description",children:"InputTokensDetails provides breakdown of input tokens."})]}),e.jsxs("div",{className:"doc-section",id:"type-kronk",children:[e.jsx("h4",{children:"Kronk"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type Kronk struct {
	// Has unexported fields.
}`})}),e.jsx("p",{className:"doc-description",children:"Kronk provides a concurrently safe api for using llama.cpp to access models."})]}),e.jsxs("div",{className:"doc-section",id:"type-loglevel",children:[e.jsx("h4",{children:"LogLevel"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type LogLevel int"})}),e.jsx("p",{className:"doc-description",children:"LogLevel represents the logging level."})]}),e.jsxs("div",{className:"doc-section",id:"type-logger",children:[e.jsx("h4",{children:"Logger"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type Logger func(ctx context.Context, msg string, args ...any)"})}),e.jsx("p",{className:"doc-description",children:"Logger provides a function for logging messages from different APIs."})]}),e.jsxs("div",{className:"doc-section",id:"type-option",children:[e.jsx("h4",{children:"Option"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type Option func(*options)"})}),e.jsx("p",{className:"doc-description",children:"Option represents options for configuring Kronk."})]}),e.jsxs("div",{className:"doc-section",id:"type-outputtokensdetails",children:[e.jsx("h4",{children:"OutputTokensDetails"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type OutputTokensDetails struct {\n	ReasoningTokens int `json:"reasoning_tokens"`\n}'})}),e.jsx("p",{className:"doc-description",children:"OutputTokensDetails provides breakdown of output tokens."})]}),e.jsxs("div",{className:"doc-section",id:"type-responsecontentitem",children:[e.jsx("h4",{children:"ResponseContentItem"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseContentItem struct {\n	Type        string   `json:"type"`\n	Text        string   `json:"text"`\n	Annotations []string `json:"annotations"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseContentItem represents a content item within an output message."})]}),e.jsxs("div",{className:"doc-section",id:"type-responseerror",children:[e.jsx("h4",{children:"ResponseError"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseError struct {\n	Code    string `json:"code"`\n	Message string `json:"message"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseError represents an error in the response."})]}),e.jsxs("div",{className:"doc-section",id:"type-responseformattype",children:[e.jsx("h4",{children:"ResponseFormatType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseFormatType struct {\n	Type string `json:"type"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseFormatType specifies the format type."})]}),e.jsxs("div",{className:"doc-section",id:"type-responseoutputitem",children:[e.jsx("h4",{children:"ResponseOutputItem"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseOutputItem struct {\n	Type      string                `json:"type"`\n	ID        string                `json:"id"`\n	Status    string                `json:"status,omitempty"`\n	Role      string                `json:"role,omitempty"`\n	Content   []ResponseContentItem `json:"content,omitempty"`\n	CallID    string                `json:"call_id,omitempty"`\n	Name      string                `json:"name,omitempty"`\n	Arguments string                `json:"arguments,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:'ResponseOutputItem represents an item in the output array. For type="message": ID, Status, Role, Content are used. For type="function_call": ID, Status, CallID, Name, Arguments are used.'})]}),e.jsxs("div",{className:"doc-section",id:"type-responsereasoning",children:[e.jsx("h4",{children:"ResponseReasoning"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseReasoning struct {\n	Effort  *string `json:"effort"`\n	Summary *string `json:"summary"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseReasoning contains reasoning configuration/output."})]}),e.jsxs("div",{className:"doc-section",id:"type-responseresponse",children:[e.jsx("h4",{children:"ResponseResponse"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseResponse struct {\n	ID               string                 `json:"id"`\n	Object           string                 `json:"object"`\n	CreatedAt        int64                  `json:"created_at"`\n	Status           string                 `json:"status"`\n	CompletedAt      *int64                 `json:"completed_at"`\n	Error            *ResponseError         `json:"error"`\n	IncompleteDetail *IncompleteDetail      `json:"incomplete_details"`\n	Instructions     *string                `json:"instructions"`\n	MaxOutputTokens  *int                   `json:"max_output_tokens"`\n	Model            string                 `json:"model"`\n	Output           []ResponseOutputItem   `json:"output"`\n	ParallelToolCall bool                   `json:"parallel_tool_calls"`\n	PrevResponseID   *string                `json:"previous_response_id"`\n	Reasoning        ResponseReasoning      `json:"reasoning"`\n	Store            bool                   `json:"store"`\n	Temperature      float64                `json:"temperature"`\n	Text             ResponseTextFormat     `json:"text"`\n	ToolChoice       string                 `json:"tool_choice"`\n	Tools            []any                  `json:"tools"`\n	TopP             float64                `json:"top_p"`\n	Truncation       string                 `json:"truncation"`\n	Usage            ResponseUsage          `json:"usage"`\n	User             *string                `json:"user"`\n	Metadata         map[string]interface{} `json:"metadata"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseResponse represents the OpenAI Responses API response format."})]}),e.jsxs("div",{className:"doc-section",id:"type-responsestreamevent",children:[e.jsx("h4",{children:"ResponseStreamEvent"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseStreamEvent struct {\n	Type           string               `json:"type"`\n	SequenceNumber int                  `json:"sequence_number"`\n	Response       *ResponseResponse    `json:"response,omitempty"`\n	OutputIndex    *int                 `json:"output_index,omitempty"`\n	ContentIndex   *int                 `json:"content_index,omitempty"`\n	ItemID         string               `json:"item_id,omitempty"`\n	Item           *ResponseOutputItem  `json:"item,omitempty"`\n	Part           *ResponseContentItem `json:"part,omitempty"`\n	Delta          string               `json:"delta,omitempty"`\n	Text           string               `json:"text,omitempty"`\n	Arguments      string               `json:"arguments,omitempty"`\n	Name           string               `json:"name,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseStreamEvent represents a streaming event for the Responses API."})]}),e.jsxs("div",{className:"doc-section",id:"type-responsetextformat",children:[e.jsx("h4",{children:"ResponseTextFormat"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseTextFormat struct {\n	Format ResponseFormatType `json:"format"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseTextFormat specifies the text format configuration."})]}),e.jsxs("div",{className:"doc-section",id:"type-responseusage",children:[e.jsx("h4",{children:"ResponseUsage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseUsage struct {\n	InputTokens        int                 `json:"input_tokens"`\n	InputTokensDetails InputTokensDetails  `json:"input_tokens_details"`\n	OutputTokens       int                 `json:"output_tokens"`\n	OutputTokenDetail  OutputTokensDetails `json:"output_tokens_details"`\n	TotalTokens        int                 `json:"total_tokens"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseUsage contains token usage information."})]})]}),e.jsxs("div",{className:"card",id:"methods",children:[e.jsx("h3",{children:"Methods"}),e.jsxs("div",{className:"doc-section",id:"method-kronk-activestreams",children:[e.jsx("h4",{children:"Kronk.ActiveStreams"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ActiveStreams() int"})}),e.jsx("p",{className:"doc-description",children:"ActiveStreams returns the number of active streams."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-chat",children:[e.jsx("h4",{children:"Kronk.Chat"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) Chat(ctx context.Context, d model.D) (model.ChatResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"Chat provides support to interact with an inference model. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-chatstreaming",children:[e.jsx("h4",{children:"Kronk.ChatStreaming"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ChatStreaming(ctx context.Context, d model.D) (<-chan model.ChatResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"ChatStreaming provides support to interact with an inference model. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-chatstreaminghttp",children:[e.jsx("h4",{children:"Kronk.ChatStreamingHTTP"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ChatStreamingHTTP(ctx context.Context, w http.ResponseWriter, d model.D) (model.ChatResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"ChatStreamingHTTP provides http handler support for a chat/completions call. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-embeddings",children:[e.jsx("h4",{children:"Kronk.Embeddings"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) Embeddings(ctx context.Context, d model.D) (model.EmbedReponse, error)"})}),e.jsx("p",{className:"doc-description",children:'Embeddings provides support to interact with an embedding model. Supported options in d: - input (string): the text to embed (required) - truncate (bool): if true, truncate input to fit context window (default: false) - truncate_direction (string): "right" (default) or "left" - dimensions (int): reduce output to first N dimensions (for Matryoshka models) Each model instance processes calls sequentially (llama.cpp only supports sequence 0 for embedding extraction). Use NSeqMax > 1 to create multiple model instances for concurrent request handling. Batch multiple texts in the input parameter for better performance within a single request.'})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-embeddingshttp",children:[e.jsx("h4",{children:"Kronk.EmbeddingsHTTP"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) EmbeddingsHTTP(ctx context.Context, log Logger, w http.ResponseWriter, d model.D) (model.EmbedReponse, error)"})}),e.jsx("p",{className:"doc-description",children:"EmbeddingsHTTP provides http handler support for an embeddings call."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-modelconfig",children:[e.jsx("h4",{children:"Kronk.ModelConfig"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ModelConfig() model.Config"})}),e.jsx("p",{className:"doc-description",children:"ModelConfig returns a copy of the configuration being used. This may be different from the configuration passed to New() if the model has overridden any of the settings."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-modelinfo",children:[e.jsx("h4",{children:"Kronk.ModelInfo"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ModelInfo() model.ModelInfo"})}),e.jsx("p",{className:"doc-description",children:"ModelInfo returns the model information."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-rerank",children:[e.jsx("h4",{children:"Kronk.Rerank"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) Rerank(ctx context.Context, d model.D) (model.RerankResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"Rerank provides support to interact with a reranker model. Supported options in d: - query (string): the query to rank documents against (required) - documents ([]string): the documents to rank (required) - top_n (int): return only the top N results (optional, default: all) - return_documents (bool): include document text in results (default: false) Each model instance processes calls sequentially (llama.cpp only supports sequence 0 for rerank extraction). Use NSeqMax > 1 to create multiple model instances for concurrent request handling. Batch multiple texts in the input parameter for better performance within a single request."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-rerankhttp",children:[e.jsx("h4",{children:"Kronk.RerankHTTP"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) RerankHTTP(ctx context.Context, log Logger, w http.ResponseWriter, d model.D) (model.RerankResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"RerankHTTP provides http handler support for a rerank call."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-response",children:[e.jsx("h4",{children:"Kronk.Response"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) Response(ctx context.Context, d model.D) (ResponseResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"Response provides support to interact with an inference model. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-responsestreaming",children:[e.jsx("h4",{children:"Kronk.ResponseStreaming"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ResponseStreaming(ctx context.Context, d model.D) (<-chan ResponseStreamEvent, error)"})}),e.jsx("p",{className:"doc-description",children:"ResponseStreaming provides streaming support for the Responses API. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-responsestreaminghttp",children:[e.jsx("h4",{children:"Kronk.ResponseStreamingHTTP"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) ResponseStreamingHTTP(ctx context.Context, w http.ResponseWriter, d model.D) (ResponseResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"ResponseStreamingHTTP provides http handler support for a responses call. For text models, NSeqMax controls parallel sequence processing within a single model instance. For vision/audio models, NSeqMax creates multiple model instances in a pool for concurrent request handling."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-systeminfo",children:[e.jsx("h4",{children:"Kronk.SystemInfo"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) SystemInfo() map[string]string"})}),e.jsx("p",{className:"doc-description",children:"SystemInfo returns system information."})]}),e.jsxs("div",{className:"doc-section",id:"method-kronk-unload",children:[e.jsx("h4",{children:"Kronk.Unload"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (krn *Kronk) Unload(ctx context.Context) error"})}),e.jsx("p",{className:"doc-description",children:"Unload will close down the loaded model. You should call this only when you are completely done using Kronk."})]}),e.jsxs("div",{className:"doc-section",id:"method-loglevel-int",children:[e.jsx("h4",{children:"LogLevel.Int"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (ll LogLevel) Int() int"})}),e.jsx("p",{className:"doc-description",children:"Int returns the integer value."})]})]}),e.jsxs("div",{className:"card",id:"constants",children:[e.jsx("h3",{children:"Constants"}),e.jsxs("div",{className:"doc-section",id:"const-version",children:[e.jsx("h4",{children:"Version"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'const Version = "1.17.1"'})}),e.jsx("p",{className:"doc-description",children:"Version contains the current version of the kronk package."})]})]}),e.jsxs("div",{className:"card",id:"variables",children:[e.jsx("h3",{children:"Variables"}),e.jsxs("div",{className:"doc-section",id:"var-discardlogger",children:[e.jsx("h4",{children:"DiscardLogger"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`var DiscardLogger = func(ctx context.Context, msg string, args ...any) {
}`})}),e.jsx("p",{className:"doc-description",children:"DiscardLogger discards logging."})]}),e.jsxs("div",{className:"doc-section",id:"var-fmtlogger",children:[e.jsx("h4",{children:"FmtLogger"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`var FmtLogger = func(ctx context.Context, msg string, args ...any) {
	traceID, ok := ctx.Value(traceIDKey(1)).(string)
	switch ok {
	case true:
		fmt.Printf("traceID: %s: %s:", traceID, msg)
	default:
		fmt.Printf("%s:", msg)
	}

	for i := 0; i < len(args); i += 2 {
		if i+1 < len(args) {
			fmt.Printf(" %v[%v]", args[i], args[i+1])
		}
	}

	if len(msg) > 0 && msg[0] != '\\r' {
		fmt.Println()
	}
}`})}),e.jsx("p",{className:"doc-description",children:"FmtLogger provides a basic logger that writes to stdout."})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#functions",className:"doc-index-header",children:"Functions"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#func-init",children:"Init"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-setfmtloggertraceid",children:"SetFmtLoggerTraceID"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-new",children:"New"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#types",className:"doc-index-header",children:"Types"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#type-incompletedetail",children:"IncompleteDetail"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-initoption",children:"InitOption"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-inputtokensdetails",children:"InputTokensDetails"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-kronk",children:"Kronk"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-loglevel",children:"LogLevel"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-logger",children:"Logger"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-option",children:"Option"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-outputtokensdetails",children:"OutputTokensDetails"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsecontentitem",children:"ResponseContentItem"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responseerror",children:"ResponseError"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responseformattype",children:"ResponseFormatType"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responseoutputitem",children:"ResponseOutputItem"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsereasoning",children:"ResponseReasoning"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responseresponse",children:"ResponseResponse"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsestreamevent",children:"ResponseStreamEvent"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsetextformat",children:"ResponseTextFormat"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responseusage",children:"ResponseUsage"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#methods",className:"doc-index-header",children:"Methods"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-activestreams",children:"Kronk.ActiveStreams"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-chat",children:"Kronk.Chat"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-chatstreaming",children:"Kronk.ChatStreaming"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-chatstreaminghttp",children:"Kronk.ChatStreamingHTTP"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-embeddings",children:"Kronk.Embeddings"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-embeddingshttp",children:"Kronk.EmbeddingsHTTP"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-modelconfig",children:"Kronk.ModelConfig"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-modelinfo",children:"Kronk.ModelInfo"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-rerank",children:"Kronk.Rerank"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-rerankhttp",children:"Kronk.RerankHTTP"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-response",children:"Kronk.Response"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-responsestreaming",children:"Kronk.ResponseStreaming"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-responsestreaminghttp",children:"Kronk.ResponseStreamingHTTP"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-systeminfo",children:"Kronk.SystemInfo"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-kronk-unload",children:"Kronk.Unload"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-loglevel-int",children:"LogLevel.Int"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#constants",className:"doc-index-header",children:"Constants"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#const-version",children:"Version"})})})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#variables",className:"doc-index-header",children:"Variables"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#var-discardlogger",children:"DiscardLogger"})}),e.jsx("li",{children:e.jsx("a",{href:"#var-fmtlogger",children:"FmtLogger"})})]})]})]})})]})]})}function X1(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Model Package"}),e.jsx("p",{children:"Package model provides the low-level api for working with models."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Import"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'import "github.com/ardanlabs/kronk/sdk/kronk/model"'})})]}),e.jsxs("div",{className:"card",id:"functions",children:[e.jsx("h3",{children:"Functions"}),e.jsxs("div",{className:"doc-section",id:"func-addparams",children:[e.jsx("h4",{children:"AddParams"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func AddParams(params Params, d D)"})}),e.jsx("p",{className:"doc-description",children:"AddParams adds the values from the Params struct into the provided D map. Only non-zero values are added."})]}),e.jsxs("div",{className:"doc-section",id:"func-checkmodel",children:[e.jsx("h4",{children:"CheckModel"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func CheckModel(modelFile string, checkSHA bool) error"})}),e.jsx("p",{className:"doc-description",children:"CheckModel is check if the downloaded model is valid based on it's sha file. If no sha file exists, this check will return with no error."})]}),e.jsxs("div",{className:"doc-section",id:"func-parseggmltype",children:[e.jsx("h4",{children:"ParseGGMLType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func ParseGGMLType(s string) (GGMLType, error)"})}),e.jsx("p",{className:"doc-description",children:'ParseGGMLType parses a string into a GGMLType. Supported values: "f32", "f16", "q4_0", "q4_1", "q5_0", "q5_1", "q8_0", "bf16", "auto".'})]}),e.jsxs("div",{className:"doc-section",id:"func-newmodel",children:[e.jsx("h4",{children:"NewModel"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func NewModel(ctx context.Context, tmplRetriever TemplateRetriever, cfg Config) (*Model, error)"})})]}),e.jsxs("div",{className:"doc-section",id:"func-parseropescalingtype",children:[e.jsx("h4",{children:"ParseRopeScalingType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func ParseRopeScalingType(s string) (RopeScalingType, error)"})}),e.jsx("p",{className:"doc-description",children:'ParseRopeScalingType parses a string into a RopeScalingType. Supported values: "none", "linear", "yarn".'})]}),e.jsxs("div",{className:"doc-section",id:"func-parsesplitmode",children:[e.jsx("h4",{children:"ParseSplitMode"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func ParseSplitMode(s string) (SplitMode, error)"})}),e.jsx("p",{className:"doc-description",children:'ParseSplitMode parses a string into a SplitMode. Supported values: "none", "layer", "row", "expert-parallel", "tensor-parallel".'})]})]}),e.jsxs("div",{className:"card",id:"types",children:[e.jsx("h3",{children:"Types"}),e.jsxs("div",{className:"doc-section",id:"type-chatresponse",children:[e.jsx("h4",{children:"ChatResponse"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ChatResponse struct {\n	ID      string   `json:"id"`\n	Object  string   `json:"object"`\n	Created int64    `json:"created"`\n	Model   string   `json:"model"`\n	Choice  []Choice `json:"choices"`\n	Usage   *Usage   `json:"usage,omitempty"`\n	Prompt  string   `json:"prompt,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ChatResponse represents output for inference models."})]}),e.jsxs("div",{className:"doc-section",id:"type-choice",children:[e.jsx("h4",{children:"Choice"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type Choice struct {\n	Index           int              `json:"index"`\n	Message         *ResponseMessage `json:"message,omitempty"`\n	Delta           *ResponseMessage `json:"delta,omitempty"`\n	Logprobs        *Logprobs        `json:"logprobs,omitempty"`\n	FinishReasonPtr *string          `json:"finish_reason"`\n}'})}),e.jsx("p",{className:"doc-description",children:"Choice represents a single choice in a response."})]}),e.jsxs("div",{className:"doc-section",id:"type-config",children:[e.jsx("h4",{children:"Config"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type Config struct {
	Log                  Logger
	ModelFiles           []string
	ProjFile             string
	JinjaFile            string
	Device               string
	ContextWindow        int
	NBatch               int
	NUBatch              int
	NThreads             int
	NThreadsBatch        int
	CacheTypeK           GGMLType
	CacheTypeV           GGMLType
	FlashAttention       FlashAttentionType
	UseDirectIO          bool
	IgnoreIntegrityCheck bool
	NSeqMax              int
	OffloadKQV           *bool
	OpOffload            *bool
	NGpuLayers           *int
	SplitMode            SplitMode
	SystemPromptCache    bool
	IncrementalCache     bool
	MaxCacheSessions     int
	CacheMinTokens       int
	InsecureLogging      bool
	RopeScaling          RopeScalingType
	RopeFreqBase         *float32
	RopeFreqScale        *float32
	YarnExtFactor        *float32
	YarnAttnFactor       *float32
	YarnBetaFast         *float32
	YarnBetaSlow         *float32
	YarnOrigCtx          *int
	DefaultParams        Params
}`})}),e.jsx("p",{className:"doc-description",children:'Config represents model level configuration. These values if configured incorrectly can cause the system to panic. The defaults are used when these values are set to 0. ModelInstances is the number of instances of the model to create. Unless you have more than 1 GPU, the recommended number of instances is 1. ModelFiles is the path to the model files. This is mandatory to provide. ProjFiles is the path to the projection files. This is mandatory for media based models like vision and audio. JinjaFile is the path to the jinja file. This is not required and can be used if you want to override the templated provided by the model metadata. Device is the device to use for the model. If not set, the default device will be used. To see what devices are available, run the following command which will be found where you installed llama.cpp. $ llama-bench --list-devices ContextWindow (often referred to as context length) is the maximum number of tokens that a large language model can process and consider at one time when generating a response. It defines the model\'s effective "memory" for a single conversation or text generation task. When set to 0, the default value is 4096. NBatch is the logical batch size or the maximum number of tokens that can be in a single forward pass through the model at any given time. It defines the maximum capacity of the processing batch. If you are processing a very long prompt or multiple prompts simultaneously, the total number of tokens processed in one go will not exceed NBatch. Increasing n_batch can improve performance (throughput) if your hardware can handle it, as it better utilizes parallel computation. However, a very high n_batch can lead to out-of-memory errors on systems with limited VRAM. When set to 0, the default value is 2048. NUBatch is the physical batch size or the maximum number of tokens processed together during the initial prompt processing phase (also called "prompt ingestion") to populate the KV cache. It specifically optimizes the initial loading of prompt tokens into the KV cache. If a prompt is longer than NUBatch, it will be broken down and processed in chunks of n_ubatch tokens sequentially. This parameter is crucial for tuning performance on specific hardware (especially GPUs) because different values might yield better prompt processing times depending on the memory architecture. When set to 0, the default value is 512. NThreads is the number of threads to use for generation. When set to 0, the default llama.cpp value is used. NThreadsBatch is the number of threads to use for batch processing. When set to 0, the default llama.cpp value is used. CacheTypeK is the data type for the K (key) cache. This controls the precision of the key vectors in the KV cache. Lower precision types (like Q8_0 or Q4_0) reduce memory usage but may slightly affect quality. When set to GGMLTypeAuto or left as zero value, the default llama.cpp value (F16) is used. CacheTypeV is the data type for the V (value) cache. This controls the precision of the value vectors in the KV cache. When set to GGMLTypeAuto or left as zero value, the default llama.cpp value (F16) is used. FlashAttention controls Flash Attention mode. Flash Attention reduces memory usage and speeds up attention computation, especially for large context windows. When left as zero value, FlashAttentionEnabled is used (default on). Set to FlashAttentionDisabled to disable, or FlashAttentionAuto to let llama.cpp decide. IgnoreIntegrityCheck is a boolean that determines if the system should ignore a model integrity check before trying to use it. NSeqMax controls concurrency behavior based on model type. For text inference models, it sets the maximum number of sequences processed in parallel within a single model instance (batched inference). For sequential models (embeddings, reranking, vision, audio), it creates that many model instances in a pool for concurrent request handling. When set to 0, a default of 1 is used. OffloadKQV controls whether the KV cache is offloaded to the GPU. When nil or true, the KV cache is stored on the GPU (default behavior). Set to false to keep the KV cache on the CPU, which reduces VRAM usage but may slow inference. OpOffload controls whether host tensor operations are offloaded to the device (GPU). When nil or true, operations are offloaded (default behavior). Set to false to keep operations on the CPU. NGpuLayers is the number of model layers to offload to the GPU. When set to 0, all layers are offloaded (default). Set to -1 to keep all layers on CPU. Any positive value specifies the exact number of layers to offload. SplitMode controls how the model is split across multiple GPUs: - SplitModeNone (0): single GPU - SplitModeLayer (1): split layers and KV across GPUs - SplitModeRow (2): split layers and KV across GPUs with tensor parallelism (recommended for MoE models like Qwen3-MoE, Mixtral, DeepSeek) When not set, defaults to SplitModeRow for optimal MoE performance. SystemPromptCache enables caching of system prompt KV state. When enabled, the first message with role="system" is cached. The system prompt is evaluated once and its KV cache is copied to all client sequences on subsequent requests with the same system prompt. This avoids redundant prefill computation for applications that use a consistent system prompt. The cache is automatically invalidated and re-evaluated when the system prompt changes. IncrementalCache enables Incremental Message Caching (IMC) for agentic workflows. It caches all messages except the last one (which triggers generation) and extends the cache incrementally on each turn. This is ideal for agents like Cline or OpenCode where conversations grow monotonically. The cache is rebuilt from scratch when the message prefix changes (new thread). MaxCacheSessions sets the maximum number of concurrent cache sessions (users). Each session gets its own dedicated cache sequence, identified by the cache_id parameter in requests. When set to 0, defaults to 1 session. If all sessions are in use, new requests without an available slot bypass caching gracefully. The input request should have `cache_id` with a unique session/user ID to activate caching. Each unique ID gets its own dedicated cache sequence (up to max-cache-sessions). If no cache id is passed, the "default" id is used. On a multi-user system that will cause problems. SystemPromptCache and IncrementalCache are mutually exclusive. IncrementalCache includes the system prompt in its cached prefix, so enabling both is redundant and will return a validation error. CacheMinTokens sets the minimum token count required before caching. Messages shorter than this threshold are not cached, as the overhead of cache management may outweigh the prefill savings. When set to 0, defaults to 100 tokens. InsecureLogging enables logging of potentially sensitive data such as message content. This should only be enabled for debugging purposes in non-production environments. RopeScaling controls the RoPE scaling method for extended context support. Set to RopeScalingYaRN to enable YaRN scaling for models like Qwen3 that support extended context (e.g., 32k training  131k with YaRN). RopeFreqBase overrides the RoPE base frequency. When nil, uses model default. Common values: 10000 (Llama), 1000000 (Qwen3). RopeFreqScale overrides the RoPE frequency scaling factor. When nil, uses model default or auto-calculates based on context extension ratio. YarnExtFactor sets the YaRN extrapolation mix factor. When nil, auto-calculated from context scaling ratio. Set to 0 to disable extrapolation. YarnAttnFactor sets the YaRN attention magnitude scaling factor. When nil, uses default of 1.0. YarnBetaFast sets the YaRN low correction dimension. When nil, uses default of 32.0. YarnBetaSlow sets the YaRN high correction dimension. When nil, uses default of 1.0. YarnOrigCtx sets the original training context size for YaRN scaling. When nil or 0, uses the model\'s native training context length from metadata.'})]}),e.jsxs("div",{className:"doc-section",id:"type-contentlogprob",children:[e.jsx("h4",{children:"ContentLogprob"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ContentLogprob struct {\n	Token       string       `json:"token"`\n	Logprob     float32      `json:"logprob"`\n	Bytes       []byte       `json:"bytes,omitempty"`\n	TopLogprobs []TopLogprob `json:"top_logprobs,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ContentLogprob represents log probability information for a single token."})]}),e.jsxs("div",{className:"doc-section",id:"type-d",children:[e.jsx("h4",{children:"D"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type D map[string]any"})}),e.jsx("p",{className:"doc-description",children:"D represents a generic docment of fields and values."})]}),e.jsxs("div",{className:"doc-section",id:"type-embeddata",children:[e.jsx("h4",{children:"EmbedData"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type EmbedData struct {\n	Object    string    `json:"object"`\n	Index     int       `json:"index"`\n	Embedding []float32 `json:"embedding"`\n}'})}),e.jsx("p",{className:"doc-description",children:"EmbedData represents the data associated with an embedding call."})]}),e.jsxs("div",{className:"doc-section",id:"type-embedreponse",children:[e.jsx("h4",{children:"EmbedReponse"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type EmbedReponse struct {\n	Object  string      `json:"object"`\n	Created int64       `json:"created"`\n	Model   string      `json:"model"`\n	Data    []EmbedData `json:"data"`\n	Usage   EmbedUsage  `json:"usage"`\n}'})}),e.jsx("p",{className:"doc-description",children:"EmbedReponse represents the output for an embedding call."})]}),e.jsxs("div",{className:"doc-section",id:"type-embedusage",children:[e.jsx("h4",{children:"EmbedUsage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type EmbedUsage struct {\n	PromptTokens int `json:"prompt_tokens"`\n	TotalTokens  int `json:"total_tokens"`\n}'})}),e.jsx("p",{className:"doc-description",children:"EmbedUsage provides token usage information for embeddings."})]}),e.jsxs("div",{className:"doc-section",id:"type-flashattentiontype",children:[e.jsx("h4",{children:"FlashAttentionType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type FlashAttentionType int32"})}),e.jsx("p",{className:"doc-description",children:"FlashAttentionType controls when to enable Flash Attention. Flash Attention reduces memory usage and speeds up attention computation, especially beneficial for large context windows."})]}),e.jsxs("div",{className:"doc-section",id:"type-ggmltype",children:[e.jsx("h4",{children:"GGMLType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type GGMLType int32"})}),e.jsx("p",{className:"doc-description",children:"GGMLType represents a ggml data type for the KV cache. These values correspond to the ggml_type enum in llama.cpp."})]}),e.jsxs("div",{className:"doc-section",id:"type-logger",children:[e.jsx("h4",{children:"Logger"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type Logger func(ctx context.Context, msg string, args ...any)"})}),e.jsx("p",{className:"doc-description",children:"Logger provides a function for logging messages from different APIs."})]}),e.jsxs("div",{className:"doc-section",id:"type-logprobs",children:[e.jsx("h4",{children:"Logprobs"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type Logprobs struct {\n	Content []ContentLogprob `json:"content,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"Logprobs contains log probability information for the response."})]}),e.jsxs("div",{className:"doc-section",id:"type-mediatype",children:[e.jsx("h4",{children:"MediaType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type MediaType int"})})]}),e.jsxs("div",{className:"doc-section",id:"type-model",children:[e.jsx("h4",{children:"Model"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type Model struct {
	// Has unexported fields.
}`})}),e.jsx("p",{className:"doc-description",children:"Model represents a model and provides a low-level API for working with it."})]}),e.jsxs("div",{className:"doc-section",id:"type-modelinfo",children:[e.jsx("h4",{children:"ModelInfo"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type ModelInfo struct {
	ID            string
	HasProjection bool
	Desc          string
	Size          uint64
	IsGPTModel    bool
	IsEmbedModel  bool
	IsRerankModel bool
	Metadata      map[string]string
	Template      Template
}`})}),e.jsx("p",{className:"doc-description",children:"ModelInfo represents the model's card information."})]}),e.jsxs("div",{className:"doc-section",id:"type-params",children:[e.jsx("h4",{children:"Params"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type Params struct {
	// Temperature controls the randomness of the output. It rescales the
	// probability distribution of possible next tokens. Default is 0.8.
	Temperature float32 \`json:"temperature"\`

	// TopK limits the pool of possible next tokens to the K number of most
	// probable tokens. If a model predicts 10,000 possible next tokens, setting
	// top_k to 50 means only the 50 tokens with the highest probabilities are
	// considered for selection (after temperature scaling). Default is 40.
	TopK int32 \`json:"top_k"\`

	// TopP, also known as nucleus sampling, works differently than top_k by
	// selecting a dynamic pool of tokens whose cumulative probability exceeds a
	// threshold P. Instead of a fixed number of tokens (K), it selects the
	// minimum number of most probable tokens required to reach the cumulative
	// probability P. Default is 0.9.
	TopP float32 \`json:"top_p"\`

	// MinP is a dynamic sampling threshold that helps balance the coherence
	// (quality) and diversity (creativity) of the generated text. Default is 0.0.
	MinP float32 \`json:"min_p"\`

	// MaxTokens is the maximum tokens for generation when not derived from the
	// model's context window. Default is 4096.
	MaxTokens int \`json:"max_tokens"\`

	// RepeatPenalty applies a penalty to tokens that have already appeared in
	// the output, reducing repetitive text. A value of 1.0 means no penalty.
	// Values above 1.0 reduce repetition (e.g., 1.1 is a mild penalty, 1.5 is
	// strong). Default is 1.0 which turns it off.
	RepeatPenalty float32 \`json:"repeat_penalty"\`

	// RepeatLastN specifies how many recent tokens to consider when applying
	// the repetition penalty. A larger value considers more context but may be
	// slower. Default is 64.
	RepeatLastN int32 \`json:"repeat_last_n"\`

	// DryMultiplier controls the DRY (Don't Repeat Yourself) sampler which
	// penalizes n-gram pattern repetition. 0.8 - Light repetition penalty,
	// 1.01.5 - Moderate (typical starting point), 2.03.0 - Aggressive.
	// Default is 1.05.
	DryMultiplier float32 \`json:"dry_multiplier"\`

	// DryBase is the base for exponential penalty growth in DRY. Default is 1.75.
	DryBase float32 \`json:"dry_base"\`

	// DryAllowedLen is the minimum n-gram length before DRY applies. Default is 2.
	DryAllowedLen int32 \`json:"dry_allowed_length"\`

	// DryPenaltyLast limits how many recent tokens DRY considers. Default of 0
	// means full context.
	DryPenaltyLast int32 \`json:"dry_penalty_last_n"\`

	// XtcProbability controls XTC (eXtreme Token Culling) which randomly removes
	// tokens close to top probability. Must be > 0 to activate. Default is 0.0
	// (disabled).
	XtcProbability float32 \`json:"xtc_probability"\`

	// XtcThreshold is the probability threshold for XTC culling. Default is 0.1.
	XtcThreshold float32 \`json:"xtc_threshold"\`

	// XtcMinKeep is the minimum tokens to keep after XTC culling. Default is 1.
	XtcMinKeep uint32 \`json:"xtc_min_keep"\`

	// Thinking determines if the model should think or not. It is used for most
	// non-GPT models. It accepts 1, t, T, TRUE, true, True, 0, f, F, FALSE,
	// false, False. Default is "true".
	Thinking string \`json:"enable_thinking"\`

	// ReasoningEffort is a string that specifies the level of reasoning effort
	// to use for GPT models. Default is ReasoningEffortMedium.
	ReasoningEffort string \`json:"reasoning_effort"\`

	// ReturnPrompt determines whether to include the prompt in the final
	// response. When set to true, the prompt will be included. Default is false.
	ReturnPrompt bool \`json:"return_prompt"\`

	// IncludeUsage determines whether to include token usage information in
	// streaming responses. Default is true.
	IncludeUsage bool \`json:"include_usage"\`

	// Logprobs determines whether to return log probabilities of output tokens.
	// When enabled, the response includes probability data for each generated
	// token. Default is false.
	Logprobs bool \`json:"logprobs"\`

	// TopLogprobs specifies how many of the most likely tokens to return at
	// each position, along with their log probabilities. Must be between 0 and
	// 5. Setting this to a value > 0 implicitly enables logprobs. Default is 0.
	TopLogprobs int \`json:"top_logprobs"\`

	// Stream determines whether to stream the response.
	Stream bool \`json:"stream"\`
}`})})]}),e.jsxs("div",{className:"doc-section",id:"type-rerankresponse",children:[e.jsx("h4",{children:"RerankResponse"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type RerankResponse struct {\n	Object  string         `json:"object"`\n	Created int64          `json:"created"`\n	Model   string         `json:"model"`\n	Data    []RerankResult `json:"data"`\n	Usage   RerankUsage    `json:"usage"`\n}'})}),e.jsx("p",{className:"doc-description",children:"RerankResponse represents the output for a reranking call."})]}),e.jsxs("div",{className:"doc-section",id:"type-rerankresult",children:[e.jsx("h4",{children:"RerankResult"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type RerankResult struct {\n	Index          int     `json:"index"`\n	RelevanceScore float32 `json:"relevance_score"`\n	Document       string  `json:"document,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"RerankResult represents a single document's reranking result."})]}),e.jsxs("div",{className:"doc-section",id:"type-rerankusage",children:[e.jsx("h4",{children:"RerankUsage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type RerankUsage struct {\n	PromptTokens int `json:"prompt_tokens"`\n	TotalTokens  int `json:"total_tokens"`\n}'})}),e.jsx("p",{className:"doc-description",children:"RerankUsage provides token usage information for reranking."})]}),e.jsxs("div",{className:"doc-section",id:"type-responsemessage",children:[e.jsx("h4",{children:"ResponseMessage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseMessage struct {\n	Role      string             `json:"role,omitempty"`\n	Content   string             `json:"content,omitempty"`\n	Reasoning string             `json:"reasoning_content,omitempty"`\n	ToolCalls []ResponseToolCall `json:"tool_calls,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"ResponseMessage represents a single message in a response."})]}),e.jsxs("div",{className:"doc-section",id:"type-responsetoolcall",children:[e.jsx("h4",{children:"ResponseToolCall"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseToolCall struct {\n	ID       string                   `json:"id"`\n	Index    int                      `json:"index"`\n	Type     string                   `json:"type"`\n	Function ResponseToolCallFunction `json:"function"`\n	Status   int                      `json:"status,omitempty"`\n	Raw      string                   `json:"raw,omitempty"`\n	Error    string                   `json:"error,omitempty"`\n}'})})]}),e.jsxs("div",{className:"doc-section",id:"type-responsetoolcallfunction",children:[e.jsx("h4",{children:"ResponseToolCallFunction"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type ResponseToolCallFunction struct {\n	Name      string            `json:"name"`\n	Arguments ToolCallArguments `json:"arguments"`\n}'})})]}),e.jsxs("div",{className:"doc-section",id:"type-ropescalingtype",children:[e.jsx("h4",{children:"RopeScalingType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type RopeScalingType int32"})}),e.jsx("p",{className:"doc-description",children:"RopeScalingType controls RoPE (Rotary Position Embedding) scaling method. This enables extended context windows beyond the model's native training length. For example, Qwen3 models trained on 32k can support 131k with YaRN scaling."})]}),e.jsxs("div",{className:"doc-section",id:"type-splitmode",children:[e.jsx("h4",{children:"SplitMode"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type SplitMode int32"})}),e.jsx("p",{className:"doc-description",children:"SplitMode controls how the model is split across multiple GPUs. This is particularly important for Mixture of Experts (MoE) models."})]}),e.jsxs("div",{className:"doc-section",id:"type-streamingresponselogger",children:[e.jsx("h4",{children:"StreamingResponseLogger"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type StreamingResponseLogger struct {
	// Has unexported fields.
}`})}),e.jsx("p",{className:"doc-description",children:"StreamingResponseLogger captures the final streaming response for logging. It must capture data before forwarding since the caller may mutate the response."})]}),e.jsxs("div",{className:"doc-section",id:"type-template",children:[e.jsx("h4",{children:"Template"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type Template struct {
	FileName string
	Script   string
}`})}),e.jsx("p",{className:"doc-description",children:"Template provides the template file name."})]}),e.jsxs("div",{className:"doc-section",id:"type-templateretriever",children:[e.jsx("h4",{children:"TemplateRetriever"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`type TemplateRetriever interface {
	Retrieve(modelID string) (Template, error)
}`})}),e.jsx("p",{className:"doc-description",children:"TemplateRetriever returns a configured template for a model."})]}),e.jsxs("div",{className:"doc-section",id:"type-toolcallarguments",children:[e.jsx("h4",{children:"ToolCallArguments"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"type ToolCallArguments map[string]any"})}),e.jsx("p",{className:"doc-description",children:"ToolCallArguments represents tool call arguments that marshal to a JSON string per OpenAI API spec, but can unmarshal from either a string or object."})]}),e.jsxs("div",{className:"doc-section",id:"type-toplogprob",children:[e.jsx("h4",{children:"TopLogprob"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type TopLogprob struct {\n	Token   string  `json:"token"`\n	Logprob float32 `json:"logprob"`\n	Bytes   []byte  `json:"bytes,omitempty"`\n}'})}),e.jsx("p",{className:"doc-description",children:"TopLogprob represents a single token with its log probability."})]}),e.jsxs("div",{className:"doc-section",id:"type-usage",children:[e.jsx("h4",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'type Usage struct {\n	PromptTokens     int     `json:"prompt_tokens"`\n	ReasoningTokens  int     `json:"reasoning_tokens"`\n	CompletionTokens int     `json:"completion_tokens"`\n	OutputTokens     int     `json:"output_tokens"`\n	TotalTokens      int     `json:"total_tokens"`\n	TokensPerSecond  float64 `json:"tokens_per_second"`\n}'})}),e.jsx("p",{className:"doc-description",children:"Usage provides details usage information for the request."})]})]}),e.jsxs("div",{className:"card",id:"methods",children:[e.jsx("h3",{children:"Methods"}),e.jsxs("div",{className:"doc-section",id:"method-choice-finishreason",children:[e.jsx("h4",{children:"Choice.FinishReason"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (c Choice) FinishReason() string"})}),e.jsx("p",{className:"doc-description",children:"FinishReason return the finish reason as an empty string if it is nil."})]}),e.jsxs("div",{className:"doc-section",id:"method-config-string",children:[e.jsx("h4",{children:"Config.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (cfg Config) String() string"})})]}),e.jsxs("div",{className:"doc-section",id:"method-d-clone",children:[e.jsx("h4",{children:"D.Clone"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (d D) Clone() D"})}),e.jsx("p",{className:"doc-description",children:"Clone creates a shallow copy of the document. This is useful when you need to modify the document without affecting the original."})]}),e.jsxs("div",{className:"doc-section",id:"method-d-messages",children:[e.jsx("h4",{children:"D.Messages"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (d D) Messages() string"})})]}),e.jsxs("div",{className:"doc-section",id:"method-d-string",children:[e.jsx("h4",{children:"D.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (d D) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns a string representation of the document containing only fields that are safe to log. This excludes sensitive fields like messages and input which may contain private user data."})]}),e.jsxs("div",{className:"doc-section",id:"method-flashattentiontype-unmarshalyaml",children:[e.jsx("h4",{children:"FlashAttentionType.UnmarshalYAML"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (t *FlashAttentionType) UnmarshalYAML(unmarshal func(interface{}) error) error"})}),e.jsx("p",{className:"doc-description",children:"UnmarshalYAML implements yaml.Unmarshaler to parse string values."})]}),e.jsxs("div",{className:"doc-section",id:"method-ggmltype-string",children:[e.jsx("h4",{children:"GGMLType.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (t GGMLType) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns the string representation of a GGMLType."})]}),e.jsxs("div",{className:"doc-section",id:"method-ggmltype-toyzmatype",children:[e.jsx("h4",{children:"GGMLType.ToYZMAType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (t GGMLType) ToYZMAType() llama.GGMLType"})})]}),e.jsxs("div",{className:"doc-section",id:"method-ggmltype-unmarshalyaml",children:[e.jsx("h4",{children:"GGMLType.UnmarshalYAML"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (t *GGMLType) UnmarshalYAML(unmarshal func(interface{}) error) error"})}),e.jsx("p",{className:"doc-description",children:'UnmarshalYAML implements yaml.Unmarshaler to parse string values like "f16".'})]}),e.jsxs("div",{className:"doc-section",id:"method-model-chat",children:[e.jsx("h4",{children:"Model.Chat"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) Chat(ctx context.Context, d D) (ChatResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"Chat performs a chat request and returns the final response. Text inference requests can run concurrently based on the NSeqMax config value, which controls parallel sequence processing. However, requests that include vision or audio content are processed sequentially due to media pipeline constraints."})]}),e.jsxs("div",{className:"doc-section",id:"method-model-chatstreaming",children:[e.jsx("h4",{children:"Model.ChatStreaming"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) ChatStreaming(ctx context.Context, d D) <-chan ChatResponse"})}),e.jsx("p",{className:"doc-description",children:"ChatStreaming performs a chat request and streams the response. Text inference requests can run concurrently based on the NSeqMax config value, which controls parallel sequence processing. However, requests that include vision or audio content are processed sequentially due to media pipeline constraints."})]}),e.jsxs("div",{className:"doc-section",id:"method-model-config",children:[e.jsx("h4",{children:"Model.Config"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) Config() Config"})})]}),e.jsxs("div",{className:"doc-section",id:"method-model-embeddings",children:[e.jsx("h4",{children:"Model.Embeddings"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) Embeddings(ctx context.Context, d D) (EmbedReponse, error)"})}),e.jsx("p",{className:"doc-description",children:'Embeddings performs batch embedding for multiple inputs in a single forward pass. This is more efficient than calling Embeddings multiple times. Supported options in d: - input ([]string): the texts to embed (required) - truncate (bool): if true, truncate inputs to fit context window (default: false) - truncate_direction (string): "right" (default) or "left" - dimensions (int): reduce output to first N dimensions (for Matryoshka models) Each model instance processes calls sequentially (llama.cpp only supports sequence 0 for embedding extraction). Use NSeqMax > 1 to create multiple model instances for concurrent request handling. Batch multiple texts in the input parameter for better performance within a single request.'})]}),e.jsxs("div",{className:"doc-section",id:"method-model-modelinfo",children:[e.jsx("h4",{children:"Model.ModelInfo"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) ModelInfo() ModelInfo"})})]}),e.jsxs("div",{className:"doc-section",id:"method-model-rerank",children:[e.jsx("h4",{children:"Model.Rerank"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) Rerank(ctx context.Context, d D) (RerankResponse, error)"})}),e.jsx("p",{className:"doc-description",children:"Rerank performs reranking for a query against multiple documents. It scores each document's relevance to the query and returns results sorted by relevance score (highest first). Supported options in d: - query (string): the query to rank documents against (required) - documents ([]string): the documents to rank (required) - top_n (int): return only the top N results (optional, default: all) - return_documents (bool): include document text in results (default: false) Each model instance processes calls sequentially (llama.cpp only supports sequence 0 for rerank extraction). Use NSeqMax > 1 to create multiple model instances for concurrent request handling. Batch multiple texts in the input parameter for better performance within a single request."})]}),e.jsxs("div",{className:"doc-section",id:"method-model-unload",children:[e.jsx("h4",{children:"Model.Unload"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (m *Model) Unload(ctx context.Context) error"})})]}),e.jsxs("div",{className:"doc-section",id:"method-modelinfo-string",children:[e.jsx("h4",{children:"ModelInfo.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (mi ModelInfo) String() string"})})]}),e.jsxs("div",{className:"doc-section",id:"method-params-string",children:[e.jsx("h4",{children:"Params.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (p Params) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns a string representation of the Params containing only non-zero values in the format key[value]\\nkey[value]\\n ..."})]}),e.jsxs("div",{className:"doc-section",id:"method-ropescalingtype-string",children:[e.jsx("h4",{children:"RopeScalingType.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (r RopeScalingType) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns the string representation of a RopeScalingType."})]}),e.jsxs("div",{className:"doc-section",id:"method-ropescalingtype-toyzmatype",children:[e.jsx("h4",{children:"RopeScalingType.ToYZMAType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (r RopeScalingType) ToYZMAType() llama.RopeScalingType"})}),e.jsx("p",{className:"doc-description",children:"ToYZMAType converts to the yzma/llama.cpp RopeScalingType."})]}),e.jsxs("div",{className:"doc-section",id:"method-ropescalingtype-unmarshalyaml",children:[e.jsx("h4",{children:"RopeScalingType.UnmarshalYAML"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (r *RopeScalingType) UnmarshalYAML(unmarshal func(interface{}) error) error"})}),e.jsx("p",{className:"doc-description",children:"UnmarshalYAML implements yaml.Unmarshaler to parse string values."})]}),e.jsxs("div",{className:"doc-section",id:"method-splitmode-string",children:[e.jsx("h4",{children:"SplitMode.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (s SplitMode) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns the string representation of a SplitMode."})]}),e.jsxs("div",{className:"doc-section",id:"method-splitmode-toyzmatype",children:[e.jsx("h4",{children:"SplitMode.ToYZMAType"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (s SplitMode) ToYZMAType() llama.SplitMode"})}),e.jsx("p",{className:"doc-description",children:"ToYZMAType converts to the yzma/llama.cpp SplitMode type."})]}),e.jsxs("div",{className:"doc-section",id:"method-splitmode-unmarshalyaml",children:[e.jsx("h4",{children:"SplitMode.UnmarshalYAML"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (s *SplitMode) UnmarshalYAML(unmarshal func(interface{}) error) error"})}),e.jsx("p",{className:"doc-description",children:"UnmarshalYAML implements yaml.Unmarshaler to parse string values."})]}),e.jsxs("div",{className:"doc-section",id:"method-streamingresponselogger-capture",children:[e.jsx("h4",{children:"StreamingResponseLogger.Capture"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (l *StreamingResponseLogger) Capture(resp ChatResponse)"})}),e.jsx("p",{className:"doc-description",children:"Capture captures data from a streaming response. Call this for each response before forwarding it. It only captures from the final response (when FinishReason is set)."})]}),e.jsxs("div",{className:"doc-section",id:"method-streamingresponselogger-string",children:[e.jsx("h4",{children:"StreamingResponseLogger.String"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (l *StreamingResponseLogger) String() string"})}),e.jsx("p",{className:"doc-description",children:"String returns a formatted string for logging."})]}),e.jsxs("div",{className:"doc-section",id:"method-toolcallarguments-marshaljson",children:[e.jsx("h4",{children:"ToolCallArguments.MarshalJSON"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (a ToolCallArguments) MarshalJSON() ([]byte, error)"})})]}),e.jsxs("div",{className:"doc-section",id:"method-toolcallarguments-unmarshaljson",children:[e.jsx("h4",{children:"ToolCallArguments.UnmarshalJSON"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"func (a *ToolCallArguments) UnmarshalJSON(data []byte) error"})})]})]}),e.jsxs("div",{className:"card",id:"constants",children:[e.jsx("h3",{children:"Constants"}),e.jsxs("div",{className:"doc-section",id:"const-objectchatunknown",children:[e.jsx("h4",{children:"ObjectChatUnknown"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	ObjectChatUnknown   = "chat.unknown"
	ObjectChatText      = "chat.completion.chunk"
	ObjectChatTextFinal = "chat.completion"
	ObjectChatMedia     = "chat.media"
)`})}),e.jsx("p",{className:"doc-description",children:"Objects represent the different types of data that is being processed."})]}),e.jsxs("div",{className:"doc-section",id:"const-roleuser",children:[e.jsx("h4",{children:"RoleUser"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	RoleUser      = "user"
	RoleAssistant = "assistant"
	RoleSystem    = "system"
)`})}),e.jsx("p",{className:"doc-description",children:"Roles represent the different roles that can be used in a chat."})]}),e.jsxs("div",{className:"doc-section",id:"const-finishreasonstop",children:[e.jsx("h4",{children:"FinishReasonStop"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	FinishReasonStop  = "stop"
	FinishReasonTool  = "tool_calls"
	FinishReasonError = "error"
)`})}),e.jsx("p",{className:"doc-description",children:"FinishReasons represent the different reasons a response can be finished."})]}),e.jsxs("div",{className:"doc-section",id:"const-defdryallowedlen",children:[e.jsx("h4",{children:"DefDryAllowedLen"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	// DefDryAllowedLen is the minimum n-gram length before DRY applies.
	DefDryAllowedLen = 2

	// DefDryBase is the base for exponential penalty growth in DRY.
	DefDryBase = 1.75

	// DefDryMultiplier controls the DRY (Don't Repeat Yourself) sampler which penalizes
	// n-gram pattern repetition. 0.8 - Light repetition penalty,
	// 1.01.5 - Moderate (typical starting point), 2.03.0 - Aggressive.
	DefDryMultiplier = 1.05

	// DefDryPenaltyLast limits how many recent tokens DRY considers.
	DefDryPenaltyLast = 0.0

	// DefEnableThinking determines if the model should think or not. It is used for
	// most non-GPT models. It accepts 1, t, T, TRUE, true, True, 0, f, F, FALSE,
	// false, False.
	DefEnableThinking = ThinkingEnabled

	// DefIncludeUsage determines whether to include token usage information in
	// streaming responses.
	DefIncludeUsage = true

	// DefLogprobs determines whether to return log probabilities of output tokens.
	// When enabled, the response includes probability data for each generated token.
	DefLogprobs = false

	// DefTopLogprobs specifies how many of the most likely tokens to return at each
	// position, along with their log probabilities. Must be between 0 and 5.
	// Setting this to a value > 0 implicitly enables logprobs.
	DefTopLogprobs = 0

	// DefMaxTopLogprobs defines the number of maximum logprobs to use.
	DefMaxTopLogprobs = 5

	// DefReasoningEffort is a string that specifies the level of reasoning effort to
	// use for GPT models.
	DefReasoningEffort = ReasoningEffortMedium

	// DefRepeatLastN specifies how many recent tokens to consider when applying the
	// repetition penalty. A larger value considers more context but may be slower.
	DefRepeatLastN = 64

	// DefRepeatPenalty applies a penalty to tokens that have already appeared in the
	// output, reducing repetitive text. A value of 1.0 means no penalty. Values
	// above 1.0 reduce repetition (e.g., 1.1 is a mild penalty, 1.5 is strong).
	DefRepeatPenalty = 1.0

	// DefReturnPrompt determines whether to include the prompt in the final response.
	// When set to true, the prompt will be included.
	DefReturnPrompt = false

	// DefTemp controls the randomness of the output. It rescales the probability
	// distribution of possible next tokens.
	DefTemp = 0.8

	// DefTopK limits the pool of possible next tokens to the K number of most probable
	// tokens. If a model predicts 10,000 possible next tokens, setting top_k to 50
	// means only the 50 tokens with the highest probabilities are considered for
	// selection (after temperature scaling). The rest are ignored.
	DefTopK = 40

	// DefMinP is a dynamic sampling threshold that helps balance the coherence
	// (quality) and diversity (creativity) of the generated text.
	DefMinP = 0.0

	// DefTopP, also known as nucleus sampling, works differently than top_k by
	// selecting a dynamic pool of tokens whose cumulative probability exceeds a
	// threshold P. Instead of a fixed number of tokens (K), it selects the minimum
	// number of most probable tokens required to reach the cumulative probability P.
	DefTopP = 0.9

	// DefXtcMinKeep is the minimum tokens to keep after XTC culling.
	DefXtcMinKeep = 1

	// DefXtcProbability controls XTC (eXtreme Token Culling) which randomly removes
	// tokens close to top probability. Must be > 0 to activate.
	DefXtcProbability = 0.0

	// DefXtcThreshold is the probability threshold for XTC culling.
	DefXtcThreshold = 0.1

	// DefMaxTokens is the default maximum tokens for generation when not
	// derived from the model's context window.
	DefMaxTokens = 4096
)`})})]}),e.jsxs("div",{className:"doc-section",id:"const-thinkingenabled",children:[e.jsx("h4",{children:"ThinkingEnabled"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	// The model will perform thinking. This is the default setting.
	ThinkingEnabled = "true"

	// The model will not perform thinking.
	ThinkingDisabled = "false"
)`})})]}),e.jsxs("div",{className:"doc-section",id:"const-reasoningeffortnone",children:[e.jsx("h4",{children:"ReasoningEffortNone"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`const (
	// The model does not perform reasoning This setting is fastest and lowest
	// cost, ideal for latency-sensitive tasks that do not require complex logic,
	// such as simple translation or data reformatting.
	ReasoningEffortNone = "none"

	// GPT: A very low amount of internal reasoning, optimized for throughput
	// and speed.
	ReasoningEffortMinimal = "minimal"

	// GPT: Light reasoning that favors speed and lower token usage, suitable
	// for triage or short answers.
	ReasoningEffortLow = "low"

	// GPT: The default setting, providing a balance between speed and reasoning
	// accuracy. This is a good general-purpose choice for most tasks like
	// content drafting or standard Q&A.
	ReasoningEffortMedium = "medium"

	// GPT: Extensive reasoning for complex, multi-step problems. This setting
	// leads to the most thorough and accurate analysis but increases latency
	// and cost due to a larger number of internal reasoning tokens used.
	ReasoningEffortHigh = "high"
)`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#functions",className:"doc-index-header",children:"Functions"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#func-addparams",children:"AddParams"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-checkmodel",children:"CheckModel"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-parseggmltype",children:"ParseGGMLType"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-newmodel",children:"NewModel"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-parseropescalingtype",children:"ParseRopeScalingType"})}),e.jsx("li",{children:e.jsx("a",{href:"#func-parsesplitmode",children:"ParseSplitMode"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#types",className:"doc-index-header",children:"Types"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#type-chatresponse",children:"ChatResponse"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-choice",children:"Choice"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-config",children:"Config"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-contentlogprob",children:"ContentLogprob"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-d",children:"D"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-embeddata",children:"EmbedData"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-embedreponse",children:"EmbedReponse"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-embedusage",children:"EmbedUsage"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-flashattentiontype",children:"FlashAttentionType"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-ggmltype",children:"GGMLType"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-logger",children:"Logger"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-logprobs",children:"Logprobs"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-mediatype",children:"MediaType"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-model",children:"Model"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-modelinfo",children:"ModelInfo"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-params",children:"Params"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-rerankresponse",children:"RerankResponse"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-rerankresult",children:"RerankResult"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-rerankusage",children:"RerankUsage"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsemessage",children:"ResponseMessage"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsetoolcall",children:"ResponseToolCall"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-responsetoolcallfunction",children:"ResponseToolCallFunction"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-ropescalingtype",children:"RopeScalingType"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-splitmode",children:"SplitMode"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-streamingresponselogger",children:"StreamingResponseLogger"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-template",children:"Template"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-templateretriever",children:"TemplateRetriever"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-toolcallarguments",children:"ToolCallArguments"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-toplogprob",children:"TopLogprob"})}),e.jsx("li",{children:e.jsx("a",{href:"#type-usage",children:"Usage"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#methods",className:"doc-index-header",children:"Methods"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#method-choice-finishreason",children:"Choice.FinishReason"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-config-string",children:"Config.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-d-clone",children:"D.Clone"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-d-messages",children:"D.Messages"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-d-string",children:"D.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-flashattentiontype-unmarshalyaml",children:"FlashAttentionType.UnmarshalYAML"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ggmltype-string",children:"GGMLType.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ggmltype-toyzmatype",children:"GGMLType.ToYZMAType"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ggmltype-unmarshalyaml",children:"GGMLType.UnmarshalYAML"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-chat",children:"Model.Chat"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-chatstreaming",children:"Model.ChatStreaming"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-config",children:"Model.Config"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-embeddings",children:"Model.Embeddings"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-modelinfo",children:"Model.ModelInfo"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-rerank",children:"Model.Rerank"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-model-unload",children:"Model.Unload"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-modelinfo-string",children:"ModelInfo.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-params-string",children:"Params.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ropescalingtype-string",children:"RopeScalingType.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ropescalingtype-toyzmatype",children:"RopeScalingType.ToYZMAType"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-ropescalingtype-unmarshalyaml",children:"RopeScalingType.UnmarshalYAML"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-splitmode-string",children:"SplitMode.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-splitmode-toyzmatype",children:"SplitMode.ToYZMAType"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-splitmode-unmarshalyaml",children:"SplitMode.UnmarshalYAML"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-streamingresponselogger-capture",children:"StreamingResponseLogger.Capture"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-streamingresponselogger-string",children:"StreamingResponseLogger.String"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-toolcallarguments-marshaljson",children:"ToolCallArguments.MarshalJSON"})}),e.jsx("li",{children:e.jsx("a",{href:"#method-toolcallarguments-unmarshaljson",children:"ToolCallArguments.UnmarshalJSON"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#constants",className:"doc-index-header",children:"Constants"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#const-objectchatunknown",children:"ObjectChatUnknown"})}),e.jsx("li",{children:e.jsx("a",{href:"#const-roleuser",children:"RoleUser"})}),e.jsx("li",{children:e.jsx("a",{href:"#const-finishreasonstop",children:"FinishReasonStop"})}),e.jsx("li",{children:e.jsx("a",{href:"#const-defdryallowedlen",children:"DefDryAllowedLen"})}),e.jsx("li",{children:e.jsx("a",{href:"#const-thinkingenabled",children:"ThinkingEnabled"})}),e.jsx("li",{children:e.jsx("a",{href:"#const-reasoningeffortnone",children:"ReasoningEffortNone"})})]})]})]})})]})]})}const J1=`// This example shows you how to execute a simple prompt against a vision model.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-vision

package main

import (
	"context"
	"fmt"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

const (
	modelURL  = "mradermacher/Qwen2-Audio-7B-GGUF/Qwen2-Audio-7B.Q8_0.gguf"
	projURL   = "mradermacher/Qwen2-Audio-7B-GGUF/Qwen2-Audio-7B.mmproj-Q8_0.gguf"
	audioFile = "examples/samples/jfk.wav"
)

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("unable to install system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("failed to unload model: %v", err)
		}
	}()

	if err := audio(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 15*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, projURL)
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("Qwen2-Audio-7B.Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles:    mp.ModelFiles,
		ProjFile:      mp.ProjFile,
		ContextWindow: 8192,
		NBatch:        2048,
		NUBatch:       2048,
		CacheTypeK:    model.GGMLTypeQ8_0,
		CacheTypeV:    model.GGMLTypeQ8_0,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("- contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("- embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("- isGPT        :", krn.ModelInfo().IsGPTModel)

	return krn, nil
}

func audio(krn *kronk.Kronk) error {
	question := "Please describe what you hear in the following audio clip."

	ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
	defer cancel()

	ch, err := performChat(ctx, krn, question, audioFile)
	if err != nil {
		return fmt.Errorf("perform chat: %w", err)
	}

	if err := modelResponse(krn, ch); err != nil {
		return fmt.Errorf("model response: %w", err)
	}

	return nil
}

func performChat(ctx context.Context, krn *kronk.Kronk, question string, audioFile string) (<-chan model.ChatResponse, error) {
	audio, err := readImage(audioFile)
	if err != nil {
		return nil, fmt.Errorf("read image: %w", err)
	}

	fmt.Printf("\\nQuestion: %s\\n", question)

	d := model.D{
		"messages":    model.RawMediaMessage(question, audio),
		"max_tokens":  2048,
		"temperature": 0.7,
		"top_p":       0.9,
		"top_k":       40,
	}

	ch, err := krn.ChatStreaming(ctx, d)
	if err != nil {
		return nil, fmt.Errorf("chat streaming: %w", err)
	}

	return ch, nil
}

func modelResponse(krn *kronk.Kronk, ch <-chan model.ChatResponse) error {
	fmt.Print("\\nMODEL> ")

	var reasoning bool
	var lr model.ChatResponse

loop:
	for resp := range ch {
		lr = resp

		switch resp.Choice[0].FinishReason() {
		case model.FinishReasonStop:
			break loop

		case model.FinishReasonError:
			return fmt.Errorf("error from model: %s", resp.Choice[0].Delta.Content)
		}

		if resp.Choice[0].Delta.Reasoning != "" {
			fmt.Printf("\\u001b[91m%s\\u001b[0m", resp.Choice[0].Delta.Reasoning)
			reasoning = true
			continue
		}

		if reasoning {
			reasoning = false
			fmt.Print("\\n\\n")
		}

		fmt.Printf("%s", resp.Choice[0].Delta.Content)
	}

	// -------------------------------------------------------------------------

	contextTokens := lr.Usage.PromptTokens + lr.Usage.CompletionTokens
	contextWindow := krn.ModelConfig().ContextWindow
	percentage := (float64(contextTokens) / float64(contextWindow)) * 100
	of := float32(contextWindow) / float32(1024)

	fmt.Printf("\\n\\n\\u001b[90mInput: %d  Reasoning: %d  Completion: %d  Output: %d  Window: %d (%.0f%% of %.0fK) TPS: %.2f\\u001b[0m\\n",
		lr.Usage.PromptTokens, lr.Usage.ReasoningTokens, lr.Usage.CompletionTokens, lr.Usage.OutputTokens, contextTokens, percentage, of, lr.Usage.TokensPerSecond)

	return nil
}

func readImage(imageFile string) ([]byte, error) {
	if _, err := os.Stat(imageFile); err != nil {
		return nil, fmt.Errorf("error accessing file %q: %w", imageFile, err)
	}

	image, err := os.ReadFile(imageFile)
	if err != nil {
		return nil, fmt.Errorf("error reading file %q: %w", imageFile, err)
	}

	return image, nil
}
`,Z1=`// This example shows you how to create a simple chat application against an
// inference model using kronk. Thanks to Kronk and yzma, reasoning and tool
// calling is enabled.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-chat

package main

import (
	"bufio"
	"context"
	"errors"
	"fmt"
	"io"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

// const modelURL = "unsloth/gpt-oss-120b-GGUF/gpt-oss-120b-F16.gguf"
// const modelURL = "unsloth/GLM-4.7-Flash-GGUF/GLM-4.7-Flash-UD-Q8_K_XL.gguf"
// const modelURL = "unsloth/Qwen3-Coder-30B-A3B-Instruct-GGUF/Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL.gguf"
const modelURL = "Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf"

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("run: unable to installation system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("run: failed to unload model: %v", err)
		}
	}()

	if err := chat(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 25*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------
	// This is not mandatory if you won't be using models from the catalog. That
	// being said, if you are using a model that is part of the catalog with
	// a corrected jinja file, having the catalog system up to date will allow
	// the system to pull that jinja file.

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, "")
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("Qwen3-8B-Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	// The catalog package has an API that can retrieve defaults for
	// models in the catalog system and/or a model_config file.
	// cfg, err := c.templates.Catalog().RetrieveModelConfig(modelID)
	// if err != nil {
	// 	return nil, fmt.Errorf("unable to retrieve model config: %w", err)
	// }

	cfg := model.Config{
		ModelFiles:        mp.ModelFiles,
		CacheTypeK:        model.GGMLTypeQ8_0,
		CacheTypeV:        model.GGMLTypeQ8_0,
		NSeqMax:           2,
		SystemPromptCache: true,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("- contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("- embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("- isGPT        :", krn.ModelInfo().IsGPTModel)
	fmt.Println("- template     :", krn.ModelInfo().Template.FileName)

	return krn, nil
}

func chat(krn *kronk.Kronk) error {
	messages := model.DocumentArray()

	var systemPrompt = \`
		You are a helpful AI assistant. You are designed to help users answer
		questions, create content, and provide information in a helpful and
		accurate manner. Always follow the user's instructions carefully and
		respond with clear, concise, and well-structured answers. You are a
		helpful AI assistant. You are designed to help users answer questions,
		create content, and provide information in a helpful and accurate manner.
		Always follow the user's instructions carefully and respond with clear,
		concise, and well-structured answers. You are a helpful AI assistant.
		You are designed to help users answer questions, create content, and
		provide information in a helpful and accurate manner. Always follow the
		user's instructions carefully and respond with clear, concise, and
		well-structured answers.\`

	messages = append(messages,
		model.TextMessage(model.RoleSystem, systemPrompt),
	)

	for {
		var err error
		messages, err = userInput(messages)
		if err != nil {
			if errors.Is(err, io.EOF) {
				return nil
			}
			return fmt.Errorf("run:user input: %w", err)
		}

		messages, err = func() ([]model.D, error) {
			ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
			defer cancel()

			d := model.D{
				"messages":    messages,
				"tools":       toolDocuments(),
				"max_tokens":  2048,
				"temperature": 0.7,
				"top_p":       0.8,
				"top_k":       20,
			}

			ch, err := performChat(ctx, krn, d)
			if err != nil {
				return nil, fmt.Errorf("run: unable to perform chat: %w", err)
			}

			messages, err = modelResponse(krn, messages, ch)
			if err != nil {
				return nil, fmt.Errorf("run: model response: %w", err)
			}

			return messages, nil
		}()

		if err != nil {
			return fmt.Errorf("run: unable to perform chat: %w", err)
		}
	}
}

func userInput(messages []model.D) ([]model.D, error) {
	fmt.Print("\\nUSER> ")

	reader := bufio.NewReader(os.Stdin)

	userInput, err := reader.ReadString('\\n')
	if err != nil {
		return messages, fmt.Errorf("unable to read user input: %w", err)
	}

	if userInput == "quit\\n" {
		return nil, io.EOF
	}

	messages = append(messages,
		model.TextMessage(model.RoleUser, userInput),
	)

	return messages, nil
}

func toolDocuments() []model.D {
	return model.DocumentArray(
		model.D{
			"type": "function",
			"function": model.D{
				"name":        "get_weather",
				"description": "Get the current weather for a location",
				"parameters": model.D{
					"type": "object",
					"properties": model.D{
						"location": model.D{
							"type":        "string",
							"description": "The location to get the weather for, e.g. San Francisco, CA",
						},
					},
					"required": []any{"location"},
				},
			},
		},
	)
}

func performChat(ctx context.Context, krn *kronk.Kronk, d model.D) (<-chan model.ChatResponse, error) {
	ch, err := krn.ChatStreaming(ctx, d)
	if err != nil {
		return nil, fmt.Errorf("chat streaming: %w", err)
	}

	return ch, nil
}

func modelResponse(krn *kronk.Kronk, messages []model.D, ch <-chan model.ChatResponse) ([]model.D, error) {
	fmt.Print("\\nMODEL> ")

	var reasoning bool
	var lr model.ChatResponse

loop:
	for resp := range ch {
		lr = resp

		switch resp.Choice[0].FinishReason() {
		case model.FinishReasonError:
			return messages, fmt.Errorf("error from model: %s", resp.Choice[0].Delta.Content)

		case model.FinishReasonStop:
			messages = append(messages,
				model.TextMessage("assistant", resp.Choice[0].Delta.Content),
			)
			break loop

		case model.FinishReasonTool:
			fmt.Println()
			if krn.ModelInfo().IsGPTModel {
				fmt.Println()
			}

			fmt.Printf("\\u001b[92mModel Asking For Tool Calls:\\n\\u001b[0m")

			for _, tool := range resp.Choice[0].Delta.ToolCalls {
				fmt.Printf("\\u001b[92mToolID[%s]: %s(%s)\\n\\u001b[0m",
					tool.ID,
					tool.Function.Name,
					tool.Function.Arguments,
				)

				messages = append(messages,
					model.TextMessage("tool", fmt.Sprintf("Tool call %s: %s(%v)\\n",
						tool.ID,
						tool.Function.Name,
						tool.Function.Arguments),
					),
				)
			}

			break loop

		default:
			if resp.Choice[0].Delta.Reasoning != "" {
				fmt.Printf("\\u001b[91m%s\\u001b[0m", resp.Choice[0].Delta.Reasoning)
				reasoning = true
				continue
			}

			if reasoning {
				reasoning = false

				fmt.Println()
				if krn.ModelInfo().IsGPTModel {
					fmt.Println()
				}
			}

			fmt.Printf("%s", resp.Choice[0].Delta.Content)
		}
	}

	// -------------------------------------------------------------------------

	contextTokens := lr.Usage.PromptTokens + lr.Usage.CompletionTokens
	contextWindow := krn.ModelConfig().ContextWindow
	percentage := (float64(contextTokens) / float64(contextWindow)) * 100
	of := float32(contextWindow) / float32(1024)

	fmt.Printf("\\n\\n\\u001b[90mInput: %d  Reasoning: %d  Completion: %d  Output: %d  Window: %d (%.0f%% of %.0fK) TPS: %.2f\\u001b[0m\\n",
		lr.Usage.PromptTokens, lr.Usage.ReasoningTokens, lr.Usage.CompletionTokens, lr.Usage.OutputTokens, contextTokens, percentage, of, lr.Usage.TokensPerSecond)

	return messages, nil
}
`,eS=`// This example shows you how to use an embedding model.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-embedding

package main

import (
	"context"
	"fmt"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

const modelURL = "ggml-org/embeddinggemma-300m-qat-q8_0-GGUF/embeddinggemma-300m-qat-Q8_0.gguf"

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("unable to installation system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("failed to unload model: %v", err)
		}
	}()

	if err := embedding(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 15*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, "")
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("embeddinggemma-300m-qat-Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles:     mp.ModelFiles,
		ContextWindow:  2048,
		NBatch:         2048,
		NUBatch:        512,
		CacheTypeK:     model.GGMLTypeQ8_0,
		CacheTypeV:     model.GGMLTypeQ8_0,
		FlashAttention: model.FlashAttentionEnabled,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("  - contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("  - embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("  - isGPT        :", krn.ModelInfo().IsGPTModel)

	return krn, nil
}

func embedding(krn *kronk.Kronk) error {
	ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
	defer cancel()

	d := model.D{
		"input":              "Why is the sky blue?",
		"truncate":           true,
		"truncate_direction": "right",
	}

	resp, err := krn.Embeddings(ctx, d)
	if err != nil {
		return err
	}

	fmt.Println()
	fmt.Println("Model  :", resp.Model)
	fmt.Println("Object :", resp.Object)
	fmt.Println("Created:", time.UnixMilli(resp.Created))
	fmt.Println("  Index    :", resp.Data[0].Index)
	fmt.Println("  Object   :", resp.Data[0].Object)
	fmt.Printf("  Embedding: [%v...%v]\\n", resp.Data[0].Embedding[:3], resp.Data[0].Embedding[len(resp.Data[0].Embedding)-3:])

	return nil
}
`,nS=`// This example shows you a basic program of using Kronk to ask a model a question.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-question

package main

import (
	"context"
	"fmt"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
)

const modelURL = "Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf"

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("unable to installation system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("failed to unload model: %v", err)
		}
	}()

	if err := question(krn); err != nil {
		fmt.Println(err)
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 15*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, "")
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("Qwen3-8B-Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles: mp.ModelFiles,
		CacheTypeK: model.GGMLTypeQ8_0,
		CacheTypeV: model.GGMLTypeQ8_0,
		NSeqMax:    2,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("  - contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("  - embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("  - isGPT        :", krn.ModelInfo().IsGPTModel)

	return krn, nil
}

func question(krn *kronk.Kronk) error {
	ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
	defer cancel()

	question := "Hello model"

	fmt.Println()
	fmt.Println("QUESTION:", question)
	fmt.Println()

	d := model.D{
		"messages": model.DocumentArray(
			model.TextMessage(model.RoleUser, question),
		),
		"temperature": 0.7,
		"top_p":       0.9,
		"top_k":       40,
		"max_tokens":  2048,
	}

	ch, err := krn.ChatStreaming(ctx, d)
	if err != nil {
		return fmt.Errorf("chat streaming: %w", err)
	}

	// -------------------------------------------------------------------------

	var reasoning bool

	for resp := range ch {
		switch resp.Choice[0].FinishReason() {
		case model.FinishReasonError:
			return fmt.Errorf("error from model: %s", resp.Choice[0].Delta.Content)

		case model.FinishReasonStop:
			return nil

		default:
			if resp.Choice[0].Delta.Reasoning != "" {
				reasoning = true
				fmt.Printf("\\u001b[91m%s\\u001b[0m", resp.Choice[0].Delta.Reasoning)
				continue
			}

			if reasoning {
				reasoning = false
				fmt.Println()
				continue
			}

			fmt.Printf("%s", resp.Choice[0].Delta.Content)
		}
	}

	return nil
}
`,tS=`// This example shows you how to use a reranker model.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-rerank

package main

import (
	"context"
	"fmt"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

const modelURL = "gpustack/bge-reranker-v2-m3-GGUF/bge-reranker-v2-m3-Q8_0.gguf"

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("unable to installation system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("failed to unload model: %v", err)
		}
	}()

	if err := rerank(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 15*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, "")
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles:    mp.ModelFiles,
		ContextWindow: 2048,
		NBatch:        2048,
		NUBatch:       512,
		CacheTypeK:    model.GGMLTypeQ8_0,
		CacheTypeV:    model.GGMLTypeQ8_0,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create reranker model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("  - contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("  - embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("  - reranking    :", krn.ModelInfo().IsRerankModel)
	fmt.Println("  - isGPT        :", krn.ModelInfo().IsGPTModel)

	return krn, nil
}

func rerank(krn *kronk.Kronk) error {
	ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
	defer cancel()

	d := model.D{
		"query": "What is the capital of France?",
		"documents": []string{
			"Paris is the capital and largest city of France.",
			"Berlin is the capital of Germany.",
			"The Eiffel Tower is located in Paris.",
			"London is the capital of England.",
			"France is a country in Western Europe.",
		},
		"top_n":            3,
		"return_documents": true,
	}

	resp, err := krn.Rerank(ctx, d)
	if err != nil {
		return err
	}

	fmt.Println()
	fmt.Println("Model  :", resp.Model)
	fmt.Println("Object :", resp.Object)
	fmt.Println("Created:", time.UnixMilli(resp.Created))
	fmt.Println()
	fmt.Println("Results (sorted by relevance):")
	for i, result := range resp.Data {
		fmt.Printf("  %d. Score: %.4f, Index: %d, Doc: %s\\n",
			i+1, result.RelevanceScore, result.Index, result.Document)
	}
	fmt.Println()
	fmt.Println("Usage:")
	fmt.Println("  Prompt Tokens:", resp.Usage.PromptTokens)
	fmt.Println("  Total Tokens :", resp.Usage.TotalTokens)

	return nil
}
`,rS=`// This example shows you how to create a simple chat application against an
// inference model using the kronk Response api. Thanks to Kronk and yzma,
// reasoning and tool calling is enabled.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-response

package main

import (
	"bufio"
	"context"
	"errors"
	"fmt"
	"io"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

const modelURL = "Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf"

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	mp, err := installSystem()
	if err != nil {
		return fmt.Errorf("run: unable to installation system: %w", err)
	}

	krn, err := newKronk(mp)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("run: failed to unload model: %v", err)
		}
	}()

	if err := chat(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 25*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------
	// This is not mandatory if you won't be using models from the catalog. That
	// being said, if you are using a model that is part of the catalog with
	// a corrected jinja file, having the catalog system up to date will allow
	// the system to pull that jinja file.

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, "")
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("Qwen3-8B-Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles: mp.ModelFiles,
		CacheTypeK: model.GGMLTypeQ8_0,
		CacheTypeV: model.GGMLTypeQ8_0,
		NSeqMax:    2,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("- contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("- embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("- isGPT        :", krn.ModelInfo().IsGPTModel)
	fmt.Println("- template     :", krn.ModelInfo().Template.FileName)

	return krn, nil
}

func chat(krn *kronk.Kronk) error {
	messages := model.DocumentArray()

	for {
		var err error
		messages, err = userInput(messages)
		if err != nil {
			if errors.Is(err, io.EOF) {
				return nil
			}
			return fmt.Errorf("run:user input: %w", err)
		}

		messages, err = func() ([]model.D, error) {
			ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
			defer cancel()

			d := model.D{
				"input":       messages,
				"tools":       toolDocuments(),
				"max_tokens":  2048,
				"temperature": 0.7,
				"top_p":       0.9,
				"top_k":       40,
			}

			ch, err := performChat(ctx, krn, d)
			if err != nil {
				return nil, fmt.Errorf("run: unable to perform chat: %w", err)
			}

			messages, err = modelResponse(krn, messages, ch)
			if err != nil {
				return nil, fmt.Errorf("run: model response: %w", err)
			}

			return messages, nil
		}()

		if err != nil {
			return fmt.Errorf("run: unable to perform chat: %w", err)
		}
	}
}

func userInput(messages []model.D) ([]model.D, error) {
	fmt.Print("\\nUSER> ")

	reader := bufio.NewReader(os.Stdin)

	userInput, err := reader.ReadString('\\n')
	if err != nil {
		return messages, fmt.Errorf("unable to read user input: %w", err)
	}

	if userInput == "quit\\n" {
		return nil, io.EOF
	}

	messages = append(messages,
		model.TextMessage(model.RoleUser, userInput),
	)

	return messages, nil
}

func toolDocuments() []model.D {
	return model.DocumentArray(
		model.D{
			"type": "function",
			"function": model.D{
				"name":        "get_weather",
				"description": "Get the current weather for a location",
				"parameters": model.D{
					"type": "object",
					"properties": model.D{
						"location": model.D{
							"type":        "string",
							"description": "The location to get the weather for, e.g. San Francisco, CA",
						},
					},
					"required": []any{"location"},
				},
			},
		},
	)
}

func performChat(ctx context.Context, krn *kronk.Kronk, d model.D) (<-chan kronk.ResponseStreamEvent, error) {
	ch, err := krn.ResponseStreaming(ctx, d)
	if err != nil {
		return nil, fmt.Errorf("response streaming: %w", err)
	}

	return ch, nil
}

func modelResponse(krn *kronk.Kronk, messages []model.D, ch <-chan kronk.ResponseStreamEvent) ([]model.D, error) {
	fmt.Print("\\nMODEL> ")

	var fullText string
	var finalResp *kronk.ResponseResponse
	var reasoning bool

	for event := range ch {
		switch event.Type {
		case "response.reasoning_summary_text.delta":
			fmt.Printf("\\u001b[91m%s\\u001b[0m", event.Delta)
			reasoning = true

		case "response.output_text.delta":
			if reasoning {
				reasoning = false
				fmt.Println()
				if krn.ModelInfo().IsGPTModel {
					fmt.Println()
				}
			}
			fmt.Printf("%s", event.Delta)

		case "response.output_text.done":
			fullText = event.Text

		case "response.function_call_arguments.done":
			fmt.Println()
			if krn.ModelInfo().IsGPTModel {
				fmt.Println()
			}

			fmt.Printf("\\u001b[92mModel Asking For Tool Calls:\\n\\u001b[0m")
			fmt.Printf("\\u001b[92mToolID[%s]: %s(%s)\\n\\u001b[0m",
				event.ItemID,
				event.Name,
				event.Arguments,
			)

			messages = append(messages,
				model.TextMessage("tool", fmt.Sprintf("Tool call %s: %s(%s)\\n",
					event.ItemID,
					event.Name,
					event.Arguments),
				),
			)

		case "response.completed":
			finalResp = event.Response
		}
	}

	if fullText != "" {
		messages = append(messages,
			model.TextMessage("assistant", fullText),
		)
	}

	// -------------------------------------------------------------------------

	if finalResp != nil {
		contextTokens := finalResp.Usage.InputTokens + finalResp.Usage.OutputTokens
		contextWindow := krn.ModelConfig().ContextWindow
		percentage := (float64(contextTokens) / float64(contextWindow)) * 100
		of := float32(contextWindow) / float32(1024)

		fmt.Printf("\\n\\n\\u001b[90mInput: %d  Reasoning: %d  Completion: %d  Output: %d  Window: %d (%.0f%% of %.0fK)\\u001b[0m\\n",
			finalResp.Usage.InputTokens,
			finalResp.Usage.OutputTokenDetail.ReasoningTokens,
			finalResp.Usage.OutputTokens,
			finalResp.Usage.OutputTokens,
			contextTokens,
			percentage,
			of,
		)
	}

	return messages, nil
}
`,sS=`// This example shows you how to execute a simple prompt against a vision model.
//
// The first time you run this program the system will download and install
// the model and libraries.
//
// Run the example like this from the root of the project:
// $ make example-vision

package main

import (
	"context"
	"fmt"
	"os"
	"time"

	"github.com/ardanlabs/kronk/sdk/kronk"
	"github.com/ardanlabs/kronk/sdk/kronk/model"
	"github.com/ardanlabs/kronk/sdk/tools/defaults"
	"github.com/ardanlabs/kronk/sdk/tools/libs"
	"github.com/ardanlabs/kronk/sdk/tools/models"
	"github.com/ardanlabs/kronk/sdk/tools/templates"
)

const (
	modelURL  = "ggml-org/Qwen2.5-VL-3B-Instruct-GGUF/Qwen2.5-VL-3B-Instruct-Q8_0.gguf"
	projURL   = "ggml-org/Qwen2.5-VL-3B-Instruct-GGUF/mmproj-Qwen2.5-VL-3B-Instruct-Q8_0.gguf"
	imageFile = "examples/samples/giraffe.jpg"
)

func main() {
	if err := run(); err != nil {
		fmt.Printf("\\nERROR: %s\\n", err)
		os.Exit(1)
	}
}

func run() error {
	info, err := installSystem()
	if err != nil {
		return fmt.Errorf("unable to install system: %w", err)
	}

	krn, err := newKronk(info)
	if err != nil {
		return fmt.Errorf("unable to init kronk: %w", err)
	}

	defer func() {
		fmt.Println("\\nUnloading Kronk")
		if err := krn.Unload(context.Background()); err != nil {
			fmt.Printf("failed to unload model: %v", err)
		}
	}()

	if err := vision(krn); err != nil {
		return err
	}

	return nil
}

func installSystem() (models.Path, error) {
	ctx, cancel := context.WithTimeout(context.Background(), 15*time.Minute)
	defer cancel()

	libs, err := libs.New(
		libs.WithVersion(defaults.LibVersion("")),
	)
	if err != nil {
		return models.Path{}, err
	}

	if _, err := libs.Download(ctx, kronk.FmtLogger); err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	// -------------------------------------------------------------------------

	templates, err := templates.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to create template system: %w", err)
	}

	if err := templates.Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download templates: %w", err)
	}

	if err := templates.Catalog().Download(ctx); err != nil {
		return models.Path{}, fmt.Errorf("unable to download catalog: %w", err)
	}

	// -------------------------------------------------------------------------

	mdls, err := models.New()
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install llama.cpp: %w", err)
	}

	mp, err := mdls.Download(ctx, kronk.FmtLogger, modelURL, projURL)
	if err != nil {
		return models.Path{}, fmt.Errorf("unable to install model: %w", err)
	}

	// -------------------------------------------------------------------------
	// You could also download this model using the catalog system.
	// templates.Catalog().DownloadModel("Qwen2.5-VL-3B-Instruct-Q8_0")

	return mp, nil
}

func newKronk(mp models.Path) (*kronk.Kronk, error) {
	fmt.Println("loading model...")

	if err := kronk.Init(); err != nil {
		return nil, fmt.Errorf("unable to init kronk: %w", err)
	}

	cfg := model.Config{
		ModelFiles:    mp.ModelFiles,
		ProjFile:      mp.ProjFile,
		ContextWindow: 8192,
		NBatch:        2048,
		NUBatch:       2048,
		CacheTypeK:    model.GGMLTypeQ8_0,
		CacheTypeV:    model.GGMLTypeQ8_0,
	}

	krn, err := kronk.New(cfg)
	if err != nil {
		return nil, fmt.Errorf("unable to create inference model: %w", err)
	}

	fmt.Print("- system info:\\n\\t")
	for k, v := range krn.SystemInfo() {
		fmt.Printf("%s:%v, ", k, v)
	}
	fmt.Println()

	fmt.Println("- contextWindow:", krn.ModelConfig().ContextWindow)
	fmt.Println("- embeddings   :", krn.ModelInfo().IsEmbedModel)
	fmt.Println("- isGPT        :", krn.ModelInfo().IsGPTModel)
	fmt.Println("- template     :", krn.ModelInfo().Template.FileName)

	return krn, nil
}

func vision(krn *kronk.Kronk) error {
	question := "What is in this picture?"

	ctx, cancel := context.WithTimeout(context.Background(), 120*time.Second)
	defer cancel()

	ch, err := performChat(ctx, krn, question, imageFile)
	if err != nil {
		return fmt.Errorf("perform chat: %w", err)
	}

	if err := modelResponse(krn, ch); err != nil {
		return fmt.Errorf("model response: %w", err)
	}

	return nil
}

func performChat(ctx context.Context, krn *kronk.Kronk, question string, imageFile string) (<-chan model.ChatResponse, error) {
	image, err := readImage(imageFile)
	if err != nil {
		return nil, fmt.Errorf("read image: %w", err)
	}

	fmt.Printf("\\nQuestion: %s\\n", question)

	d := model.D{
		"messages":    model.RawMediaMessage(question, image),
		"temperature": 0.7,
		"top_p":       0.9,
		"top_k":       40,
		"max_tokens":  2048,
	}

	ch, err := krn.ChatStreaming(ctx, d)
	if err != nil {
		return nil, fmt.Errorf("vision streaming: %w", err)
	}

	return ch, nil
}

func modelResponse(krn *kronk.Kronk, ch <-chan model.ChatResponse) error {
	fmt.Print("\\nMODEL> ")

	var reasoning bool
	var lr model.ChatResponse

loop:
	for resp := range ch {
		lr = resp

		switch resp.Choice[0].FinishReason() {
		case model.FinishReasonStop:
			break loop

		case model.FinishReasonError:
			return fmt.Errorf("error from model: %s", resp.Choice[0].Delta.Content)
		}

		if resp.Choice[0].Delta.Reasoning != "" {
			fmt.Printf("\\u001b[91m%s\\u001b[0m", resp.Choice[0].Delta.Reasoning)
			reasoning = true
			continue
		}

		if reasoning {
			reasoning = false
			fmt.Print("\\n\\n")
		}

		fmt.Printf("%s", resp.Choice[0].Delta.Content)
	}

	// -------------------------------------------------------------------------

	contextTokens := lr.Usage.PromptTokens + lr.Usage.CompletionTokens
	contextWindow := krn.ModelConfig().ContextWindow
	percentage := (float64(contextTokens) / float64(contextWindow)) * 100
	of := float32(contextWindow) / float32(1024)

	fmt.Printf("\\n\\n\\u001b[90mInput: %d  Reasoning: %d  Completion: %d  Output: %d  Window: %d (%.0f%% of %.0fK) TPS: %.2f\\u001b[0m\\n",
		lr.Usage.PromptTokens, lr.Usage.ReasoningTokens, lr.Usage.CompletionTokens, lr.Usage.OutputTokens, contextTokens, percentage, of, lr.Usage.TokensPerSecond)

	return nil
}

func readImage(imageFile string) ([]byte, error) {
	if _, err := os.Stat(imageFile); err != nil {
		return nil, fmt.Errorf("error accessing file %q: %w", imageFile, err)
	}

	image, err := os.ReadFile(imageFile)
	if err != nil {
		return nil, fmt.Errorf("error reading file %q: %w", imageFile, err)
	}

	return image, nil
}
`;function lS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"SDK Examples"}),e.jsx("p",{children:"Complete working examples demonstrating how to use the Kronk SDK"})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"example-audio",children:[e.jsx("h3",{children:"Audio"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to execute a simple prompt against a vision model."}),e.jsx(nt,{code:J1,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-chat",children:[e.jsx("h3",{children:"Chat"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to create a simple chat application against an"}),e.jsx(nt,{code:Z1,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-embedding",children:[e.jsx("h3",{children:"Embedding"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to use an embedding model."}),e.jsx(nt,{code:eS,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-question",children:[e.jsx("h3",{children:"Question"}),e.jsx("p",{className:"doc-description",children:"This example shows you a basic program of using Kronk to ask a model a question."}),e.jsx(nt,{code:nS,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-rerank",children:[e.jsx("h3",{children:"Rerank"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to use a reranker model."}),e.jsx(nt,{code:tS,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-response",children:[e.jsx("h3",{children:"Response"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to create a simple chat application against an"}),e.jsx(nt,{code:rS,language:"go"})]}),e.jsxs("div",{className:"card",id:"example-vision",children:[e.jsx("h3",{children:"Vision"}),e.jsx("p",{className:"doc-description",children:"This example shows you how to execute a simple prompt against a vision model."}),e.jsx(nt,{code:sS,language:"go"})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsx("div",{className:"doc-sidebar-content",children:e.jsxs("div",{className:"doc-index-section",children:[e.jsx("span",{className:"doc-index-header",children:"Examples"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#example-audio",children:"Audio"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-chat",children:"Chat"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-embedding",children:"Embedding"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-question",children:"Question"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-rerank",children:"Rerank"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-response",children:"Response"})}),e.jsx("li",{children:e.jsx("a",{href:"#example-vision",children:"Vision"})})]})]})})})]})]})}function iS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"catalog"}),e.jsx("p",{children:"Manage model catalog - list and update available models."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk catalog <command> [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-list",children:[e.jsx("h4",{children:"list"}),e.jsx("p",{className:"doc-description",children:"List catalog models."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk catalog list [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--filter-category <string>"})}),e.jsx("td",{children:"Filter catalogs by category name (substring match)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# List all catalog models
kronk catalog list

# List models with local mode (no server required)
kronk catalog list --local

# Filter models by category
kronk catalog list --filter-category embedding`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-pull",children:[e.jsx("h4",{children:"pull"}),e.jsx("p",{className:"doc-description",children:"Pull a model from the catalog."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk catalog pull <MODEL_ID> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Pull a model from the catalog
kronk catalog pull llama-3.2-1b-q4

# Pull with local mode
kronk catalog pull llama-3.2-1b-q4 --local`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-show",children:[e.jsx("h4",{children:"show"}),e.jsx("p",{className:"doc-description",children:"Show catalog model information."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk catalog show <MODEL_ID> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Show details for a specific model
kronk catalog show llama-3.2-1b-q4

# Show with local mode
kronk catalog show llama-3.2-1b-q4 --local`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-update",children:[e.jsx("h4",{children:"update"}),e.jsx("p",{className:"doc-description",children:"Update the model catalog."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk catalog update [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Update the catalog from remote source
kronk catalog update

# Update with local mode
kronk catalog update --local`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#cmd-list",children:"list"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-pull",children:"pull"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-show",children:"show"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-update",children:"update"})})]})]})]})})]})]})}function oS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"libs"}),e.jsx("p",{children:"Install or upgrade llama.cpp libraries."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk libs [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-(default)",children:[e.jsx("h4",{children:"(default)"}),e.jsx("p",{className:"doc-description",children:"Install or upgrade llama.cpp libraries."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk libs [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_ARCH"})}),e.jsx("td",{children:"runtime.GOARCH"}),e.jsx("td",{children:"The architecture to install (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_LIB_PATH"})}),e.jsx("td",{children:"$HOME/kronk/libraries"}),e.jsx("td",{children:"The path to the libraries directory (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_OS"})}),e.jsx("td",{children:"runtime.GOOS"}),e.jsx("td",{children:"The operating system to install (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_PROCESSOR"})}),e.jsx("td",{children:"cpu"}),e.jsx("td",{children:"Options: cpu, cuda, metal, vulkan (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Install libraries using the server
kronk libs

# Install libraries locally
kronk libs --local

# Install with Metal support on macOS
KRONK_PROCESSOR=metal kronk libs --local`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#cmd-(default)",children:"(default)"})})})]})]})})]})]})}function aS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"model"}),e.jsx("p",{children:"Manage models - list, pull, remove, show, and check running models."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model <command> [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-index",children:[e.jsx("h4",{children:"index"}),e.jsx("p",{className:"doc-description",children:"Rebuild the model index for fast model access."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model index [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Rebuild the model index
kronk model index

# Rebuild with local mode
kronk model index --local`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-list",children:[e.jsx("h4",{children:"list"}),e.jsx("p",{className:"doc-description",children:"List models."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model list [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# List all models
kronk model list

# List with local mode
kronk model list --local`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-ps",children:[e.jsx("h4",{children:"ps"}),e.jsx("p",{className:"doc-description",children:"List running models."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model ps"})}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# List running models
kronk model ps`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-pull",children:[e.jsx("h4",{children:"pull"}),e.jsx("p",{className:"doc-description",children:"Pull a model from the web."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model pull <MODEL_URL> [MMPROJ_URL] [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Pull a model from a URL
kronk model pull .../model.gguf

# Pull with local mode
kronk model pull .../model.gguf --local

# Pull a vision model with mmproj file
kronk model pull <MODEL_URL> <MMPROJ_URL>`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-remove",children:[e.jsx("h4",{children:"remove"}),e.jsx("p",{className:"doc-description",children:"Remove a model."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model remove <MODEL_NAME> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Remove a model
kronk model remove llama-3.2-1b-q4

# Remove with local mode
kronk model remove llama-3.2-1b-q4 --local`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-show",children:[e.jsx("h4",{children:"show"}),e.jsx("p",{className:"doc-description",children:"Show information for a model."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk model show <MODEL_NAME> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Authentication token for the kronk server (required when auth enabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"localhost:8080"}),e.jsx("td",{children:"IP Address for the kronk server (web mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories (local mode)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory (local mode)"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Show model information
kronk model show llama-3.2-1b-q4

# Show with local mode
kronk model show llama-3.2-1b-q4 --local`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#cmd-index",children:"index"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-list",children:"list"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-ps",children:"ps"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-pull",children:"pull"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-remove",children:"remove"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-show",children:"show"})})]})]})]})})]})]})}function cS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"run"}),e.jsx("p",{children:"Run an interactive chat session with a model."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk run <MODEL_NAME> [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-flags",children:[e.jsx("h4",{children:"flags"}),e.jsx("p",{className:"doc-description",children:"Available flags for the run command."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk run <MODEL_NAME> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--instances <int>"})}),e.jsx("td",{children:"Number of model instances to load (default: 1)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--max-tokens <int>"})}),e.jsx("td",{children:"Maximum tokens for response (default: 2048)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--temperature <float>"})}),e.jsx("td",{children:"Temperature for sampling (default: 0.7)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--top-p <float>"})}),e.jsx("td",{children:"Top-p for sampling (default: 0.9)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--top-k <int>"})}),e.jsx("td",{children:"Top-k for sampling (default: 40)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--base-path <string>"})}),e.jsx("td",{children:"Base path for kronk data (models, catalogs, templates)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_MODELS"})}),e.jsx("td",{children:"$HOME/kronk/models"}),e.jsx("td",{children:"The path to the models directory"})]})]})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Start an interactive chat with a model
kronk run Qwen3-8B-Q8_0

# Run with custom sampling parameters
kronk run Qwen3-8B-Q8_0 --temperature 0.5 --top-p 0.95

# Run with higher token limit
kronk run Qwen3-8B-Q8_0 --max-tokens 4096`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#cmd-flags",children:"flags"})})})]})]})})]})]})}function dS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"security"}),e.jsx("p",{children:"Manage security - tokens and access control."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security <command> [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-key",children:[e.jsx("h4",{children:"key"}),e.jsx("p",{className:"doc-description",children:"Manage private keys - create and delete private keys."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security key <command> [flags]"})}),e.jsxs("div",{className:"doc-section",id:"cmd-key-create",children:[e.jsx("h4",{children:"create"}),e.jsx("p",{className:"doc-description",children:"Create a new private key and add it to the keystore."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security key create [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]})})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Admin token (required when auth enabled)"})]})})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Create a new private key
export KRONK_TOKEN=<admin-token>
kronk security key create`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-key-delete",children:[e.jsx("h4",{children:"delete"}),e.jsx("p",{className:"doc-description",children:"Delete a private key by its key ID."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security key delete --keyid <KEY_ID> [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--keyid <string>"})}),e.jsx("td",{children:"The key ID to delete (required)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Admin token (required when auth enabled)"})]})})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Delete a private key
export KRONK_TOKEN=<admin-token>
kronk security key delete --keyid abc123`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-key-list",children:[e.jsx("h4",{children:"list"}),e.jsx("p",{className:"doc-description",children:"List all private keys in the system."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security key list [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]})})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Admin token (required when auth enabled)"})]})})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# List all private keys
export KRONK_TOKEN=<admin-token>
kronk security key list`})})]})]}),e.jsxs("div",{className:"doc-section",id:"cmd-token",children:[e.jsx("h4",{children:"token"}),e.jsx("p",{className:"doc-description",children:"Manage tokens - create and manage security tokens."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security token <command> [flags]"})}),e.jsxs("div",{className:"doc-section",id:"cmd-token-create",children:[e.jsx("h4",{children:"create"}),e.jsx("p",{className:"doc-description",children:"Create a security token."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk security token create [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--local"})}),e.jsx("td",{children:"Run without the model server"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--duration <duration>"})}),e.jsx("td",{children:"Token duration (e.g., 1h, 24h, 720h)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--endpoints <list>"})}),e.jsx("td",{children:"Endpoints with optional rate limits"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_TOKEN"})}),e.jsx("td",{}),e.jsx("td",{children:"Admin token (required when auth enabled)"})]})})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Create a token with 24 hour duration
export KRONK_TOKEN=<admin-token>
kronk security token create --duration 24h --endpoints chat-completions,embeddings

# Create a token with rate limits
kronk security token create --duration 720h --endpoints "chat-completions:1000/day,embeddings:unlimited"`})})]})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#cmd-key",children:"key"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-key-create",children:"create"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-key-delete",children:"delete"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-key-list",children:"list"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-token",children:"token"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-token-create",children:"create"})})]})]})]})})]})]})}function hS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"server"}),e.jsx("p",{children:"Manage model server - start, stop, logs."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"usage",children:[e.jsx("h3",{children:"Usage"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk server <command> [flags]"})})]}),e.jsxs("div",{className:"card",id:"subcommands",children:[e.jsx("h3",{children:"Subcommands"}),e.jsxs("div",{className:"doc-section",id:"cmd-start",children:[e.jsx("h4",{children:"start"}),e.jsx("p",{className:"doc-description",children:"Start Kronk model server."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk server start [flags]"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Flag"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"-d, --detach"})}),e.jsx("td",{children:"Run server in the background"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--api-host <string>"})}),e.jsx("td",{children:"API host address (e.g., localhost:8080)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--debug-host <string>"})}),e.jsx("td",{children:"Debug host address (e.g., localhost:8090)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--auth-enabled"})}),e.jsx("td",{children:"Enable local authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--device <string>"})}),e.jsx("td",{children:"Device to use for inference (e.g., cuda, metal)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--max-instances <int>"})}),e.jsx("td",{children:"Maximum model instances"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--models-in-cache <int>"})}),e.jsx("td",{children:"Maximum models in cache"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--cache-ttl <duration>"})}),e.jsx("td",{children:"Cache TTL duration (e.g., 5m, 1h)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--model-config-file <string>"})}),e.jsx("td",{children:"Special config file for model specific config"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"--llama-log <int>"})}),e.jsx("td",{children:"Llama log level (0=off, 1=on)"})]})]})]}),e.jsx("h5",{children:"Environment Variables"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_BASE_PATH"})}),e.jsx("td",{children:"$HOME/kronk"}),e.jsx("td",{children:"Base path for kronk data directories"})]})})]}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Start the server in foreground
kronk server start

# Start the server in background
kronk server start -d

# View all server environment settings
kronk server start --help`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-stop",children:[e.jsx("h4",{children:"stop"}),e.jsx("p",{className:"doc-description",children:"Stop the Kronk model server by sending SIGTERM."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk server stop"})}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Stop the server
kronk server stop`})})]}),e.jsxs("div",{className:"doc-section",id:"cmd-logs",children:[e.jsx("h4",{children:"logs"}),e.jsx("p",{className:"doc-description",children:"Stream the Kronk model server logs (tail -f)."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"kronk server logs"})}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`# Stream server logs
kronk server logs`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#usage",className:"doc-index-header",children:"Usage"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#subcommands",className:"doc-index-header",children:"Subcommands"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#cmd-start",children:"start"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-stop",children:"stop"})}),e.jsx("li",{children:e.jsx("a",{href:"#cmd-logs",children:"logs"})})]})]})]})})]})]})}function uS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Chat Completions API"}),e.jsx("p",{children:"Generate chat completions using language models. Compatible with the OpenAI Chat Completions API."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"chat-completions",children:[e.jsx("h3",{children:"Chat Completions"}),e.jsx("p",{children:"Create chat completions with language models."}),e.jsxs("div",{className:"doc-section",id:"chat-completions-post--chat-completions",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /chat/completions"]}),e.jsx("p",{className:"doc-description",children:"Create a chat completion. Supports streaming responses."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Token must have 'chat-completions' endpoint access."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Model ID to use for completion (e.g., 'qwen3-8b-q8_0')"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"messages"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Array of message objects. See Message Formats section below for supported formats."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stream"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Enable streaming responses (default: false)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"tools"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Array of tool definitions for function calling. See Tool Definitions section below."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"temperature"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Controls randomness of output by rescaling probability distribution"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_k"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Limits token pool to K most probable tokens"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_p"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Nucleus sampling - selects tokens whose cumulative probability exceeds threshold"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"min_p"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Dynamic sampling threshold balancing coherence and diversity"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"max_tokens"})}),e.jsx("td",{children:e.jsx("code",{children:"int"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Maximum output tokens to generate"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"repeat_penalty"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Penalty for repeated tokens to reduce repetitive text"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"repeat_last_n"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of recent tokens to consider for repetition penalty"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_multiplier"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"DRY sampler multiplier for n-gram repetition penalty (0 = disabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_base"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Base for exponential penalty growth in DRY"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_allowed_length"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Minimum n-gram length before DRY applies"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_penalty_last_n"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of recent tokens DRY considers (0 = full context)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_probability"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"XTC probability for extreme token culling (0 = disabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_threshold"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Probability threshold for XTC culling"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_min_keep"})}),e.jsx("td",{children:e.jsx("code",{children:"uint32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Minimum tokens to keep after XTC culling"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"enable_thinking"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Enable model thinking/reasoning for non-GPT models"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"reasoning_effort"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Reasoning level for GPT models: none, minimal, low, medium, high"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"return_prompt"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Include the prompt in the final response"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"include_usage"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Include token usage information in streaming responses"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"logprobs"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Return log probabilities of output tokens"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_logprobs"})}),e.jsx("td",{children:e.jsx("code",{children:"int"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of most likely tokens to return at each position (0-5)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stream"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Stream response as server-sent events (SSE)"})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a chat completion object, or streams Server-Sent Events if stream=true."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Simple text message:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen3-8b-q8_0",
    "messages": [
      {
        "role": "system",
        "content": "You are a helpful assistant."
      },
      {
        "role": "user",
        "content": "Hello, how are you?"
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Multi-turn conversation:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen3-8b-q8_0",
    "messages": [
      {"role": "user", "content": "What is 2+2?"},
      {"role": "assistant", "content": "2+2 equals 4."},
      {"role": "user", "content": "And what is that multiplied by 3?"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Vision - image from URL (requires vision model):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen2.5-vl-3b-instruct-q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "What is in this image?"},
          {"type": "image_url", "image_url": {"url": "https://example.com/image.jpg"}}
        ]
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Vision - base64 encoded image (requires vision model):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen2.5-vl-3b-instruct-q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "Describe this image"},
          {"type": "image_url", "image_url": {"url": "data:image/jpeg;base64,/9j/4AAQ..."}}
        ]
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Audio - base64 encoded audio (requires audio model):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen2-audio-7b-q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "What is being said in this audio?"},
          {"type": "input_audio", "input_audio": {"data": "UklGRi...", "format": "wav"}}
        ]
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Tool/Function calling - define tools and let the model call them:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "stream": true,
    "model": "qwen3-8b-q8_0",
    "messages": [
      {"role": "user", "content": "What is the weather in Tokyo?"}
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "Get the current weather for a location",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "The location to get the weather for, e.g. San Francisco, CA"
              }
            },
            "required": ["location"]
          }
        }
      }
    ]
  }'`})})]})]}),e.jsxs("div",{className:"card",id:"response-formats",children:[e.jsx("h3",{children:"Response Formats"}),e.jsx("p",{children:"The response format differs between streaming and non-streaming requests."}),e.jsxs("div",{className:"doc-section",id:"response-formats--non-streaming-response",children:[e.jsx("h4",{children:"Non-Streaming Response"}),e.jsx("p",{className:"doc-description",children:"For non-streaming requests (stream=false or omitted), the response uses the 'message' field in each choice. The 'delta' field is empty."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "qwen3-8b-q8_0",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "Hello! I'm doing well, thank you for asking.",
        "reasoning": ""
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 25,
    "reasoning_tokens": 0,
    "completion_tokens": 12,
    "output_tokens": 12,
    "total_tokens": 37,
    "tokens_per_second": 85.5
  }
}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-formats--streaming-response",children:[e.jsx("h4",{children:"Streaming Response"}),e.jsx("p",{className:"doc-description",children:"For streaming requests (stream=true), the response uses the 'delta' field in each choice. Multiple chunks are sent as Server-Sent Events, with incremental content in each delta."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`// Each chunk contains partial content in the delta field
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"role":"assistant","content":"Hello"},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"content":"!"},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"content":" How"},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"content":" are you?"},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{},"finish_reason":"stop"}],"usage":{...}}
data: [DONE]`})})]})]}),e.jsxs("div",{className:"card",id:"message-formats",children:[e.jsx("h3",{children:"Message Formats"}),e.jsx("p",{children:"The messages array supports several formats depending on the content type and model capabilities."}),e.jsxs("div",{className:"doc-section",id:"message-formats--text-messages",children:[e.jsx("h4",{children:"Text Messages"}),e.jsx("p",{className:"doc-description",children:"Simple text content with role (system, user, or assistant) and content string."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "role": "system",
  "content": "You are a helpful assistant."
}

{
  "role": "user",
  "content": "Hello, how are you?"
}

{
  "role": "assistant",
  "content": "I'm doing well, thank you!"
}`})})]}),e.jsxs("div",{className:"doc-section",id:"message-formats--multi-part-content-(vision)",children:[e.jsx("h4",{children:"Multi-part Content (Vision)"}),e.jsx("p",{className:"doc-description",children:"For vision models, content can be an array with text and image parts. Images can be URLs or base64-encoded data URIs."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "role": "user",
  "content": [
    {"type": "text", "text": "What is in this image?"},
    {"type": "image_url", "image_url": {"url": "https://example.com/image.jpg"}}
  ]
}

// Base64 encoded image
{
  "role": "user",
  "content": [
    {"type": "text", "text": "Describe this image"},
    {"type": "image_url", "image_url": {"url": "data:image/jpeg;base64,/9j/4AAQ..."}}
  ]
}`})})]}),e.jsxs("div",{className:"doc-section",id:"message-formats--audio-content",children:[e.jsx("h4",{children:"Audio Content"}),e.jsx("p",{className:"doc-description",children:"For audio models, content can include audio data as base64-encoded input with format specification."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "role": "user",
  "content": [
    {"type": "text", "text": "What is being said?"},
    {"type": "input_audio", "input_audio": {"data": "UklGRi...", "format": "wav"}}
  ]
}`})})]}),e.jsxs("div",{className:"doc-section",id:"message-formats--tool-definitions",children:[e.jsx("h4",{children:"Tool Definitions"}),e.jsx("p",{className:"doc-description",children:"Tools are defined in the 'tools' array field of the request (not in messages). Each tool specifies a function with name, description, and parameters schema."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`// Tools are defined at the request level
{
  "model": "qwen3-8b-q8_0",
  "messages": [...],
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "get_weather",
        "description": "Get the current weather for a location",
        "parameters": {
          "type": "object",
          "properties": {
            "location": {
              "type": "string",
              "description": "The location to get the weather for, e.g. San Francisco, CA"
            }
          },
          "required": ["location"]
        }
      }
    }
  ]
}`})})]}),e.jsxs("div",{className:"doc-section",id:"message-formats--tool-call-response-(non-streaming)",children:[e.jsx("h4",{children:"Tool Call Response (Non-Streaming)"}),e.jsx("p",{className:"doc-description",children:"For non-streaming requests (stream=false), when the model calls a tool, the response uses the 'message' field with 'tool_calls' array. The finish_reason is 'tool_calls'."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "qwen3-8b-q8_0",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "",
        "tool_calls": [
          {
            "id": "call_xyz789",
            "index": 0,
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\\"location\\":\\"Tokyo\\"}"
            }
          }
        ]
      },
      "finish_reason": "tool_calls"
    }
  ],
  "usage": {
    "prompt_tokens": 50,
    "completion_tokens": 25,
    "total_tokens": 75
  }
}`})})]}),e.jsxs("div",{className:"doc-section",id:"message-formats--tool-call-response-(streaming)",children:[e.jsx("h4",{children:"Tool Call Response (Streaming)"}),e.jsx("p",{className:"doc-description",children:"For streaming requests (stream=true), tool calls are returned in the 'delta' field. Each chunk contains partial tool call data that should be accumulated."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`// Streaming chunks with tool calls use delta instead of message
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"role":"assistant","tool_calls":[{"id":"call_xyz789","index":0,"type":"function","function":{"name":"get_weather","arguments":""}}]},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\\"location\\":"}}]},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\"Tokyo\\"}"}}]},"finish_reason":""}]}
data: {"id":"chatcmpl-abc123","choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":{...}}
data: [DONE]`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chat-completions",className:"doc-index-header",children:"Chat Completions"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#chat-completions-post--chat-completions",children:"POST /chat/completions"})})})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#response-formats",className:"doc-index-header",children:"Response Formats"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#response-formats--non-streaming-response",children:"Non-Streaming Response"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-formats--streaming-response",children:"Streaming Response"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#message-formats",className:"doc-index-header",children:"Message Formats"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#message-formats--text-messages",children:"Text Messages"})}),e.jsx("li",{children:e.jsx("a",{href:"#message-formats--multi-part-content-(vision)",children:"Multi-part Content (Vision)"})}),e.jsx("li",{children:e.jsx("a",{href:"#message-formats--audio-content",children:"Audio Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#message-formats--tool-definitions",children:"Tool Definitions"})}),e.jsx("li",{children:e.jsx("a",{href:"#message-formats--tool-call-response-(non-streaming)",children:"Tool Call Response (Non-Streaming)"})}),e.jsx("li",{children:e.jsx("a",{href:"#message-formats--tool-call-response-(streaming)",children:"Tool Call Response (Streaming)"})})]})]})]})})]})]})}function pS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Messages API"}),e.jsx("p",{children:"Generate messages using language models. Compatible with the Anthropic Messages API."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"messages",children:[e.jsx("h3",{children:"Messages"}),e.jsx("p",{children:"Create messages with language models using the Anthropic Messages API format."}),e.jsxs("div",{className:"doc-section",id:"messages-post--messages",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /messages"]}),e.jsx("p",{className:"doc-description",children:"Create a message. Supports streaming responses with Server-Sent Events using Anthropic's event format."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Token must have 'messages' endpoint access."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"anthropic-version"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"API version (optional)"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"ID of the model to use"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"messages"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Array of message objects with role (user/assistant) and content"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"max_tokens"})}),e.jsx("td",{children:e.jsx("code",{children:"integer"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Maximum number of tokens to generate"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"system"})}),e.jsx("td",{children:e.jsx("code",{children:"string|array"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"System prompt as string or array of content blocks"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stream"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Enable streaming responses (default: false)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"tools"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"List of tools the model can use"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"temperature"})}),e.jsx("td",{children:e.jsx("code",{children:"number"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Sampling temperature (0-1)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_p"})}),e.jsx("td",{children:e.jsx("code",{children:"number"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Nucleus sampling parameter"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_k"})}),e.jsx("td",{children:e.jsx("code",{children:"integer"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Top-k sampling parameter"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stop_sequences"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Sequences where the API will stop generating"})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a message object, or streams Server-Sent Events if stream=true. Response includes anthropic-request-id header."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Basic message:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "Hello, how are you?"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"With system prompt:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "system": "You are a helpful assistant.",
    "messages": [
      {"role": "user", "content": "What is the capital of France?"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Streaming response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "stream": true,
    "messages": [
      {"role": "user", "content": "Write a haiku about coding"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Multi-turn conversation:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "What is 2+2?"},
      {"role": "assistant", "content": "2+2 equals 4."},
      {"role": "user", "content": "What about 2+3?"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Vision with image URL (requires vision model):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen2.5-vl-3b-instruct-q8_0",
    "max_tokens": 1024,
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "What is in this image?"},
          {"type": "image", "source": {"type": "url", "url": "https://example.com/image.jpg"}}
        ]
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Vision with base64 image (requires vision model):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen2.5-vl-3b-instruct-q8_0",
    "max_tokens": 1024,
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "Describe this image"},
          {
            "type": "image",
            "source": {
              "type": "base64",
              "media_type": "image/jpeg",
              "data": "/9j/4AAQ..."
            }
          }
        ]
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Tool calling:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "What is the weather in Paris?"}
    ],
    "tools": [
      {
        "name": "get_weather",
        "description": "Get the current weather for a location",
        "input_schema": {
          "type": "object",
          "properties": {
            "location": {
              "type": "string",
              "description": "City name"
            }
          },
          "required": ["location"]
        }
      }
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Tool result (continue conversation after tool call):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/messages \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "What is the weather in Paris?"},
      {
        "role": "assistant",
        "content": [
          {
            "type": "tool_use",
            "id": "call_xyz789",
            "name": "get_weather",
            "input": {"location": "Paris"}
          }
        ]
      },
      {
        "role": "user",
        "content": [
          {
            "type": "tool_result",
            "tool_use_id": "call_xyz789",
            "content": "Sunny, 22C"
          }
        ]
      }
    ],
    "tools": [
      {
        "name": "get_weather",
        "description": "Get the current weather for a location",
        "input_schema": {
          "type": "object",
          "properties": {
            "location": {"type": "string"}
          },
          "required": ["location"]
        }
      }
    ]
  }'`})})]})]}),e.jsxs("div",{className:"card",id:"response-formats",children:[e.jsx("h3",{children:"Response Formats"}),e.jsx("p",{children:"The Messages API returns different formats for streaming and non-streaming responses."}),e.jsxs("div",{className:"doc-section",id:"response-formats--non-streaming-response",children:[e.jsx("h4",{children:"Non-Streaming Response"}),e.jsx("p",{className:"doc-description",children:"For non-streaming requests (stream=false or omitted), returns a complete message object."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "id": "msg_abc123",
  "type": "message",
  "role": "assistant",
  "content": [
    {
      "type": "text",
      "text": "Hello! I'm doing well, thank you for asking. How can I help you today?"
    }
  ],
  "model": "qwen3-8b-q8_0",
  "stop_reason": "end_turn",
  "usage": {
    "input_tokens": 12,
    "output_tokens": 18
  }
}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-formats--tool-use-response",children:[e.jsx("h4",{children:"Tool Use Response"}),e.jsx("p",{className:"doc-description",children:"When the model calls a tool, the content includes tool_use blocks with the tool call details."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "id": "msg_abc123",
  "type": "message",
  "role": "assistant",
  "content": [
    {
      "type": "tool_use",
      "id": "call_xyz789",
      "name": "get_weather",
      "input": {
        "location": "Paris"
      }
    }
  ],
  "model": "qwen3-8b-q8_0",
  "stop_reason": "tool_use",
  "usage": {
    "input_tokens": 50,
    "output_tokens": 25
  }
}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-formats--streaming-events",children:[e.jsx("h4",{children:"Streaming Events"}),e.jsx("p",{className:"doc-description",children:"For streaming requests (stream=true), the API returns Server-Sent Events with different event types following Anthropic's streaming format."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`event: message_start
data: {"type":"message_start","message":{"id":"msg_abc123","type":"message","role":"assistant","content":[],"model":"qwen3-8b-q8_0","stop_reason":null,"usage":{"input_tokens":12,"output_tokens":0}}}

event: content_block_start
data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}}

event: content_block_delta
data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Hello"}}

event: content_block_delta
data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"!"}}

event: content_block_stop
data: {"type":"content_block_stop","index":0}

event: message_delta
data: {"type":"message_delta","delta":{"stop_reason":"end_turn"},"usage":{"output_tokens":18}}

event: message_stop
data: {"type":"message_stop"}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-formats--streaming-tool-calls",children:[e.jsx("h4",{children:"Streaming Tool Calls"}),e.jsx("p",{className:"doc-description",children:"When streaming tool calls, input_json_delta events provide incremental JSON for tool arguments."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`event: message_start
data: {"type":"message_start","message":{...}}

event: content_block_start
data: {"type":"content_block_start","index":0,"content_block":{"type":"tool_use","id":"call_xyz789","name":"get_weather","input":{}}}

event: content_block_delta
data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"{\\"location\\":"}}

event: content_block_delta
data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"\\"Paris\\"}"}}

event: content_block_stop
data: {"type":"content_block_stop","index":0}

event: message_delta
data: {"type":"message_delta","delta":{"stop_reason":"tool_use"},"usage":{"output_tokens":25}}

event: message_stop
data: {"type":"message_stop"}`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#messages",className:"doc-index-header",children:"Messages"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#messages-post--messages",children:"POST /messages"})})})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#response-formats",className:"doc-index-header",children:"Response Formats"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#response-formats--non-streaming-response",children:"Non-Streaming Response"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-formats--tool-use-response",children:"Tool Use Response"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-formats--streaming-events",children:"Streaming Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-formats--streaming-tool-calls",children:"Streaming Tool Calls"})})]})]})]})})]})]})}function mS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Responses API"}),e.jsx("p",{children:"Generate responses using language models. Compatible with the OpenAI Responses API."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"responses",children:[e.jsx("h3",{children:"Responses"}),e.jsx("p",{children:"Create responses with language models using the Responses API format."}),e.jsxs("div",{className:"doc-section",id:"responses-post--responses",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /responses"]}),e.jsx("p",{className:"doc-description",children:"Create a response. Supports streaming responses with Server-Sent Events."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Token must have 'responses' endpoint access."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"ID of the model to use"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"input"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Array of input messages (same format as chat messages)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stream"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Enable streaming responses (default: false)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"instructions"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"System instructions for the model"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"tools"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"List of tools the model can use"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"tool_choice"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"How the model should use tools: auto, none, or required"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"parallel_tool_calls"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Allow parallel tool calls (default: true)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"store"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Whether to store the response (default: true)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"truncation"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Truncation strategy: auto or disabled (default: disabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"temperature"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Controls randomness of output by rescaling probability distribution"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_k"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Limits token pool to K most probable tokens"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_p"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Nucleus sampling - selects tokens whose cumulative probability exceeds threshold"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"min_p"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Dynamic sampling threshold balancing coherence and diversity"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"max_tokens"})}),e.jsx("td",{children:e.jsx("code",{children:"int"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Maximum output tokens to generate"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"repeat_penalty"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Penalty for repeated tokens to reduce repetitive text"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"repeat_last_n"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of recent tokens to consider for repetition penalty"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_multiplier"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"DRY sampler multiplier for n-gram repetition penalty (0 = disabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_base"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Base for exponential penalty growth in DRY"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_allowed_length"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Minimum n-gram length before DRY applies"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dry_penalty_last_n"})}),e.jsx("td",{children:e.jsx("code",{children:"int32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of recent tokens DRY considers (0 = full context)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_probability"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"XTC probability for extreme token culling (0 = disabled)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_threshold"})}),e.jsx("td",{children:e.jsx("code",{children:"float32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Probability threshold for XTC culling"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"xtc_min_keep"})}),e.jsx("td",{children:e.jsx("code",{children:"uint32"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Minimum tokens to keep after XTC culling"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"enable_thinking"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Enable model thinking/reasoning for non-GPT models"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"reasoning_effort"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Reasoning level for GPT models: none, minimal, low, medium, high"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"return_prompt"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Include the prompt in the final response"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"include_usage"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Include token usage information in streaming responses"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"logprobs"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Return log probabilities of output tokens"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_logprobs"})}),e.jsx("td",{children:e.jsx("code",{children:"int"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Number of most likely tokens to return at each position (0-5)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"stream"})}),e.jsx("td",{children:e.jsx("code",{children:"bool"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Stream response as server-sent events (SSE)"})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a response object, or streams Server-Sent Events if stream=true."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Basic response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/responses \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "input": [
      {"role": "user", "content": "Hello, how are you?"}
    ]
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Streaming response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/responses \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "input": [
      {"role": "user", "content": "Write a short poem about coding"}
    ],
    "stream": true
  }'`})}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"With tools:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/responses \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "qwen3-8b-q8_0",
    "input": [
      {"role": "user", "content": "What is the weather in London?"}
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "Get the current weather for a location",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {"type": "string", "description": "City name"}
            },
            "required": ["location"]
          }
        }
      }
    ]
  }'`})})]})]}),e.jsxs("div",{className:"card",id:"response-format",children:[e.jsx("h3",{children:"Response Format"}),e.jsx("p",{children:"The Responses API returns a structured response object with output items."}),e.jsxs("div",{className:"doc-section",id:"response-format--response-object",children:[e.jsx("h4",{children:"Response Object"}),e.jsx("p",{className:"doc-description",children:"The response object contains metadata, output items, and usage information."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "id": "resp_abc123",
  "object": "response",
  "created_at": 1234567890,
  "status": "completed",
  "model": "qwen3-8b-q8_0",
  "output": [
    {
      "type": "message",
      "id": "msg_xyz789",
      "status": "completed",
      "role": "assistant",
      "content": [
        {
          "type": "output_text",
          "text": "Hello! I'm doing well, thank you for asking.",
          "annotations": []
        }
      ]
    }
  ],
  "usage": {
    "input_tokens": 12,
    "output_tokens": 15,
    "total_tokens": 27
  }
}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-format--streaming-events",children:[e.jsx("h4",{children:"Streaming Events"}),e.jsx("p",{className:"doc-description",children:"When stream=true, the API returns Server-Sent Events with different event types."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`event: response.created
data: {"type":"response.created","response":{...}}

event: response.in_progress
data: {"type":"response.in_progress","response":{...}}

event: response.output_item.added
data: {"type":"response.output_item.added","item":{...}}

event: response.output_text.delta
data: {"type":"response.output_text.delta","delta":"Hello"}

event: response.output_text.done
data: {"type":"response.output_text.done","text":"Hello! How are you?"}

event: response.completed
data: {"type":"response.completed","response":{...}}`})})]}),e.jsxs("div",{className:"doc-section",id:"response-format--function-call-output",children:[e.jsx("h4",{children:"Function Call Output"}),e.jsx("p",{className:"doc-description",children:"When the model calls a tool, the output contains a function_call item instead of a message."}),e.jsx("h5",{children:"Example"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`{
  "output": [
    {
      "type": "function_call",
      "id": "fc_abc123",
      "call_id": "call_xyz789",
      "name": "get_weather",
      "arguments": "{\\"location\\":\\"London\\"}",
      "status": "completed"
    }
  ]
}`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#responses",className:"doc-index-header",children:"Responses"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#responses-post--responses",children:"POST /responses"})})})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#response-format",className:"doc-index-header",children:"Response Format"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#response-format--response-object",children:"Response Object"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-format--streaming-events",children:"Streaming Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#response-format--function-call-output",children:"Function Call Output"})})]})]})]})})]})]})}function xS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Embeddings API"}),e.jsx("p",{children:"Generate vector embeddings for text. Compatible with the OpenAI Embeddings API."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"embeddings",children:[e.jsx("h3",{children:"Embeddings"}),e.jsx("p",{children:"Create vector embeddings for semantic search and similarity."}),e.jsxs("div",{className:"doc-section",id:"embeddings-post--embeddings",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /embeddings"]}),e.jsx("p",{className:"doc-description",children:"Create embeddings for the given input text. The model must support embedding generation."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Token must have 'embeddings' endpoint access."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Embedding model ID (e.g., 'embeddinggemma-300m-qat-Q8_0')"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"input"})}),e.jsx("td",{children:e.jsx("code",{children:"string|array"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Text to generate embeddings for. Can be a string or array of strings."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"dimensions"})}),e.jsx("td",{children:e.jsx("code",{children:"integer"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Reduce output to first N dimensions (for Matryoshka models). Must be <= model's native dimensions."})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns an embedding object with vector data."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Generate embeddings for text:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/embeddings \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "embeddinggemma-300m-qat-Q8_0",
    "input": "Why is the sky blue?"
  }'`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#embeddings",className:"doc-index-header",children:"Embeddings"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#embeddings-post--embeddings",children:"POST /embeddings"})})})]})]})})]})]})}function fS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Rerank API"}),e.jsx("p",{children:"Rerank documents by relevance to a query. Used for semantic search result ordering."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"reranking",children:[e.jsx("h3",{children:"Reranking"}),e.jsx("p",{children:"Score and reorder documents by relevance to a query."}),e.jsxs("div",{className:"doc-section",id:"reranking-post--rerank",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /rerank"]}),e.jsx("p",{className:"doc-description",children:"Rerank documents by their relevance to a query. The model must support reranking."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Token must have 'rerank' endpoint access."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Reranker model ID (e.g., 'bge-reranker-v2-m3-Q8_0')"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"query"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"The query to rank documents against."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"documents"})}),e.jsx("td",{children:e.jsx("code",{children:"array"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Array of document strings to rank."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_n"})}),e.jsx("td",{children:e.jsx("code",{children:"integer"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Return only the top N results. Defaults to all documents."})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"return_documents"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Include document text in results. Defaults to false."})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a list of reranked results with index and relevance_score, sorted by score descending."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Rerank documents for a query:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/rerank \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "bge-reranker-v2-m3-Q8_0",
    "query": "What is machine learning?",
    "documents": [
      "Machine learning is a subset of artificial intelligence.",
      "The weather today is sunny.",
      "Deep learning uses neural networks."
    ],
    "top_n": 2
  }'`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#reranking",className:"doc-index-header",children:"Reranking"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("a",{href:"#reranking-post--rerank",children:"POST /rerank"})})})]})]})})]})]})}function gS(){return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Tools API"}),e.jsx("p",{children:"Manage libraries, models, catalog, and security. These endpoints handle server administration tasks."})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content",children:[e.jsxs("div",{className:"card",id:"overview",children:[e.jsx("h3",{children:"Overview"}),e.jsxs("p",{children:["All endpoints are prefixed with ",e.jsx("code",{children:"/v1"}),". Base URL: ",e.jsx("code",{children:"http://localhost:8080"})]}),e.jsx("h4",{children:"Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Authorization: Bearer YOUR_TOKEN"})})]}),e.jsxs("div",{className:"card",id:"libs",children:[e.jsx("h3",{children:"Libs"}),e.jsx("p",{children:"Manage llama.cpp libraries installation and updates."}),e.jsxs("div",{className:"doc-section",id:"libs-get--libs",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /libs"]}),e.jsx("p",{className:"doc-description",children:"Get information about installed llama.cpp libraries."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns version information including arch, os, processor, latest version, and current version."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Get library information:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/libs"})})]}),e.jsxs("div",{className:"doc-section",id:"libs-post--libs-pull",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /libs/pull"]}),e.jsx("p",{className:"doc-description",children:"Download and install the latest llama.cpp libraries. Returns streaming progress updates."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Streams download progress as Server-Sent Events."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Pull latest libraries:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X POST http://localhost:8080/v1/libs/pull"})})]})]}),e.jsxs("div",{className:"card",id:"models",children:[e.jsx("h3",{children:"Models"}),e.jsx("p",{children:"Manage models - list, pull, show, and remove models from the server."}),e.jsxs("div",{className:"doc-section",id:"models-get--models",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /models"]}),e.jsx("p",{className:"doc-description",children:"List all available models on the server."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a list of model objects with id, owned_by, model_family, size, and modified fields."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"List all models:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/models"})})]}),e.jsxs("div",{className:"doc-section",id:"models-get--models-model",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /models/{model}"]}),e.jsx("p",{className:"doc-description",children:"Show detailed information about a specific model."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns model details including metadata, capabilities, and configuration."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Show model details:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/models/qwen3-8b-q8_0"})})]}),e.jsxs("div",{className:"doc-section",id:"models-get--models-ps",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /models/ps"]}),e.jsx("p",{className:"doc-description",children:"List currently loaded/running models in the cache."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a list of running models with id, owned_by, model_family, size, expires_at, and active_streams."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"List running models:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/models/ps"})})]}),e.jsxs("div",{className:"doc-section",id:"models-post--models-index",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /models/index"]}),e.jsx("p",{className:"doc-description",children:"Rebuild the model index for fast model access."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns empty response on success."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Rebuild model index:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X POST http://localhost:8080/v1/models/index"})})]}),e.jsxs("div",{className:"doc-section",id:"models-post--models-pull",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /models/pull"]}),e.jsx("p",{className:"doc-description",children:"Pull/download a model from a URL. Returns streaming progress updates."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model_url"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"URL to the model GGUF file"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"proj_url"})}),e.jsx("td",{children:e.jsx("code",{children:"string"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"URL to the projection file (for vision/audio models)"})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Streams download progress as Server-Sent Events."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Pull a model from HuggingFace:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/models/pull \\
  -H "Content-Type: application/json" \\
  -d '{
    "model_url": "Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf"
  }'`})})]}),e.jsxs("div",{className:"doc-section",id:"models-delete--models-model",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-delete",children:"DELETE"})," /models/{model}"]}),e.jsx("p",{className:"doc-description",children:"Remove a model from the server."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns empty response on success."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Remove a model:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X DELETE http://localhost:8080/v1/models/qwen3-8b-q8_0"})})]})]}),e.jsxs("div",{className:"card",id:"catalog",children:[e.jsx("h3",{children:"Catalog"}),e.jsx("p",{children:"Browse and pull models from the curated model catalog."}),e.jsxs("div",{className:"doc-section",id:"catalog-get--catalog",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /catalog"]}),e.jsx("p",{className:"doc-description",children:"List all models available in the catalog."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a list of catalog models with id, category, owned_by, model_family, and capabilities."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"List catalog models:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/catalog"})})]}),e.jsxs("div",{className:"doc-section",id:"catalog-get--catalog-filter-filter",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /catalog/filter/{filter}"]}),e.jsx("p",{className:"doc-description",children:"List catalog models filtered by category."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a filtered list of catalog models."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Filter catalog by category:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/catalog/filter/embedding"})})]}),e.jsxs("div",{className:"doc-section",id:"catalog-get--catalog-model",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /catalog/{model}"]}),e.jsx("p",{className:"doc-description",children:"Show detailed information about a catalog model."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns full catalog model details including files, capabilities, and metadata."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Show catalog model details:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X GET http://localhost:8080/v1/catalog/qwen3-8b-q8_0"})})]}),e.jsxs("div",{className:"doc-section",id:"catalog-post--catalog-pull-model",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /catalog/pull/{model}"]}),e.jsx("p",{className:"doc-description",children:"Pull a model from the catalog by ID. Returns streaming progress updates."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Optional when auth is enabled."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Bearer token for authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Streams download progress as Server-Sent Events."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Pull a catalog model:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"curl -X POST http://localhost:8080/v1/catalog/pull/qwen3-8b-q8_0"})})]})]}),e.jsxs("div",{className:"card",id:"security",children:[e.jsx("h3",{children:"Security"}),e.jsx("p",{children:"Manage security tokens and private keys for authentication."}),e.jsxs("div",{className:"doc-section",id:"security-post--security-token-create",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /security/token/create"]}),e.jsx("p",{className:"doc-description",children:"Create a new security token with specified permissions and duration."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Content-Type"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Must be application/json"})]})]})]}),e.jsx("h5",{children:"Request Body"}),e.jsx("p",{children:e.jsx("code",{children:"application/json"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"admin"})}),e.jsx("td",{children:e.jsx("code",{children:"boolean"})}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Whether the token has admin privileges"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"duration"})}),e.jsx("td",{children:e.jsx("code",{children:"duration"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Token validity duration (e.g., '24h', '720h')"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"endpoints"})}),e.jsx("td",{children:e.jsx("code",{children:"object"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Map of endpoint names to rate limit configurations"})]})]})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns the created token string."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Create a token with chat-completions access:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/security/token/create \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "admin": false,
    "duration": "24h",
    "endpoints": {
      "chat-completions": {"limit": 1000, "window": "day"},
      "embeddings": {"limit": 0, "window": ""}
    }
  }'`})})]}),e.jsxs("div",{className:"doc-section",id:"security-get--security-keys",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-get",children:"GET"})," /security/keys"]}),e.jsx("p",{className:"doc-description",children:"List all private keys in the system."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns a list of keys with id and created timestamp."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"List all keys:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X GET http://localhost:8080/v1/security/keys \\
  -H "Authorization: Bearer $KRONK_TOKEN"`})})]}),e.jsxs("div",{className:"doc-section",id:"security-post--security-keys-add",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /security/keys/add"]}),e.jsx("p",{className:"doc-description",children:"Create a new private key and add it to the keystore."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns empty response on success."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Add a new key:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/security/keys/add \\
  -H "Authorization: Bearer $KRONK_TOKEN"`})})]}),e.jsxs("div",{className:"doc-section",id:"security-post--security-keys-remove-keyid",children:[e.jsxs("h4",{children:[e.jsx("span",{className:"method-post",children:"POST"})," /security/keys/remove/{keyid}"]}),e.jsx("p",{className:"doc-description",children:"Remove a private key from the keystore by its ID."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authentication:"})," Required when auth is enabled. Admin token required."]}),e.jsx("h5",{children:"Headers"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Header"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Authorization"})}),e.jsx("td",{children:"Yes"}),e.jsx("td",{children:"Bearer token for admin authentication"})]})})]}),e.jsx("h5",{children:"Response"}),e.jsx("p",{children:"Returns empty response on success."}),e.jsx("h5",{children:"Example"}),e.jsx("p",{className:"example-label",children:e.jsx("strong",{children:"Remove a key:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`curl -X POST http://localhost:8080/v1/security/keys/remove/abc123 \\
  -H "Authorization: Bearer $KRONK_TOKEN"`})})]})]})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#overview",className:"doc-index-header",children:"Overview"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#libs",className:"doc-index-header",children:"Libs"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#libs-get--libs",children:"GET /libs"})}),e.jsx("li",{children:e.jsx("a",{href:"#libs-post--libs-pull",children:"POST /libs/pull"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#models",className:"doc-index-header",children:"Models"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#models-get--models",children:"GET /models"})}),e.jsx("li",{children:e.jsx("a",{href:"#models-get--models-model",children:"GET /models/{model}"})}),e.jsx("li",{children:e.jsx("a",{href:"#models-get--models-ps",children:"GET /models/ps"})}),e.jsx("li",{children:e.jsx("a",{href:"#models-post--models-index",children:"POST /models/index"})}),e.jsx("li",{children:e.jsx("a",{href:"#models-post--models-pull",children:"POST /models/pull"})}),e.jsx("li",{children:e.jsx("a",{href:"#models-delete--models-model",children:"DELETE /models/{model}"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#catalog",className:"doc-index-header",children:"Catalog"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#catalog-get--catalog",children:"GET /catalog"})}),e.jsx("li",{children:e.jsx("a",{href:"#catalog-get--catalog-filter-filter",children:"GET /catalog/filter/{filter}"})}),e.jsx("li",{children:e.jsx("a",{href:"#catalog-get--catalog-model",children:"GET /catalog/{model}"})}),e.jsx("li",{children:e.jsx("a",{href:"#catalog-post--catalog-pull-model",children:"POST /catalog/pull/{model}"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#security",className:"doc-index-header",children:"Security"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#security-post--security-token-create",children:"POST /security/token/create"})}),e.jsx("li",{children:e.jsx("a",{href:"#security-get--security-keys",children:"GET /security/keys"})}),e.jsx("li",{children:e.jsx("a",{href:"#security-post--security-keys-add",children:"POST /security/keys/add"})}),e.jsx("li",{children:e.jsx("a",{href:"#security-post--security-keys-remove-keyid",children:"POST /security/keys/remove/{keyid}"})})]})]})]})})]})]})}function jS(){const[n,t]=_.useState(""),r=Rr();return _.useEffect(()=>{if(r.hash){const s=r.hash.slice(1),l=document.getElementById(s);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth"})},100)}},[r.hash]),_.useEffect(()=>{const s=()=>{const l=document.querySelectorAll(".manual-content h2, .manual-content h3");let i="";l.forEach(o=>{o.getBoundingClientRect().top<=100&&(i=o.id)}),t(i)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Kronk Manual"}),e.jsx("p",{children:"Complete documentation for the Kronk Model Server"})]}),e.jsxs("div",{className:"doc-layout",children:[e.jsxs("div",{className:"doc-content manual-content",children:[e.jsx("h1",{id:"kronk-model-server-user-manual",children:"Kronk Model Server User Manual"}),e.jsx("h2",{id:"table-of-contents",children:"Table of Contents"}),e.jsxs("ol",{children:[e.jsx("li",{children:e.jsx("a",{href:"#chapter-1-introduction",children:"Introduction"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-2-installation--quick-start",children:"Installation & Quick Start"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-3-model-configuration",children:"Model Configuration"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-4-batch-processing",children:"Batch Processing"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-5-message-caching",children:"Message Caching"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-6-yarn-extended-context",children:"YaRN Extended Context"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-7-model-server",children:"Model Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-8-api-endpoints",children:"API Endpoints"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-9-multi-modal-models",children:"Multi-Modal Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-10-security--authentication",children:"Security & Authentication"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-11-browser-ui-bui",children:"Browser UI (BUI)"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-12-client-integration",children:"Client Integration"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-13-observability",children:"Observability"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-14-troubleshooting",children:"Troubleshooting"})}),e.jsx("li",{children:e.jsx("a",{href:"#chapter-15-developer-guide",children:"Developer Guide"})})]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-1:-introduction",children:"Chapter 1: Introduction"}),e.jsx("h3",{id:"11-what-is-kronk-model-server",children:"1.1 What is Kronk Model Server"}),e.jsxs("p",{children:["Kronk Model Server (KMS) is an OpenAI and Anthropic compatible model server for running local inference with open-source GGUF models. Built on top of llama.cpp via the ",e.jsx("a",{href:"https://github.com/hybridgroup/yzma",children:"yzma"})," Go bindings, Kronk provides hardware-accelerated inference for text generation, vision, audio, embeddings, and reranking."]}),e.jsx("p",{children:"The server exposes a REST API that is compatible with:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"OpenAI client libraries"}),e.jsx("li",{children:"OpenWebUI"}),e.jsx("li",{children:"Agents that can be configured to work with local models"}),e.jsx("li",{children:"Any OpenAI-compatible client"})]}),e.jsx("h3",{id:"12-key-features",children:"1.2 Key Features"}),e.jsx("p",{children:e.jsx("strong",{children:"Model Types"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Text Generation"})," - Chat completions and streaming responses with reasoning support"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Vision"})," - Image understanding and analysis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Audio"})," - Speech-to-text and audio understanding"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Embeddings"})," - Vector embeddings for semantic search and RAG"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reranking"})," - Document relevance scoring"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Performance"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Batch Processing"})," - Process multiple requests concurrently with shared KV cache"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Message Caching"})," - System prompt and incremental message caching to reduce redundant computation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"YaRN Context Extension"})," - Extend context windows 2-4x beyond native training length"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Model Pooling"})," - Keep models loaded in memory with configurable TTL"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Operations"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Catalog System"})," - Curated collection of verified models with one-command downloads"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Browser UI (BUI)"})," - Web interface for model management, downloads, and configuration"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication"})," - JWT-based security with key management and endpoint authorization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Observability"})," - Tempo tracing integration and debug endpoints"]})]}),e.jsx("h3",{id:"13-supported-platforms-and-hardware",children:"1.3 Supported Platforms and Hardware"}),e.jsx("p",{children:"Kronk supports full hardware acceleration across major platforms:"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"OS"}),e.jsx("th",{children:"CPU"}),e.jsx("th",{children:"GPU"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Linux"}),e.jsx("td",{children:"amd64, arm64"}),e.jsx("td",{children:"CUDA, Vulkan, HIP, ROCm, SYCL"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"macOS"}),e.jsx("td",{children:"arm64"}),e.jsx("td",{children:"Metal"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Windows"}),e.jsx("td",{children:"amd64"}),e.jsx("td",{children:"CUDA, Vulkan, HIP, SYCL, OpenCL"})]})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Hardware Requirements"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Minimum 8GB RAM for small models (1-3B parameters)"}),e.jsx("li",{children:"16GB+ RAM recommended for medium models (7-8B parameters)"}),e.jsx("li",{children:"32GB+ RAM or dedicated GPU VRAM for large models (30B+ parameters)"}),e.jsx("li",{children:"GPU with Metal, CUDA, or Vulkan support recommended for optimal performance"})]}),e.jsx("h3",{id:"14-architecture-overview",children:"1.4 Architecture Overview"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`
                         Kronk Model Server                         

                     REST API (OpenAI Compatible)                   
        
     Chat     Response    Embed      Rerank      Msgs     
        

               
                                                                   
             
                    Kronk SDK (Model Pool)                        
                                 
         Model A    Model B    Model C   (cached)           
                                 
             

          .                              
                                                                   
             
               yzma (llama.cpp Go Bindings)                       
             

        Hardware Acceleration: Metal  CUDA  Vulkan  CPU          
`})}),e.jsx("p",{children:e.jsx("strong",{children:"Request Flow"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Client sends request to REST API endpoint"}),e.jsx("li",{children:"Server routes to appropriate handler (chat, embed, rerank)"}),e.jsx("li",{children:"Model is acquired from pool (or loaded if not cached)"}),e.jsx("li",{children:"For text models with batch processing enabled, requests queue into batch slots"}),e.jsx("li",{children:"Message caching checks for reusable KV state from previous requests"}),e.jsx("li",{children:"Inference runs with hardware acceleration"}),e.jsx("li",{children:"Response streams back to client (for streaming requests)"}),e.jsx("li",{children:"Model returns to pool for reuse"})]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-2:-installation-quick-start",children:"Chapter 2: Installation & Quick Start"}),e.jsx("h3",{id:"21-prerequisites",children:"2.1 Prerequisites"}),e.jsx("p",{children:e.jsx("strong",{children:"Required"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Go 1.25 or later"}),e.jsx("li",{children:"Internet connection (for downloading libraries and models)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Recommended"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"GPU with Metal (macOS), CUDA (NVIDIA), or Vulkan support"}),e.jsx("li",{children:"16GB+ system RAM (96GB+ Recommended)"})]}),e.jsx("h3",{id:"22-installing-the-cli",children:"2.2 Installing the CLI"}),e.jsx("p",{children:"Install Kronk using Go:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go install github.com/ardanlabs/kronk/cmd/kronk@latest"})}),e.jsx("p",{children:"Verify the installation:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk --help"})}),e.jsx("p",{children:"You should see output listing available commands:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Kronk CLI - A tool for managing Kronk models

Usage:
  kronk [command]

Available Commands:
  catalog     Manage model catalog
  libs        Install or upgrade llama.cpp libraries
  model       Manage models
  run         Run a model directly for quick testing
  security    Manage security keys and tokens
  server      Manage Kronk model server
  help        Help about any command`})}),e.jsx("h3",{id:"23-installing-libraries",children:"2.3 Installing Libraries"}),e.jsx("p",{children:"Before running inference, you need the llama.cpp libraries for your platform. Kronk auto-detects your hardware and downloads the appropriate binaries."}),e.jsx("p",{children:e.jsx("strong",{children:"Option A: Via the Server (Recommended)"})}),e.jsx("p",{children:"Start the server and use the BUI to download libraries:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start"})}),e.jsx("p",{children:"Open http://localhost:8080 in your browser and navigate to the Libraries page."}),e.jsx("p",{children:e.jsx("strong",{children:"Option B: Via CLI"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk libs --local"})}),e.jsxs("p",{children:["This downloads libraries to ",e.jsx("code",{children:"~/.kronk/libraries/"})," using auto-detected settings."]}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variables for Library Installation"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"KRONK_LIB_PATH  - Library directory (default: `~/.kronk/libraries`)\nKRONK_PROCESSOR - `cpu`, `cuda`, `metal`, or `vulkan` (default: `cpu`)\nKRONK_ARCH      - Architecture override: `amd64`, `arm64`\nKRONK_OS        - OS override: `linux`, `darwin`, `windows`"})}),e.jsx("p",{children:e.jsx("strong",{children:"Example: Install CUDA Libraries"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"KRONK_PROCESSOR=cuda kronk libs --local"})}),e.jsx("h3",{id:"24-downloading-your-first-model",children:"2.4 Downloading Your First Model"}),e.jsx("p",{children:"Kronk provides a curated catalog of verified models. List available models:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog list --local"})}),e.jsx("p",{children:"Output:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`CATALOG              MODEL ID                            PULLED   ENDPOINT
Audio-Text-to-Text   Qwen2-Audio-7B.Q8_0                 no       chat_completion
Embedding            embeddinggemma-300m-qat-Q8_0        no       embeddings
Image-Text-to-Text   gemma-3-4b-it-q4_0                  no       chat_completion
Text-Generation      Qwen3-8B-Q8_0                       no       chat_completion
Text-Generation      Llama-3.3-70B-Instruct-Q8_0         no       chat_completion
...`})}),e.jsx("p",{children:"Download a model (recommended starter: Qwen3-8B):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull Qwen3-8B-Q8_0 --local"})}),e.jsxs("p",{children:["Models are stored in ",e.jsx("code",{children:"~/.kronk/models/"})," by default."]}),e.jsx("h3",{id:"25-starting-the-server",children:"2.5 Starting the Server"}),e.jsx("p",{children:"Start the Kronk Model Server:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start"})}),e.jsxs("p",{children:["The server starts on ",e.jsx("code",{children:"http://localhost:8080"})," by default. You'll see output like:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Kronk Model Server started
API: http://localhost:8080
BUI: http://localhost:8080`})}),e.jsx("p",{children:e.jsx("strong",{children:"Running in Background"})}),e.jsx("p",{children:"To run the server as a background process:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start -d"})}),e.jsx("p",{children:e.jsx("strong",{children:"Stopping the Server"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server stop"})}),e.jsx("h3",{id:"26-verifying-the-installation",children:"2.6 Verifying the Installation"}),e.jsx("p",{children:e.jsx("strong",{children:"Test via curl"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/models"})}),e.jsx("p",{children:"You should see a list of available models."}),e.jsx("p",{children:e.jsx("strong",{children:"Test Chat Completion"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [{"role": "user", "content": "Hello!"}],
    "max_tokens": 100
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Test via BUI"})}),e.jsx("p",{children:"Open http://localhost:8080 in your browser. The Browser UI provides:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Model management and downloads"}),e.jsx("li",{children:"Library installation"}),e.jsx("li",{children:"Server configuration"}),e.jsx("li",{children:"Security key management"})]}),e.jsx("h3",{id:"27-quick-start-summary",children:"2.7 Quick Start Summary"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# 1. Install Kronk
go install github.com/ardanlabs/kronk/cmd/kronk@latest

# 2. Start the server (auto-installs libraries on first run)
kronk server start

# 3. Open BUI and download a model
open http://localhost:8080

# 4. Or download via CLI
kronk catalog pull Qwen3-8B-Q8_0 --local

# 5. Test the API
curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{"model": "Qwen3-8B-Q8_0", "messages": [{"role": "user", "content": "Hello!"}]}'`})}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-3:-model-configuration",children:"Chapter 3: Model Configuration"}),e.jsx("p",{children:"Model configuration controls how Kronk loads and runs inference. Configuration"}),e.jsx("p",{children:"can be set via model config files, catalog templates, or programmatically"}),e.jsx("p",{children:"through the SDK."}),e.jsx("h3",{id:"31-basic-configuration",children:"3.1 Basic Configuration"}),e.jsx("p",{children:e.jsx("strong",{children:"Context Window"})}),e.jsx("p",{children:"The context window defines the maximum number of tokens the model can process"}),e.jsx("p",{children:"in a single request. This includes both the input prompt and generated output."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"context_window: 8192 # Default: 8192 tokens"})}),e.jsx("p",{children:"Larger context windows require more VRAM. A rough estimate:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"8K context"}),": ~2GB additional VRAM"]}),e.jsxs("li",{children:[e.jsx("code",{children:"32K context"}),": ~8GB additional VRAM"]}),e.jsxs("li",{children:[e.jsx("code",{children:"128K context"}),": ~32GB additional VRAM (requires YaRN scaling)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Batch Size Configuration"})}),e.jsx("p",{children:"Two parameters control how tokens are processed:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"n_batch"})," - Maximum tokens in a single forward pass (default: 2048)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"n_ubatch"})," - Physical batch size for prompt processing (default: 512)"]})]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`n_batch: 2048 # Logical batch size
n_ubatch: 512 # Physical batch size (must be  n_batch)`})}),e.jsx("p",{children:e.jsx("strong",{children:"Recommended settings by workload:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Interactive chat (single user): ",e.jsx("code",{children:"n_batch=512-1024"}),", ",e.jsx("code",{children:"n_ubatch=512"})]}),e.jsxs("li",{children:["Long prompts/RAG: ",e.jsx("code",{children:"n_batch=2048-4096"}),", ",e.jsx("code",{children:"n_ubatch=512-1024"})]}),e.jsxs("li",{children:["Batch inference (multiple prompts): ",e.jsx("code",{children:"n_batch=2048-4096"}),", ",e.jsx("code",{children:"n_ubatch=512"})]}),e.jsxs("li",{children:["Low VRAM (<8GB): ",e.jsx("code",{children:"n_batch=512"}),", ",e.jsx("code",{children:"n_ubatch=256-512"})]}),e.jsxs("li",{children:["High VRAM (24GB+): ",e.jsx("code",{children:"n_batch=4096+"}),", ",e.jsx("code",{children:"n_ubatch=1024+"})]})]}),e.jsx("h3",{id:"32-sampling-parameters",children:"3.2 Sampling Parameters"}),e.jsx("p",{children:"Sampling parameters control the randomness and quality of generated text."}),e.jsx("p",{children:"These are set per-request in the API call."}),e.jsx("p",{children:e.jsx("strong",{children:"Temperature"})}),e.jsx("p",{children:"Controls randomness. Lower values produce more deterministic output."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "temperature": 0.8
}`})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"0.0-0.3"})," - Focused, deterministic (good for code, factual Q&A)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"0.5-0.8"})," - Balanced (good for general chat)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"0.9-1.2"})," - Creative (good for storytelling, brainstorming)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Top-K and Top-P"})}),e.jsx("p",{children:"Limit the token selection pool:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "top_k": 40,
  "top_p": 0.9
}`})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"top_k"})," - Consider only the K most probable tokens (default: 40)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"top_p"})," - Consider tokens until cumulative probability reaches P (default: 0.9)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Repetition Control"})}),e.jsx("p",{children:"Reduce repetitive output:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "repeat_penalty": 1.1,
  "repeat_last_n": 64
}`})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"repeat_penalty"})," - Penalty for repeated tokens (1.0 = off, 1.1 = mild)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"repeat_last_n"})," - How many recent tokens to check (default: 64)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"DRY Sampler (Don't Repeat Yourself)"})}),e.jsx("p",{children:"Advanced n-gram repetition penalty:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "dry_multiplier": 1.05,
  "dry_base": 1.75,
  "dry_allowed_length": 2
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Max Tokens"})}),e.jsx("p",{children:"Limit the response length:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "max_tokens": 2048
}`})}),e.jsx("h3",{id:"33-gpu-configuration",children:"3.3 GPU Configuration"}),e.jsx("p",{children:e.jsx("strong",{children:"Layer Offloading"})}),e.jsx("p",{children:"Control how many model layers run on GPU:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`n_gpu_layers: 0      # 0 = all layers on GPU (default)
n_gpu_layers: -1     # All layers on CPU
n_gpu_layers: 20     # First 20 layers on GPU`})}),e.jsx("p",{children:e.jsx("strong",{children:"KV Cache Location"})}),e.jsx("p",{children:"The KV cache stores attention state and can consume significant VRAM:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`offload_kqv: true    # KV cache on GPU (default, faster)
offload_kqv: false   # KV cache on CPU (saves VRAM, slower)`})}),e.jsx("p",{children:e.jsx("strong",{children:"Tensor Operations Offload"})}),e.jsx("p",{children:"Control where tensor computations run:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`op_offload: true     # Tensor ops on GPU (default)
op_offload: false    # Tensor ops on CPU`})}),e.jsxs("p",{children:["Use ",e.jsx("code",{children:"op_offload: false"})," when you need to run the model on CPU but want to"]}),e.jsx("p",{children:"keep some layers on GPU for memory."}),e.jsx("p",{children:e.jsx("strong",{children:"Multi-GPU Split Mode"})}),e.jsx("p",{children:"For systems with multiple GPUs:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`split_mode: none     # Single GPU (default)
split_mode: layer    # Split layers across GPUs
split_mode: row      # Tensor parallelism (best for MoE models)`})}),e.jsxs("p",{children:["Use ",e.jsx("code",{children:"row"})," for Mixture of Experts models like Qwen3-MoE, Mixtral, or DeepSeek."]}),e.jsx("p",{children:e.jsx("strong",{children:"Configuration Reference"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field"}),e.jsx("th",{children:"YAML Key"}),e.jsx("th",{children:"Values"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"NGpuLayers"}),e.jsx("td",{children:e.jsx("code",{children:"n_gpu_layers"})}),e.jsx("td",{children:"0, -1, N"}),e.jsx("td",{children:"0"}),e.jsx("td",{children:"Layers on GPU (0=all, -1=none)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"OffloadKQV"}),e.jsx("td",{children:e.jsx("code",{children:"offload_kqv"})}),e.jsx("td",{children:"true/false"}),e.jsx("td",{children:"true"}),e.jsx("td",{children:"KV cache on GPU"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"OpOffload"}),e.jsx("td",{children:e.jsx("code",{children:"op_offload"})}),e.jsx("td",{children:"true/false"}),e.jsx("td",{children:"true"}),e.jsx("td",{children:"Tensor ops on GPU"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"SplitMode"}),e.jsx("td",{children:e.jsx("code",{children:"split_mode"})}),e.jsx("td",{children:"none/layer/row"}),e.jsx("td",{children:"none"}),e.jsx("td",{children:"Multi-GPU distribution"})]})]})]}),e.jsx("h3",{id:"34-kv-cache-quantization",children:"3.4 KV Cache Quantization"}),e.jsx("p",{children:"Reduce VRAM usage by quantizing the KV cache:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`cache_type_k: q8_0 # Key cache precision
cache_type_v: q8_0 # Value cache precision`})}),e.jsx("p",{children:e.jsx("strong",{children:"Available types:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"f16"})," - Half precision (default, best quality)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"q8_0"})," - 8-bit quantization (good balance)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"q4_0"})," - 4-bit quantization (aggressive, may affect quality)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"bf16"})," - Brain float 16 (for supported hardware)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"VRAM savings with Q8_0 cache:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"8K context: ~25% reduction"}),e.jsx("li",{children:"32K context: ~25% reduction"}),e.jsx("li",{children:"Larger contexts benefit proportionally"})]}),e.jsx("h3",{id:"35-flash-attention",children:"3.5 Flash Attention"}),e.jsx("p",{children:"Flash Attention optimizes memory usage and speeds up attention computation:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`flash_attention: enabled   # Default: enabled
flash_attention: disabled  # Disable if causing issues
flash_attention: auto      # Let llama.cpp decide`})}),e.jsx("p",{children:"Flash Attention is particularly beneficial for large context windows."}),e.jsx("h3",{id:"36-parallel-inference-nseqmax",children:"3.6 Parallel Inference (NSeqMax)"}),e.jsxs("p",{children:[e.jsx("code",{children:"NSeqMax"})," controls concurrent request handling, but behaves differently based"]}),e.jsx("p",{children:"on model type:"}),e.jsx("p",{children:e.jsx("strong",{children:"Text Models (Chat/Completion)"})}),e.jsxs("p",{children:["For text models, ",e.jsx("code",{children:"NSeqMax"})," controls batch parallelism within a single model:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"n_seq_max: 4 # Process up to 4 requests concurrently"})}),e.jsx("p",{children:"Multiple requests share the model context and KV cache, with each request"}),e.jsx("p",{children:"getting an isolated sequence partition."}),e.jsx("p",{children:e.jsx("strong",{children:"Sequential Models (Embed/Rerank/Vision/Audio)"})}),e.jsxs("p",{children:["For sequential models, ",e.jsx("code",{children:"NSeqMax"})," creates multiple model instances:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"n_seq_max: 2 # Create 2 model instances in pool"})}),e.jsx("p",{children:"Each instance handles one request at a time, but multiple instances allow"}),e.jsx("p",{children:"concurrent processing."}),e.jsx("h3",{id:"37-vram-estimation",children:"3.7 VRAM Estimation"}),e.jsx("p",{children:"Rough VRAM requirements for common configurations:"}),e.jsx("p",{children:e.jsx("strong",{children:"Model Size (Q8_0 quantization)"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"1-3B parameters: 2-4 GB"}),e.jsx("li",{children:"7-8B parameters: 8-10 GB"}),e.jsx("li",{children:"13B parameters: 14-16 GB"}),e.jsx("li",{children:"30B parameters: 32-36 GB"}),e.jsx("li",{children:"70B parameters: 72-80 GB"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Additional VRAM for Context"})}),e.jsx("p",{children:"Per 1K tokens of context (with F16 KV cache):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"7B model: ~50 MB"}),e.jsx("li",{children:"13B model: ~80 MB"}),e.jsx("li",{children:"70B model: ~200 MB"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Example: Qwen3-8B with 32K context"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Model weights (Q8_0):     ~8.5 GB
KV cache (32K, F16):      ~1.6 GB
Overhead:                 ~0.5 GB

Total:                    ~10.6 GB`})}),e.jsx("p",{children:"With Q8_0 KV cache quantization, the KV cache drops to ~0.8 GB."}),e.jsx("h3",{id:"38-model-config-file-example",children:"3.8 Model Config File Example"}),e.jsx("p",{children:"Create a YAML config file for custom model settings:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`# model-config.yaml
models:
  Qwen3-8B-Q8_0:
    context_window: 32768
    n_batch: 2048
    n_ubatch: 512
    n_seq_max: 2
    cache_type_k: q8_0
    cache_type_v: q8_0
    flash_attention: enabled
    system_prompt_cache: true

  Llama-3.3-70B-Instruct-Q8_0:
    context_window: 8192
    n_gpu_layers: 0
    split_mode: row
    offload_kqv: true`})}),e.jsx("p",{children:"Start the server with custom config:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --model-config-file=model-config.yaml"})}),e.jsx("h3",{id:"39-model-specific-tuning",children:"3.9 Model-Specific Tuning"}),e.jsx("p",{children:"Different model architectures have specific optimization requirements."}),e.jsx("p",{children:e.jsx("strong",{children:"Vision and Audio Models"})}),e.jsxs("p",{children:["Keep ",e.jsx("code",{children:"n_ubatch"})," high for efficient media token processing:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen2.5-VL-3B-Instruct-Q8_0:
    n_batch: 2048
    n_ubatch: 2048 # High for image/audio token batches
    n_seq_max: 2 # Creates 2 model instances in pool`})}),e.jsxs("p",{children:["Vision models process image tiles as large token batches. Low ",e.jsx("code",{children:"n_ubatch"})]}),e.jsx("p",{children:"values cause multiple decode passes per image, significantly slowing"}),e.jsx("p",{children:"inference."}),e.jsx("p",{children:e.jsx("strong",{children:"Mixture of Experts (MoE) Models"})}),e.jsx("p",{children:"Use row-based tensor parallelism for multi-GPU setups:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-MoE-30B-A3B-Q8_0:
    split_mode: row # Best for MoE architecture
    cache_type_k: q8_0 # Be cautious with aggressive quantization
    cache_type_v: q8_0`})}),e.jsx("p",{children:"MoE models can be sensitive to aggressive KV cache quantization. If you"}),e.jsxs("p",{children:["notice quality degradation, try ",e.jsx("code",{children:"f16"})," cache types."]}),e.jsx("p",{children:e.jsx("strong",{children:"Embedding Models"})}),e.jsx("p",{children:"Optimize batch size for your typical input lengths:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  embeddinggemma-300m-qat-Q8_0:
    n_batch: 8192 # Can equal context_window
    n_ubatch: 512 # Align with typical sliding window
    n_seq_max: 4 # 4 model instances for concurrency`})}),e.jsx("p",{children:"Embedding models process complete inputs in a single pass, so larger"}),e.jsxs("p",{children:[e.jsx("code",{children:"n_batch"})," values improve throughput."]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-4:-batch-processing",children:"Chapter 4: Batch Processing"}),e.jsx("p",{children:"Batch processing allows Kronk to handle multiple concurrent requests"}),e.jsx("p",{children:"efficiently by sharing model resources. This chapter explains the architecture"}),e.jsx("p",{children:"and how to optimize for your workload."}),e.jsx("h3",{id:"41-architecture-overview",children:"4.1 Architecture Overview"}),e.jsxs("p",{children:["When ",e.jsx("code",{children:"NSeqMax > 1"})," for text models, Kronk creates a batch engine that"]}),e.jsx("p",{children:"processes multiple requests in parallel within a single model instance."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`                    
   Request 1                                    
                              Request Queue            
   Request 2       (capacity: NSeqMax  2)      
                                                       
   Request 3                                    
                    
                                     
                                     
                    
                               Batch Engine            
                                                       
                                 
                       Slot 0     Slot 1    ...    
                       seqID=0    seqID=1          
                                
                                                    
                               
                                                      
                              Shared KV Cache          
                        
                       seq 0  seq 1  seq 2  ...   
                        
                    
                                      
                                      
                    
                            llama.cpp Backend          
                             (GPU/CPU Inference)       
                    `})}),e.jsx("h3",{id:"42-slots-and-sequences",children:"4.2 Slots and Sequences"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Slots"})," are processing units that handle individual requests. Each slot"]}),e.jsx("p",{children:"tracks its state: prompt tokens, decode position, sampler, and response"}),e.jsx("p",{children:"channel."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sequences"})," are isolated partitions in the shared KV cache. Each slot is"]}),e.jsx("p",{children:"assigned a unique sequence ID, ensuring requests don't interfere with each"}),e.jsx("p",{children:"other's attention state."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`NSeqMax = 4 (without caching)

Slot 0    seqID = 0    KV cache partition 0
Slot 1    seqID = 1    KV cache partition 1
Slot 2    seqID = 2    KV cache partition 2
Slot 3    seqID = 3    KV cache partition 3`})}),e.jsx("p",{children:"When caching is enabled, sequence 0 is reserved for cached content:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`NSeqMax = 2 (with System Prompt Cache)

Cache     seqID = 0    Cached system prompt KV state
Slot 0    seqID = 1    KV cache partition 1
Slot 1    seqID = 2    KV cache partition 2`})}),e.jsx("h3",{id:"43-request-flow",children:"4.3 Request Flow"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Queue"}),": Request enters the queue (backpressure if full)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Assign"}),": Available slot picks up the request"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Clear"}),": Slot clears its sequence partition"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cache Check"}),": If caching enabled, copy cached KV state to slot's sequence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prefill"}),": Tokenize and process prompt tokens"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Decode"}),": Generate tokens one at a time, streaming to client"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Complete"}),": Clear sequence, slot becomes available"]})]}),e.jsx("h3",{id:"44-configuring-batch-processing",children:"4.4 Configuring Batch Processing"}),e.jsx("p",{children:e.jsx("strong",{children:"Enable Batch Processing"})}),e.jsxs("p",{children:["Set ",e.jsx("code",{children:"NSeqMax > 1"})," in your model config:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    n_seq_max: 4 # 4 concurrent requests`})}),e.jsx("p",{children:e.jsx("strong",{children:"Queue Depth"})}),e.jsxs("p",{children:["The request queue holds ",e.jsx("code",{children:"NSeqMax  2"})," requests. With ",e.jsx("code",{children:"NSeqMax=4"}),", up to 8"]}),e.jsx("p",{children:"requests can queue while 4 are actively processing."}),e.jsx("p",{children:e.jsx("strong",{children:"Memory Considerations"})}),e.jsx("p",{children:"Each slot needs its own KV cache partition. With 4 slots and 8K context:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`KV cache per slot:  ~200 MB (for 8B model with F16)
Total KV cache:     ~800 MB (4 slots  200 MB)`})}),e.jsx("p",{children:e.jsx("strong",{children:"Caching Memory Overhead"})}),e.jsx("p",{children:"When message caching is enabled, additional sequences are reserved:"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SPC"}),e.jsx("th",{children:"IMC"}),e.jsx("th",{children:"MaxCacheSessions"}),e.jsx("th",{children:"Reserved Seqs"}),e.jsx("th",{children:"Slot Start"}),e.jsx("th",{children:"Memory Overhead"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"off"}),e.jsx("td",{children:"off"}),e.jsx("td",{children:"-"}),e.jsx("td",{children:"0"}),e.jsx("td",{children:"seq 0"}),e.jsx("td",{children:"none"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"on"}),e.jsx("td",{children:"off"}),e.jsx("td",{children:"1"}),e.jsx("td",{children:"1"}),e.jsx("td",{children:"seq 1"}),e.jsx("td",{children:"+1 context window"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"on"}),e.jsx("td",{children:"off"}),e.jsx("td",{children:"4"}),e.jsx("td",{children:"4"}),e.jsx("td",{children:"seq 4"}),e.jsx("td",{children:"+4 context windows"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"off"}),e.jsx("td",{children:"on"}),e.jsx("td",{children:"1"}),e.jsx("td",{children:"1"}),e.jsx("td",{children:"seq 1"}),e.jsx("td",{children:"+1 context window"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"off"}),e.jsx("td",{children:"on"}),e.jsx("td",{children:"4"}),e.jsx("td",{children:"4"}),e.jsx("td",{children:"seq 4"}),e.jsx("td",{children:"+4 context windows"})]})]})]}),e.jsxs("p",{children:["Example with ",e.jsx("code",{children:"max-cache-sessions=3"})," and ",e.jsx("code",{children:"n_seq_max=2"}),":"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`seq 0: user-1 cache (IMC)
seq 1: user-2 cache (IMC)
seq 2: user-3 cache (IMC)
seq 3: slot[0] inference
seq 4: slot[1] inference`})}),e.jsx("p",{children:"Each cache sequence requires one full context window of KV memory."}),e.jsx("h3",{id:"45-batch-vs-sequential-models",children:"4.5 Batch vs Sequential Models"}),e.jsxs("p",{children:["The batch engine is only used for ",e.jsx("strong",{children:"text-only"})," requests. Other model types"]}),e.jsx("p",{children:"use sequential processing with model pooling:"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Model Type"}),e.jsx("th",{children:"NSeqMax Behavior"}),e.jsx("th",{children:"Concurrency Method"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Text (chat, completion)"}),e.jsx("td",{children:"Batch parallelism"}),e.jsx("td",{children:"Shared model, multiple slots"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Embedding"}),e.jsx("td",{children:"Model pool"}),e.jsx("td",{children:"Multiple model instances"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Reranking"}),e.jsx("td",{children:"Model pool"}),e.jsx("td",{children:"Multiple model instances"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Vision"}),e.jsx("td",{children:"Model pool"}),e.jsx("td",{children:"Multiple model instances"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Audio"}),e.jsx("td",{children:"Model pool"}),e.jsx("td",{children:"Multiple model instances"})]})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Why Vision/Audio Can't Batch"})}),e.jsx("p",{children:"Media models require exclusive model context for processing image/audio"}),e.jsx("p",{children:"tokens through a separate projector pipeline. Each request needs its own"}),e.jsx("p",{children:"context for media embedding."}),e.jsx("h3",{id:"46-performance-tuning",children:"4.6 Performance Tuning"}),e.jsx("p",{children:e.jsx("strong",{children:"Throughput vs Latency"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Higher ",e.jsx("code",{children:"NSeqMax"}),": Better throughput, potentially higher per-request latency"]}),e.jsxs("li",{children:["Lower ",e.jsx("code",{children:"NSeqMax"}),": Lower latency, less concurrent capacity"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Recommended Settings"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Single user, interactive: ",e.jsx("code",{children:"n_seq_max: 1-2"})]}),e.jsxs("li",{children:["Multi-user API server: ",e.jsx("code",{children:"n_seq_max: 4-8"})]}),e.jsxs("li",{children:["High-throughput batch jobs: ",e.jsx("code",{children:"n_seq_max: 8-16"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Monitoring"})}),e.jsx("p",{children:"Watch for queue backpressure. If requests consistently queue, consider:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Increasing ",e.jsx("code",{children:"NSeqMax"})," (if VRAM allows)"]}),e.jsxs("li",{children:["Reducing ",e.jsx("code",{children:"context_window"})," to fit more slots"]}),e.jsxs("li",{children:["Using KV cache quantization (",e.jsx("code",{children:"cache_type_k/v: q8_0"}),")"]})]}),e.jsx("h3",{id:"47-example-configuration",children:"4.7 Example Configuration"}),e.jsx("p",{children:"High-throughput server configuration:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 8192
    n_seq_max: 8
    n_batch: 2048
    n_ubatch: 512
    cache_type_k: q8_0
    cache_type_v: q8_0
    system_prompt_cache: true`})}),e.jsx("p",{children:"This configuration:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Handles 8 concurrent requests"}),e.jsx("li",{children:"Uses quantized KV cache to reduce memory"}),e.jsx("li",{children:"Caches system prompt for faster prefill"})]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-5:-message-caching",children:"Chapter 5: Message Caching"}),e.jsx("p",{children:"Message caching reduces redundant computation by storing and reusing KV cache"}),e.jsx("p",{children:"state from previous requests. Kronk provides two caching modes optimized for"}),e.jsx("p",{children:"different use cases."}),e.jsx("h3",{id:"51-overview",children:"5.1 Overview"}),e.jsx("p",{children:"When processing a chat request, the model must compute attention for every"}),e.jsx("p",{children:"token in the conversation. For long conversations or repeated system prompts,"}),e.jsx("p",{children:"this becomes wastefulthe same tokens are reprocessed on every request."}),e.jsx("p",{children:"Message caching stores the computed KV state and copies it to new requests,"}),e.jsx("p",{children:"skipping the prefill phase for cached tokens."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Without Caching:

 System Prompt  Message 1  Message 2  New Message 
   (prefill)    (prefill)  (prefill)   (prefill)  

                                              
                                         Generate

With Caching:

 System Prompt  Message 1  Message 2  New Message 
   (cached)     (cached)   (cached)    (prefill)  

                                              
                                         Generate`})}),e.jsx("h3",{id:"52-system-prompt-cache-spc",children:"5.2 System Prompt Cache (SPC)"}),e.jsx("p",{children:"System Prompt Cache stores the KV state of the first system message and"}),e.jsx("p",{children:"reuses it across all requests with the same system prompt."}),e.jsx("p",{children:e.jsx("strong",{children:"Best for:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Models with inconsistent templates (GPT-OSS, GLM)"}),e.jsx("li",{children:"OpenWebUI and similar chat interfaces"}),e.jsx("li",{children:"Applications with a consistent system prompt"}),e.jsx("li",{children:"Single-user or shared system prompt scenarios"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Enable SPC:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    system_prompt_cache: true`})}),e.jsx("p",{children:e.jsx("strong",{children:"How It Works:"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"First request: System prompt is processed and cached in sequence 0"}),e.jsx("li",{children:"Subsequent requests: Cached KV state is copied to the slot's sequence"}),e.jsx("li",{children:"Only the new messages need prefill processing"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Cache Invalidation:"})}),e.jsx("p",{children:"The cache is automatically invalidated when:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"The system prompt content changes"}),e.jsx("li",{children:"The system prompt role changes"}),e.jsx("li",{children:"The server restarts"})]}),e.jsx("h3",{id:"53-incremental-message-cache-imc",children:"5.3 Incremental Message Cache (IMC)"}),e.jsx("p",{children:"Incremental Message Cache is designed for agentic workflows where"}),e.jsx("p",{children:"conversations grow monotonically. It caches all messages except the last"}),e.jsx("p",{children:"one and extends the cache incrementally on each turn."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Requires:"})," Models with consistent templates where the same messages always"]}),e.jsx("p",{children:"produce identical templated output regardless of conversation length. Models"}),e.jsx("p",{children:"like QWEN and Llama have consistent templates. Models like GPT-OSS and GLM"}),e.jsx("p",{children:"inject tool calls in ways that change earlier message rendering, making them"}),e.jsx("p",{children:"incompatible with IMC (use SPC instead)."}),e.jsx("p",{children:e.jsx("strong",{children:"Best for:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Models with consistent templates (QWEN, Llama)"}),e.jsx("li",{children:"AI coding agents (Cline, OpenCode, Aider)"}),e.jsx("li",{children:"Long-running agent conversations"}),e.jsx("li",{children:"Any workflow where messages are appended, not edited"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Enable IMC:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    incremental_cache: true
    max_cache_sessions: 4 # Support 4 concurrent users
    cache_min_tokens: 100 # Minimum tokens before caching`})}),e.jsx("p",{children:e.jsx("strong",{children:"How It Works:"})}),e.jsx("p",{children:"First request (2 messages: system + user):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Messages: [system, user]
Cache:    [system]            Cache all except last
Prefill:  [user + gen_prompt]`})}),e.jsx("p",{children:"Second request (4 messages):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Messages: [system, user, assistant, user2]
Cache:    [system, user, assistant]   Extend cache
Prefill:  [user2 + gen_prompt]`})}),e.jsx("p",{children:"Third request (6 messages):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Messages: [system, user, assistant, user2, assistant2, user3]
Cache:    [system, user, assistant, user2, assistant2]   Extend
Prefill:  [user3 + gen_prompt]`})}),e.jsx("h3",{id:"54-multi-user-caching",children:"5.4 Multi-User Caching"}),e.jsx("p",{children:"Both SPC and IMC support multiple concurrent users, each with their own cache sequence."}),e.jsxs("p",{children:["Users are identified by the ",e.jsx("code",{children:"cache_id"})," parameter in requests."]}),e.jsx("p",{children:e.jsx("strong",{children:"Configuration:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    # For SPC or IMC - both use cache_id for multi-user support
    system_prompt_cache: true # OR incremental_cache: true
    max_cache_sessions: 4 # 4 concurrent user caches`})}),e.jsx("p",{children:e.jsx("strong",{children:"Passing Cache ID:"})}),e.jsx("p",{children:"Via HTTP header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "KRONK_CACHE_ID: user-123" \\
  -d '{"model": "Qwen3-8B-Q8_0", "messages": [...]}'`})}),e.jsx("p",{children:"Or in the request body:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen3-8B-Q8_0",
  "cache_id": "user-123",
  "messages": [...]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Sequence Allocation:"})}),e.jsxs("p",{children:["With ",e.jsx("code",{children:"max_cache_sessions=3"})," and ",e.jsx("code",{children:"n_seq_max=2"}),":"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`seq 0: user-1 cache
seq 1: user-2 cache
seq 2: user-3 cache
seq 3: slot[0] inference
seq 4: slot[1] inference`})}),e.jsx("p",{children:"If all cache slots are in use, new sessions bypass IMC gracefully."}),e.jsx("h3",{id:"55-spc-vs-imc",children:"5.5 SPC vs IMC"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Feature"}),e.jsx("th",{children:"System Prompt Cache"}),e.jsx("th",{children:"Incremental Message Cache"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Caches"}),e.jsx("td",{children:"System prompt only"}),e.jsx("td",{children:"All messages except last"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Extends"}),e.jsx("td",{children:"No"}),e.jsx("td",{children:"Yes, incrementally"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Multi-user"}),e.jsx("td",{children:"Per-user cache (dedicated sequences)"}),e.jsx("td",{children:"Per-user cache (dedicated sequences)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Best for"}),e.jsx("td",{children:"Chat UIs, inconsistent templates"}),e.jsx("td",{children:"Agentic workflows, consistent templates"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Memory"}),e.jsx("td",{children:"N extra sequences (max_cache_sessions)"}),e.jsx("td",{children:"N extra sequences (max_cache_sessions)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Template req"}),e.jsx("td",{children:"Any"}),e.jsx("td",{children:"Consistent templates only"})]})]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Important:"})," SPC and IMC are mutually exclusive. Choose based on your"]}),e.jsx("p",{children:"model's template behavior:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Consistent templates (QWEN, Llama):"})," Use IMC for maximum cache efficiency"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inconsistent templates (GPT-OSS, GLM):"})," Use SPC only"]})]}),e.jsx("h3",{id:"56-cache-invalidation",children:"5.6 Cache Invalidation"}),e.jsx("p",{children:e.jsx("strong",{children:"SPC Invalidation:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"System prompt content changes  cache rebuilt"}),e.jsx("li",{children:"System prompt hash mismatch  cache rebuilt"})]}),e.jsx("p",{children:e.jsx("strong",{children:"IMC Invalidation:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Message prefix hash mismatch  cache rebuilt from scratch"}),e.jsx("li",{children:"User starts new conversation  new cache created"}),e.jsx("li",{children:"Earlier message edited  cache rebuilt"}),e.jsxs("li",{children:[e.jsx("code",{children:"cache_id"}),' not provided  falls back to "default" ID (problematic for multi-user)']})]}),e.jsx("p",{children:e.jsx("strong",{children:"Automatic Invalidation:"})}),e.jsx("p",{children:"Caches are cleared when:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Model is unloaded"}),e.jsx("li",{children:"Server restarts"})]}),e.jsx("h3",{id:"57-configuration-reference",children:"5.7 Configuration Reference"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    # System Prompt Cache
    system_prompt_cache: true

    # OR Incremental Message Cache (mutually exclusive)
    incremental_cache: true
    max_cache_sessions: 4

    # Shared settings
    cache_min_tokens: 100 # Don't cache if < 100 tokens`})}),e.jsx("p",{children:e.jsx("strong",{children:"cache_min_tokens"})}),e.jsx("p",{children:"Minimum token count before caching activates. Short prompts don't benefit"}),e.jsx("p",{children:"from caching because copy overhead exceeds prefill savings."}),e.jsx("p",{children:"Default: 100 tokens"}),e.jsx("h3",{id:"58-context-window-auto-scaling-imc-only",children:"5.8 Context Window Auto-Scaling (IMC Only)"}),e.jsx("p",{children:"When IMC is enabled, Kronk automatically scales the internal context window"}),e.jsx("p",{children:"to ensure each slot gets the full configured context size. This auto-scaling"}),e.jsx("p",{children:"does not apply to SPC since it only caches the system prompt (typically small)."}),e.jsx("p",{children:e.jsx("strong",{children:"Why This Is Needed:"})}),e.jsx("p",{children:"IMC caches the full conversation history. The KV cache is shared across all"}),e.jsx("p",{children:"sequences, so without auto-scaling, IMC would reduce the effective context"}),e.jsx("p",{children:"per slot:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Without auto-scaling (broken):
  context-window: 128k
  IMC with 1 session  2 sequences  64k effective per slot 

With auto-scaling (Kronk's behavior):
  context-window: 128k
  IMC with 1 session  internal NCtx = 256k  128k effective per slot `})}),e.jsx("p",{children:e.jsx("strong",{children:"Formula:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"Internal NCtx = context-window  (nseq-max + max-cache-sessions)"})}),e.jsx("p",{children:e.jsx("strong",{children:"Example:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`Qwen3-8B-Q8_0/IMC:
  context-window: 32768 # User wants 32k per slot
  nseq-max: 1
  incremental-cache: true
  max-cache-sessions: 2

# Internal calculation:
# total_seqs = 1 (nseq-max) + 2 (cache sessions) = 3
# Internal NCtx = 32768  3 = 98304
# Each slot gets full 32k context `})}),e.jsx("p",{children:e.jsx("strong",{children:"VRAM Impact:"})}),e.jsx("p",{children:"Auto-scaling increases KV cache memory proportionally. Plan VRAM accordingly:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`32k context, IMC with 2 sessions, F16 cache:
  Internal NCtx = 32k  3 = 96k
  KV cache = ~2.4 GB (instead of 800 MB without caching)`})}),e.jsx("h3",{id:"59-performance-and-limitations",children:"5.9 Performance and Limitations"}),e.jsx("p",{children:e.jsx("strong",{children:"Prefill Time Savings:"})}),e.jsx("p",{children:"For a 2000-token cached prefix:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Without cache: ~200ms prefill (varies by hardware)"}),e.jsx("li",{children:"With cache: ~5ms copy + ~20ms for new tokens"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Memory Overhead:"})}),e.jsx("p",{children:"Each cache sequence requires one context window worth of KV cache memory:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`8K context, F16 cache:    ~200 MB per cache sequence
8K context, Q8_0 cache:   ~100 MB per cache sequence
32K context, F16 cache:   ~800 MB per cache sequence`})}),e.jsx("p",{children:e.jsx("strong",{children:"IMC Limitations:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Text-only requests (vision/audio models use sequential path)"}),e.jsx("li",{children:"Requires deterministic Jinja templates (no timestamps or random values)"}),e.jsx("li",{children:"Conversations must grow monotonically (append-only)"}),e.jsx("li",{children:"Editing earlier messages triggers full cache rebuild"}),e.jsxs("li",{children:["When all ",e.jsx("code",{children:"max_cache_sessions"})," slots are in use, new sessions bypass IMC"]})]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-6:-yarn-extended-context",children:"Chapter 6: YaRN Extended Context"}),e.jsx("p",{children:"YaRN (Yet another RoPE extensioN) allows models to handle context windows"}),e.jsx("p",{children:"beyond their native training length. This is essential for long documents,"}),e.jsx("p",{children:"extended conversations, and complex agentic workflows."}),e.jsx("h3",{id:"61-understanding-context-extension",children:"6.1 Understanding Context Extension"}),e.jsx("p",{children:"Language models are trained with a fixed context length (e.g., 8K, 32K tokens)."}),e.jsx("p",{children:"RoPE (Rotary Position Embedding) encodes position information, but naive"}),e.jsx("p",{children:"extension beyond training length causes quality degradation."}),e.jsx("p",{children:"YaRN applies frequency-dependent interpolation with attention scaling to"}),e.jsx("p",{children:"maintain quality at extended lengths."}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Native Context:     32K tokens (training length)
Extended Context:   131K tokens (4x extension with YaRN)`})}),e.jsx("h3",{id:"62-when-to-use-yarn",children:"6.2 When to Use YaRN"}),e.jsx("p",{children:e.jsx("strong",{children:"Good candidates for YaRN:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Qwen3 models (trained at 32K, support 131K with YaRN)"}),e.jsx("li",{children:"Llama models with RoPE scaling support"}),e.jsx("li",{children:"Any model where you need 2-4x the native context"})]}),e.jsx("p",{children:e.jsx("strong",{children:"When NOT to use YaRN:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"If native context is sufficient for your use case"}),e.jsx("li",{children:"Extensions beyond 4x (quality degrades significantly)"}),e.jsx("li",{children:"Models without RoPE (older architectures)"})]}),e.jsx("h3",{id:"63-configuration",children:"6.3 Configuration"}),e.jsx("p",{children:e.jsx("strong",{children:"Basic YaRN Setup:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 131072 # Extended context (131K)
    rope_scaling: yarn # Enable YaRN`})}),e.jsx("p",{children:"That's often all you needKronk auto-calculates the other YaRN parameters"}),e.jsx("p",{children:"from the context extension ratio."}),e.jsx("p",{children:e.jsx("strong",{children:"Full Configuration (Advanced):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 131072
    rope_scaling: yarn
    rope_freq_base: 1000000 # Model-specific (Qwen3 uses 1M)
    rope_freq_scale: null # Auto-calculate
    yarn_ext_factor: null # Auto-calculate
    yarn_attn_factor: 1.0 # Attention scaling
    yarn_beta_fast: 32.0 # Low correction dimension
    yarn_beta_slow: 1.0 # High correction dimension
    yarn_orig_ctx: 32768 # Original training context`})}),e.jsx("h3",{id:"64-scaling-types",children:"6.4 Scaling Types"}),e.jsx("p",{children:"Kronk supports three RoPE scaling methods:"}),e.jsx("p",{children:e.jsx("strong",{children:"None (Default)"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"rope_scaling: none"})}),e.jsx("p",{children:"Uses native context length. No scaling applied."}),e.jsx("p",{children:e.jsx("strong",{children:"Linear"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"rope_scaling: linear"})}),e.jsx("p",{children:"Simple linear interpolation. Works but quality degrades faster than YaRN"}),e.jsx("p",{children:"at high extension ratios."}),e.jsx("p",{children:e.jsx("strong",{children:"YaRN (Recommended)"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"rope_scaling: yarn"})}),e.jsx("p",{children:"Frequency-dependent interpolation with attention scaling. Maintains quality"}),e.jsx("p",{children:"better at 2-4x extensions."}),e.jsx("h3",{id:"65-parameter-reference",children:"6.5 Parameter Reference"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Parameter"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rope_scaling"})}),e.jsx("td",{children:"none"}),e.jsxs("td",{children:["Scaling method: ",e.jsx("code",{children:"none"}),", ",e.jsx("code",{children:"linear"}),", ",e.jsx("code",{children:"yarn"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rope_freq_base"})}),e.jsx("td",{children:"model default"}),e.jsx("td",{children:"Base frequency (10000 for Llama, 1000000 for Qwen3)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rope_freq_scale"})}),e.jsx("td",{children:"auto"}),e.jsx("td",{children:"Frequency scaling factor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"yarn_ext_factor"})}),e.jsx("td",{children:"auto"}),e.jsx("td",{children:"Extrapolation mix factor (0 = disable)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"yarn_attn_factor"})}),e.jsx("td",{children:"1.0"}),e.jsx("td",{children:"Attention magnitude scaling"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"yarn_beta_fast"})}),e.jsx("td",{children:"32.0"}),e.jsx("td",{children:"Low correction dimension"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"yarn_beta_slow"})}),e.jsx("td",{children:"1.0"}),e.jsx("td",{children:"High correction dimension"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"yarn_orig_ctx"})}),e.jsx("td",{children:"model metadata"}),e.jsx("td",{children:"Original training context size"})]})]})]}),e.jsx("h3",{id:"66-model-specific-examples",children:"6.6 Model-Specific Examples"}),e.jsx("p",{children:e.jsx("strong",{children:"Qwen3 (32K  131K)"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 131072
    rope_scaling: yarn`})}),e.jsx("p",{children:"Qwen3 models are specifically designed to support 131K context with YaRN."}),e.jsx("p",{children:"The default parameters work well."}),e.jsx("p",{children:e.jsx("strong",{children:"Llama 3 (8K  32K)"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Llama-3-8B-Q8_0:
    context_window: 32768
    rope_scaling: yarn
    rope_freq_base: 10000`})}),e.jsx("p",{children:"4x extension from 8K to 32K is within the recommended range."}),e.jsx("h3",{id:"67-memory-impact",children:"6.7 Memory Impact"}),e.jsx("p",{children:"Extended context significantly increases memory requirements:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Qwen3-8B with F16 KV cache:

32K context:   ~1.6 GB KV cache
64K context:   ~3.2 GB KV cache
131K context:  ~6.5 GB KV cache`})}),e.jsx("p",{children:e.jsx("strong",{children:"Mitigation strategies:"})}),e.jsx("ol",{children:e.jsx("li",{children:"Use KV cache quantization:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`cache_type_k: q8_0
cache_type_v: q8_0`})}),e.jsx("ol",{children:e.jsx("li",{children:"Reduce batch parallelism:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"n_seq_max: 1 # Fewer concurrent requests"})}),e.jsx("ol",{children:e.jsx("li",{children:"Keep KV cache on CPU (slower but saves VRAM):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:"offload_kqv: false"})}),e.jsx("h3",{id:"68-quality-considerations",children:"6.8 Quality Considerations"}),e.jsx("p",{children:e.jsx("strong",{children:"Extension ratio guidelines:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"2x extension: Minimal quality loss"}),e.jsx("li",{children:"3x extension: Slight degradation, usually acceptable"}),e.jsx("li",{children:"4x extension: Noticeable but often usable"}),e.jsx("li",{children:"> 4x extension: Not recommended"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Testing your configuration:"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Start with a known-good prompt at native context"}),e.jsx("li",{children:"Extend to your target length"}),e.jsx("li",{children:"Compare output quality"}),e.jsx("li",{children:"Adjust if needed (reduce extension or try different parameters)"})]}),e.jsx("h3",{id:"69-example:-long-document-processing",children:"6.9 Example: Long Document Processing"}),e.jsx("p",{children:"Configuration for processing long documents:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 65536 # 64K context
    rope_scaling: yarn
    n_batch: 4096 # Larger batch for long prompts
    n_ubatch: 1024
    cache_type_k: q8_0
    cache_type_v: q8_0
    n_seq_max: 1 # Single request (memory intensive)`})}),e.jsx("p",{children:"This configuration can process documents up to ~50K tokens while leaving"}),e.jsx("p",{children:"room for generation."}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-7:-model-server",children:"Chapter 7: Model Server"}),e.jsx("p",{children:"The Kronk Model Server provides an OpenAI-compatible REST API for inference."}),e.jsx("p",{children:"This chapter covers server configuration, management, and the catalog system."}),e.jsx("p",{children:e.jsx("strong",{children:"CLI Modes: Web vs Local"})}),e.jsx("p",{children:"Most CLI commands communicate with a running server by default:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk catalog list              # Talks to server at localhost:8080
kronk catalog pull Qwen3-8B-Q8_0  # Downloads via server`})}),e.jsxs("p",{children:["Add ",e.jsx("code",{children:"--local"})," to run commands directly without a server:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk catalog list --local        # Direct file access
kronk catalog pull Qwen3-8B-Q8_0 --local
kronk libs --local`})}),e.jsxs("p",{children:["Use ",e.jsx("code",{children:"--local"})," when:"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"The server isn't running yet"}),e.jsx("li",{children:"You're setting up on the same machine where the server will run"}),e.jsx("li",{children:"You prefer direct file operations"})]}),e.jsx("p",{children:"Use web mode (no flag) when:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"The server is running"}),e.jsx("li",{children:"You want progress streaming in the BUI"}),e.jsxs("li",{children:["You're managing a remote server via ",e.jsx("code",{children:"KRONK_WEB_API_HOST"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variables"})}),e.jsx("p",{children:"Every command-line flag has a corresponding environment variable. The naming"}),e.jsxs("p",{children:["convention is ",e.jsx("code",{children:"KRONK_"})," followed by the flag name in uppercase with hyphens"]}),e.jsx("p",{children:"replaced by underscores:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`--api-host          KRONK_WEB_API_HOST
--models-in-cache   KRONK_MODELS_IN_CACHE
--cache-ttl         KRONK_CACHE_TTL
--processor         KRONK_PROCESSOR
--hf-token          KRONK_HF_TOKEN`})}),e.jsx("p",{children:"Environment variables are useful for:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Configuration in Docker/Kubernetes deployments"}),e.jsx("li",{children:"Setting defaults without repeating flags"}),e.jsx("li",{children:"Keeping secrets out of command history"})]}),e.jsx("h3",{id:"71-starting-the-server",children:"7.1 Starting the Server"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Install the CLI"})," (if not already installed)"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go install github.com/ardanlabs/kronk/cmd/kronk@latest"})}),e.jsx("p",{children:e.jsx("strong",{children:"Basic Start"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start"})}),e.jsxs("p",{children:["The server starts on ",e.jsx("code",{children:"http://localhost:8080"})," by default."]}),e.jsx("p",{children:e.jsx("strong",{children:"Background Mode"})}),e.jsx("p",{children:"Run the server as a background process:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start -d"})}),e.jsx("p",{children:e.jsx("strong",{children:"Custom Host/Port"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --api-host=0.0.0.0:9000"})}),e.jsx("h3",{id:"72-stopping-the-server",children:"7.2 Stopping the Server"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server stop"})}),e.jsx("h3",{id:"73-server-configuration",children:"7.3 Server Configuration"}),e.jsx("p",{children:"Configuration can be set via command-line flags or environment variables."}),e.jsx("p",{children:e.jsx("strong",{children:"Web Settings"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --api-host=localhost:8080 \\
  --debug-host=localhost:8090 \\
  --read-timeout=30s \\
  --write-timeout=15m \\
  --idle-timeout=1m \\
  --shutdown-timeout=1m \\
  --cors-allowed-origins=http://localhost:3000`})}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variables"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Variable"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_API_HOST"})}),e.jsx("td",{children:"API host address (default: localhost:8080)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_DEBUG_HOST"})}),e.jsx("td",{children:"Debug host address"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_READ_TIMEOUT"})}),e.jsx("td",{children:"HTTP read timeout"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"KRONK_WEB_WRITE_TIMEOUT"})}),e.jsx("td",{children:"HTTP write timeout"})]})]})]}),e.jsx("h3",{id:"74-model-caching",children:"7.4 Model Caching"}),e.jsx("p",{children:"The server maintains a pool of loaded models to avoid reload latency."}),e.jsx("p",{children:e.jsx("strong",{children:"Configuration"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --models-in-cache=3 \\
  --cache-ttl=5m`})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"models-in-cache"})," - Maximum models kept loaded (default: 3)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"cache-ttl"})," - How long unused models stay loaded (default: 5m)"]})]}),e.jsx("p",{children:"When a new model is requested and the cache is full, the least recently"}),e.jsx("p",{children:"used model is unloaded."}),e.jsx("h3",{id:"75-model-config-files",children:"7.5 Model Config Files"}),e.jsx("p",{children:"Create a YAML file to configure model-specific settings:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`# model-config.yaml
models:
  Qwen3-8B-Q8_0:
    context_window: 32768
    n_seq_max: 4
    cache_type_k: q8_0
    cache_type_v: q8_0
    system_prompt_cache: true

  Llama-3.3-70B-Instruct-Q8_0:
    context_window: 8192
    n_gpu_layers: 0
    split_mode: row

  embeddinggemma-300m-qat-Q8_0:
    n_seq_max: 2`})}),e.jsx("p",{children:"Start with the config file:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --model-config-file=model-config.yaml"})}),e.jsx("p",{children:"Or via environment variable:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_CATALOG_MODEL_CONFIG_FILE=/path/to/model-config.yaml
kronk server start`})}),e.jsx("p",{children:e.jsx("strong",{children:"Project Reference Configuration"})}),e.jsx("p",{children:"The Kronk repository includes a comprehensive reference configuration with"}),e.jsx("p",{children:"recommended settings for various models and use cases:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_CATALOG_MODEL_CONFIG_FILE=<clone_path>/zarf/kms/model_config.yaml
kronk server start`})}),e.jsx("p",{children:"This file includes:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Optimized configurations for coding agents (Cline, OpenCode)"}),e.jsx("li",{children:"YaRN extended context examples"}),e.jsx("li",{children:"SPC and IMC variants for different caching strategies"}),e.jsx("li",{children:"Vision and audio model settings"}),e.jsx("li",{children:"Detailed comments explaining each configuration option"})]}),e.jsxs("p",{children:["Review ",e.jsx("code",{children:"zarf/kms/model_config.yaml"})," for examples of YAML anchors, cache"]}),e.jsx("p",{children:"configurations, and model-specific tuning."}),e.jsx("h3",{id:"76-catalog-system",children:"7.6 Catalog System"}),e.jsx("p",{children:"The catalog provides a curated list of verified models with preconfigured"}),e.jsx("p",{children:"settings."}),e.jsx("p",{children:e.jsx("strong",{children:"List Available Models"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog list"})}),e.jsx("p",{children:"Output:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`CATALOG              MODEL ID                         PULLED  ENDPOINT
Audio-Text-to-Text   Qwen2-Audio-7B.Q8_0              no      chat_completion
Embedding            embeddinggemma-300m-qat-Q8_0     no      embeddings
Image-Text-to-Text   gemma-3-4b-it-q4_0               no      chat_completion
Text-Generation      Qwen3-8B-Q8_0                    yes     chat_completion
Text-Generation      Llama-3.3-70B-Instruct-Q8_0      no      chat_completion`})}),e.jsx("p",{children:e.jsx("strong",{children:"Filter by Category"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog list --filter-category=Embedding"})}),e.jsx("p",{children:e.jsx("strong",{children:"Pull a Model"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull Qwen3-8B-Q8_0"})}),e.jsx("p",{children:e.jsx("strong",{children:"Show Model Details"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog show Qwen3-8B-Q8_0"})}),e.jsx("p",{children:e.jsx("strong",{children:"Update Catalog"})}),e.jsx("p",{children:"_Note: We don't have a server version of this yet._"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog update --local"})}),e.jsx("h3",{id:"77-custom-catalog-repository",children:"7.7 Custom Catalog Repository"}),e.jsx("p",{children:"Use a custom catalog repository:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --catalog-github-repo=https://github.com/myorg/my-catalog`})}),e.jsx("h3",{id:"78-templates",children:"7.8 Templates"}),e.jsx("p",{children:"Templates define chat formatting (Jinja templates) for different models."}),e.jsx("p",{children:"Kronk downloads templates automatically from the offical templates repository."}),e.jsx("p",{children:"https://github.com/ardanlabs/kronk_catalogs"}),e.jsx("p",{children:"You don't need this unless you want to maintain your own repository."}),e.jsx("p",{children:e.jsx("strong",{children:"Custom Templates Repository"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --templates-github-repo=https://github.com/myorg/my-templates`})}),e.jsxs("p",{children:["Templates are cached in ",e.jsx("code",{children:"~/.kronk/templates/"})," by default."]}),e.jsx("h3",{id:"79-runtime-settings",children:"7.9 Runtime Settings"}),e.jsx("p",{children:e.jsx("strong",{children:"Processor Selection"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start --processor=cuda    # NVIDIA GPU
kronk server start --processor=metal   # Apple Silicon
kronk server start --processor=vulkan  # Cross-platform GPU
kronk server start --processor=cpu     # CPU only`})}),e.jsx("p",{children:e.jsx("strong",{children:"Library Path"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --lib-path=/custom/path/to/libraries \\
  --lib-version=b7406`})}),e.jsx("p",{children:e.jsx("strong",{children:"Hugging Face Token"})}),e.jsx("p",{children:"For gated models requiring authentication:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --hf-token=hf_xxxxx"})}),e.jsx("p",{children:"Or via environment variable:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_HF_TOKEN=hf_xxxxx
kronk server start`})}),e.jsx("h3",{id:"710-logging",children:"7.10 Logging"}),e.jsx("p",{children:e.jsx("strong",{children:"llama.cpp Logging"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start --llama-log=1    # Enable llama.cpp logs
kronk server start --llama-log=0    # Disable (default)`})}),e.jsx("p",{children:e.jsx("strong",{children:"Insecure Logging"})}),e.jsx("p",{children:"Enable logging of message content (for debugging only):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --insecure-logging=true"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Warning:"})," This logs sensitive data. Never use in production."]}),e.jsx("p",{children:e.jsx("strong",{children:"View Server Logs"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server logs"})}),e.jsx("h3",{id:"711-data-paths",children:"7.11 Data Paths"}),e.jsx("p",{children:"Default data locations:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`~/.kronk/
 libraries/     # llama.cpp libraries
 models/        # Downloaded models
 templates/     # Chat templates
 catalog/       # Catalog cache`})}),e.jsx("p",{children:e.jsx("strong",{children:"Custom Base Path"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --base-path=/data/kronk"})}),e.jsx("h3",{id:"712-complete-example",children:"7.12 Complete Example"}),e.jsx("p",{children:"Production-ready server configuration:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --api-host=0.0.0.0:8080 \\
  --models-in-cache=2 \\
  --cache-ttl=10m \\
  --model-config-file=/etc/kronk/models.yaml \\
  --processor=cuda \\
  --auth-enabled=true \\
  -d`})}),e.jsx("p",{children:"With model config:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`# /etc/kronk/models.yaml
models:
  Qwen3-8B-Q8_0:
    context_window: 32768
    n_seq_max: 4
    cache_type_k: q8_0
    cache_type_v: q8_0
    incremental_cache: true
    max_cache_sessions: 8`})}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-8:-api-endpoints",children:"Chapter 8: API Endpoints"}),e.jsx("p",{children:"Kronk provides an OpenAI-compatible REST API. This chapter documents the"}),e.jsx("p",{children:"available endpoints and their usage."}),e.jsx("h3",{id:"81-endpoint-overview",children:"8.1 Endpoint Overview"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Endpoint"}),e.jsx("th",{children:"Method"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/chat/completions"})}),e.jsx("td",{children:"POST"}),e.jsx("td",{children:"Chat completions (streaming/non-streaming)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/responses"})}),e.jsx("td",{children:"POST"}),e.jsx("td",{children:"OpenAI Responses API format"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/messages"})}),e.jsx("td",{children:"POST"}),e.jsx("td",{children:"Anthropic API format"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/embeddings"})}),e.jsx("td",{children:"POST"}),e.jsx("td",{children:"Generate embeddings"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/rerank"})}),e.jsx("td",{children:"POST"}),e.jsx("td",{children:"Rerank documents"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"/v1/models"})}),e.jsx("td",{children:"GET"}),e.jsx("td",{children:"List available models"})]})]})]}),e.jsx("h3",{id:"82-chat-completions",children:"8.2 Chat Completions"}),e.jsx("p",{children:"Generate chat responses using the familiar OpenAI format."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",e.jsx("code",{children:"POST /v1/chat/completions"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Basic Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [
      {"role": "system", "content": "You are a helpful assistant."},
      {"role": "user", "content": "What is the capital of France?"}
    ]
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Request Parameters:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen3-8B-Q8_0",
  "messages": [
    { "role": "system", "content": "System prompt" },
    { "role": "user", "content": "User message" },
    { "role": "assistant", "content": "Previous response" },
    { "role": "user", "content": "Follow-up question" }
  ],
  "temperature": 0.8,
  "top_p": 0.9,
  "top_k": 40,
  "max_tokens": 2048,
  "stream": true
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Streaming Response:"})}),e.jsxs("p",{children:["With ",e.jsx("code",{children:'"stream": true'}),", responses are sent as Server-Sent Events:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`data: {"id":"chatcmpl-xxx","object":"chat.completion.chunk",...}

data: {"id":"chatcmpl-xxx","object":"chat.completion.chunk",...}

data: [DONE]`})}),e.jsx("p",{children:e.jsx("strong",{children:"Non-Streaming Response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "id": "chatcmpl-xxx",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "Qwen3-8B-Q8_0",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "The capital of France is Paris."
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 25,
    "completion_tokens": 8,
    "total_tokens": 33
  }
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Reasoning Models:"})}),e.jsx("p",{children:"For models with thinking/reasoning support (like Qwen3):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen3-8B-Q8_0",
  "messages": [...],
  "enable_thinking": true
}`})}),e.jsxs("p",{children:["The response includes ",e.jsx("code",{children:"reasoning_content"})," in the message."]}),e.jsx("p",{children:"To disable thinking:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "enable_thinking": false
}`})}),e.jsx("h3",{id:"83-responses-api",children:"8.3 Responses API"}),e.jsx("p",{children:"OpenAI's newer Responses API format, used by some clients."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",e.jsx("code",{children:"POST /v1/responses"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/responses \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "input": "Explain quantum computing in simple terms."
  }'`})}),e.jsxs("p",{children:["The ",e.jsx("code",{children:"input"})," field can be a string or an array of message objects."]}),e.jsx("p",{children:e.jsx("strong",{children:"Streaming Events:"})}),e.jsx("p",{children:"The Responses API uses a different event format:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`event: response.created
data: {"type":"response.created",...}

event: response.output_text.delta
data: {"type":"response.output_text.delta","delta":"The",...}

event: response.output_text.delta
data: {"type":"response.output_text.delta","delta":" answer",...}

event: response.completed
data: {"type":"response.completed",...}`})}),e.jsx("h3",{id:"84-embeddings",children:"8.4 Embeddings"}),e.jsx("p",{children:"Generate vector embeddings for text."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",e.jsx("code",{children:"POST /v1/embeddings"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/embeddings \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "embeddinggemma-300m-qat-Q8_0",
    "input": "The quick brown fox jumps over the lazy dog."
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Multiple Inputs:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "embeddinggemma-300m-qat-Q8_0",
  "input": [
    "First document to embed.",
    "Second document to embed.",
    "Third document to embed."
  ]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "object": "list",
  "data": [
    {
      "object": "embedding",
      "index": 0,
      "embedding": [0.123, -0.456, 0.789, ...]
    }
  ],
  "model": "embeddinggemma-300m-qat-Q8_0",
  "usage": {
    "prompt_tokens": 10,
    "total_tokens": 10
  }
}`})}),e.jsx("h3",{id:"85-reranking",children:"8.5 Reranking"}),e.jsx("p",{children:"Score and reorder documents by relevance to a query."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",e.jsx("code",{children:"POST /v1/rerank"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/rerank \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "bge-reranker-v2-m3-Q8_0",
    "query": "What is machine learning?",
    "documents": [
      "Machine learning is a subset of artificial intelligence.",
      "The weather today is sunny.",
      "Deep learning uses neural networks.",
      "I like pizza."
    ],
    "top_n": 2
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "object": "list",
  "results": [
    {
      "index": 0,
      "relevance_score": 0.95,
      "document": "Machine learning is a subset of artificial intelligence."
    },
    {
      "index": 2,
      "relevance_score": 0.82,
      "document": "Deep learning uses neural networks."
    }
  ],
  "model": "bge-reranker-v2-m3-Q8_0",
  "usage": {
    "prompt_tokens": 45,
    "total_tokens": 45
  }
}`})}),e.jsx("h3",{id:"86-tool-calling-function-calling",children:"8.6 Tool Calling (Function Calling)"}),e.jsx("p",{children:"Kronk supports OpenAI-compatible tool calling, allowing models to request"}),e.jsx("p",{children:"function executions that you handle in your application."}),e.jsx("p",{children:e.jsx("strong",{children:"Request with Tools:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [
      {"role": "user", "content": "What is the weather in Paris?"}
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "Get current weather for a location",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "City name"
              }
            },
            "required": ["location"]
          }
        }
      }
    ],
    "tool_choice": "auto"
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Tool Choice Options:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:'"auto"'})," - Model decides whether to call tools (default)"]}),e.jsxs("li",{children:[e.jsx("code",{children:'"none"'})," - Never call tools"]}),e.jsxs("li",{children:[e.jsx("code",{children:'{"type": "function", "function": {"name": "get_weather"}}'})," - Force specific tool"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Response with Tool Calls:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "id": "chatcmpl-xxx",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": null,
        "tool_calls": [
          {
            "id": "call_abc123",
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\\"location\\": \\"Paris\\"}"
            }
          }
        ]
      },
      "finish_reason": "tool_calls"
    }
  ]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Handling Tool Results:"})}),e.jsx("p",{children:"After executing the tool, send the result back:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen3-8B-Q8_0",
  "messages": [
    { "role": "user", "content": "What is the weather in Paris?" },
    {
      "role": "assistant",
      "content": null,
      "tool_calls": [
        {
          "id": "call_abc123",
          "type": "function",
          "function": {
            "name": "get_weather",
            "arguments": "{\\"location\\": \\"Paris\\"}"
          }
        }
      ]
    },
    {
      "role": "tool",
      "tool_call_id": "call_abc123",
      "content": "{\\"temperature\\": 18, \\"condition\\": \\"sunny\\"}"
    }
  ]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Streaming with Tool Calls:"})}),e.jsx("p",{children:"Tool call arguments stream incrementally:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`data: {"choices":[{"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\\"loc"}}]}}]}

data: {"choices":[{"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ation\\":"}}]}}]}

data: {"choices":[{"delta":{"tool_calls":[{"index":0,"function":{"arguments":" \\"Paris\\"}"}}]}}]}`})}),e.jsx("h3",{id:"87-logprobs-token-probabilities",children:"8.7 Logprobs (Token Probabilities)"}),e.jsx("p",{children:"Request log probabilities for generated tokens to understand model confidence"}),e.jsx("p",{children:"or implement custom sampling strategies."}),e.jsx("p",{children:e.jsx("strong",{children:"Request Parameters:"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Parameter"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Default"}),e.jsx("th",{children:"Description"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"logprobs"})}),e.jsx("td",{children:"bool"}),e.jsx("td",{children:"false"}),e.jsx("td",{children:"Return log probability for each token"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"top_logprobs"})}),e.jsx("td",{children:"int"}),e.jsx("td",{children:"0"}),e.jsx("td",{children:"Number of top alternatives (0-5)"})]})]})]}),e.jsxs("p",{children:["Setting ",e.jsx("code",{children:"top_logprobs > 0"})," implicitly enables ",e.jsx("code",{children:"logprobs"}),"."]}),e.jsx("p",{children:e.jsx("strong",{children:"Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [
      {"role": "user", "content": "What is 2+2?"}
    ],
    "logprobs": true,
    "top_logprobs": 3,
    "max_tokens": 10
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Response with Logprobs:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "id": "chatcmpl-xxx",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "4"
      },
      "logprobs": {
        "content": [
          {
            "token": "4",
            "logprob": -0.0012,
            "bytes": [52],
            "top_logprobs": [
              { "token": "4", "logprob": -0.0012, "bytes": [52] },
              { "token": "The", "logprob": -6.82, "bytes": [84, 104, 101] },
              {
                "token": "Four",
                "logprob": -7.15,
                "bytes": [70, 111, 117, 114]
              }
            ]
          }
        ]
      },
      "finish_reason": "stop"
    }
  ]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Response Structure:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"logprobs.content[]"})," - Array of per-token probability data"]}),e.jsxs("li",{children:[e.jsx("code",{children:"token"})," - The generated token string"]}),e.jsxs("li",{children:[e.jsx("code",{children:"logprob"})," - Log probability (always  0; closer to 0 = higher confidence)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"bytes"})," - UTF-8 byte representation of the token"]}),e.jsxs("li",{children:[e.jsx("code",{children:"top_logprobs[]"})," - Alternative tokens with their probabilities"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Streaming Behavior:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Streaming"}),": Logprobs sent in each delta chunk"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-streaming"}),": All logprobs in final response"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Use Cases:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Confidence scoring for model outputs"}),e.jsx("li",{children:"Detecting hallucinations (low probability sequences)"}),e.jsx("li",{children:"Custom rejection sampling"}),e.jsx("li",{children:"Token-level analysis for debugging"})]}),e.jsx("h3",{id:"88-models-list",children:"8.8 Models List"}),e.jsx("p",{children:"Get available models."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",e.jsx("code",{children:"GET /v1/models"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/models"})}),e.jsx("p",{children:e.jsx("strong",{children:"Response:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "object": "list",
  "data": [
    {
      "id": "Qwen3-8B-Q8_0",
      "object": "model",
      "owned_by": "kronk"
    },
    {
      "id": "embeddinggemma-300m-qat-Q8_0",
      "object": "model",
      "owned_by": "kronk"
    }
  ]
}`})}),e.jsx("h3",{id:"89-using-cache-id-with-api-requests",children:"8.9 Using Cache ID with API Requests"}),e.jsx("p",{children:"To use multi-user caching (SPC or IMC), pass the session ID via header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "KRONK_CACHE_ID: user-123" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [...]
  }'`})}),e.jsx("p",{children:"Or in the request body:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen3-8B-Q8_0",
  "cache_id": "user-123",
  "messages": [...]
}`})}),e.jsxs("p",{children:["The ",e.jsx("code",{children:"cache_id"})," is used by both System Prompt Cache (SPC) and Incremental Message Cache (IMC)."]}),e.jsxs("p",{children:["Each unique ",e.jsx("code",{children:"cache_id"})," gets its own dedicated cache sequence, up to ",e.jsx("code",{children:"max_cache_sessions"}),"."]}),e.jsx("h3",{id:"810-authentication",children:"8.10 Authentication"}),e.jsx("p",{children:"When authentication is enabled, include the token in requests:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer your-token-here" \\
  -d '{...}'`})}),e.jsxs("p",{children:["See ",e.jsx("a",{href:"#chapter-10-security--authentication",children:"Chapter 10: Security & Authentication"})]}),e.jsx("p",{children:"for details on token management."}),e.jsx("h3",{id:"811-error-responses",children:"8.11 Error Responses"}),e.jsx("p",{children:"Errors follow a standard format:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "error": {
    "code": "invalid_argument",
    "message": "missing model field"
  }
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Common Error Codes:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"invalid_argument"})," - Missing or invalid request parameters"]}),e.jsxs("li",{children:[e.jsx("code",{children:"not_found"})," - Model not found"]}),e.jsxs("li",{children:[e.jsx("code",{children:"internal"})," - Server error during processing"]}),e.jsxs("li",{children:[e.jsx("code",{children:"unauthenticated"})," - Missing or invalid authentication token"]})]}),e.jsx("hr",{}),e.jsx("h2",{id:"chapter-9:-multi-modal-models",children:"Chapter 9: Multi-Modal Models"}),e.jsx("p",{children:"Kronk supports vision and audio models that can process images, video frames,"}),e.jsx("p",{children:"and audio alongside text. This chapter covers how to use these models."}),e.jsx("h3",{id:"91-overview",children:"9.1 Overview"}),e.jsx("p",{children:"Multi-modal models combine a language model with a media projector that"}),e.jsx("p",{children:"converts images or audio into tokens the model can understand."}),e.jsx("p",{children:e.jsx("strong",{children:"Supported Media Types:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Vision"}),": JPEG, PNG, GIF images"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Audio"}),": WAV audio files"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Available Models (from catalog):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk catalog list --filter-category=Image
kronk catalog list --filter-category=Audio`})}),e.jsx("p",{children:"Example models:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"Qwen2.5-VL-3B-Instruct-Q8_0"})," - Vision model"]}),e.jsxs("li",{children:[e.jsx("code",{children:"gemma-3-4b-it-q4_0"})," - Vision model"]}),e.jsxs("li",{children:[e.jsx("code",{children:"Qwen2-Audio-7B.Q8_0"})," - Audio model"]})]}),e.jsx("h3",{id:"92-vision-models",children:"9.2 Vision Models"}),e.jsx("p",{children:"Vision models analyze images and answer questions about their content."}),e.jsx("p",{children:e.jsx("strong",{children:"Download a Vision Model:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull Qwen2.5-VL-3B-Instruct-Q8_0"})}),e.jsx("p",{children:e.jsx("strong",{children:"API Request with Image (OpenAI Format):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen2.5-VL-3B-Instruct-Q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": "What do you see in this image?"
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
            }
          }
        ]
      }
    ]
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Content Array Structure:"})}),e.jsxs("p",{children:["The ",e.jsx("code",{children:"content"})," field is an array of content parts:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "content": [
    { "type": "text", "text": "Describe this image" },
    {
      "type": "image_url",
      "image_url": { "url": "data:image/jpeg;base64,..." }
    }
  ]
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Supported image_url Formats:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Base64 data URL: ",e.jsx("code",{children:"data:image/jpeg;base64,/9j/4AAQSkZJRg..."})]}),e.jsxs("li",{children:["Base64 data URL: ",e.jsx("code",{children:"data:image/png;base64,iVBORw0KGgo..."})]})]}),e.jsx("h3",{id:"93-audio-models",children:"9.3 Audio Models"}),e.jsx("p",{children:"Audio models transcribe and understand spoken content."}),e.jsx("p",{children:e.jsx("strong",{children:"Download an Audio Model:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull Qwen2-Audio-7B.Q8_0"})}),e.jsx("p",{children:e.jsx("strong",{children:"API Request with Audio:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen2-Audio-7B.Q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": "Transcribe this audio and summarize what is said."
          },
          {
            "type": "input_audio",
            "input_audio": {
              "data": "UklGRi...",
              "format": "wav"
            }
          }
        ]
      }
    ]
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Audio Format:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"data"})," - Base64-encoded audio data"]}),e.jsxs("li",{children:[e.jsx("code",{children:"format"})," - Audio format (currently ",e.jsx("code",{children:"wav"})," supported)"]})]}),e.jsx("h3",{id:"94-plain-base64-format",children:"9.4 Plain Base64 Format"}),e.jsx("p",{children:"For simpler integrations, Kronk also accepts plain base64 as the message"}),e.jsx("p",{children:"content (without the structured OpenAI format):"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "model": "Qwen2.5-VL-3B-Instruct-Q8_0",
  "messages": [
    {
      "role": "user",
      "content": "/9j/4AAQSkZJRgABAQEASABIAAD..."
    }
  ]
}`})}),e.jsx("p",{children:"Kronk auto-detects the media type from the binary header:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["JPEG: starts with ",e.jsx("code",{children:"FF D8 FF"})]}),e.jsxs("li",{children:["PNG: starts with ",e.jsx("code",{children:"89 50 4E 47"})]}),e.jsxs("li",{children:["WAV: starts with ",e.jsx("code",{children:"RIFF"})]})]}),e.jsx("h3",{id:"95-configuration-for-multi-modal-models",children:"9.5 Configuration for Multi-Modal Models"}),e.jsx("p",{children:"Vision and audio models have specific configuration requirements:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen2.5-VL-3B-Instruct-Q8_0:
    n_ubatch: 2048 # Higher for image token processing
    n_seq_max: 2 # Creates 2 model instances (pooled)
    context_window: 8192`})}),e.jsx("p",{children:e.jsx("strong",{children:"Key Considerations:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"n_ubatch"})," should be high (2048) for efficient image/audio token processing"]}),e.jsxs("li",{children:[e.jsx("code",{children:"n_seq_max"})," creates model instances in a pool (not batch parallelism)"]}),e.jsx("li",{children:"Each request needs exclusive model context for media embedding"})]}),e.jsx("h3",{id:"96-memory-requirements",children:"9.6 Memory Requirements"}),e.jsx("p",{children:"Vision and audio models require additional memory for the projector:"}),e.jsx("p",{children:e.jsx("strong",{children:"Vision Model Example (Qwen2.5-VL-3B):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Model weights:     ~3.5 GB
Projector:         ~0.5 GB
KV cache (8K):     ~0.4 GB

Total:             ~4.4 GB`})}),e.jsx("p",{children:e.jsx("strong",{children:"Audio Model Example (Qwen2-Audio-7B):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Model weights:     ~8 GB
Projector:         ~0.8 GB
KV cache (8K):     ~0.6 GB

Total:             ~9.4 GB`})}),e.jsx("h3",{id:"97-limitations",children:"9.7 Limitations"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Vision/audio models cannot use batch processing (sequential only)"}),e.jsx("li",{children:"Each request gets exclusive model context"}),e.jsx("li",{children:"Message caching (SPC/IMC) not supported for media requests"}),e.jsx("li",{children:"Processing time varies with image resolution and audio duration"})]}),e.jsx("h3",{id:"98-example:-image-analysis",children:"9.8 Example: Image Analysis"}),e.jsx("p",{children:"Complete example analyzing an image:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# Encode image to base64
IMAGE_B64=$(base64 -i photo.jpg)

# Send request
curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen2.5-VL-3B-Instruct-Q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "Describe this image in detail."},
          {
            "type": "image_url",
            "image_url": {"url": "data:image/jpeg;base64,\${IMAGE_B64}"}
          }
        ]
      }
    ],
    "max_tokens": 1024
  }'`})}),e.jsx("h3",{id:"99-example:-audio-transcription",children:"9.9 Example: Audio Transcription"}),e.jsx("p",{children:"Complete example transcribing audio:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# Encode audio to base64
AUDIO_B64=$(base64 -i recording.wav)

# Send request
curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen2-Audio-7B.Q8_0",
    "messages": [
      {
        "role": "user",
        "content": [
          {"type": "text", "text": "Transcribe this audio."},
          {
            "type": "input_audio",
            "input_audio": {"data": "\${AUDIO_B64}", "format": "wav"}
          }
        ]
      }
    ],
    "max_tokens": 2048
  }'`})}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-10-security--authentication",children:"Chapter 10: Security & Authentication"}),"_"]}),e.jsx("h2",{id:"chapter-10:-security-authentication",children:"Chapter 10: Security & Authentication"}),e.jsx("p",{children:"Kronk provides JWT-based authentication and authorization with per-endpoint"}),e.jsx("p",{children:"rate limiting. When enabled, all API requests require a valid token."}),e.jsx("h3",{id:"101-enabling-authentication",children:"10.1 Enabling Authentication"}),e.jsx("p",{children:e.jsx("strong",{children:"Start Server with Auth Enabled:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --auth-enabled"})}),e.jsx("p",{children:"Or via environment variable:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_AUTH_ENABLED=true
kronk server start`})}),e.jsx("p",{children:e.jsx("strong",{children:"First-Time Setup:"})}),e.jsx("p",{children:"On first startup with authentication enabled, Kronk automatically:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Creates a ",e.jsx("code",{children:"keys/"})," directory in ",e.jsx("code",{children:"~/.kronk/"})]}),e.jsxs("li",{children:["Generates a master private key (",e.jsx("code",{children:"master.pem"}),")"]}),e.jsxs("li",{children:["Creates an admin token (",e.jsx("code",{children:"master.jwt"}),") valid for 10 years"]}),e.jsx("li",{children:"Generates an additional signing key for user tokens"})]}),e.jsxs("p",{children:["The admin token is stored at ",e.jsx("code",{children:"~/.kronk/keys/master.jwt"}),"."]}),e.jsx("h3",{id:"102-using-the-admin-token",children:"10.2 Using the Admin Token"}),e.jsx("p",{children:"The admin token is required for all security management operations."}),e.jsx("p",{children:e.jsx("strong",{children:"Set the Token:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"export KRONK_TOKEN=$(cat ~/.kronk/keys/master.jwt)"})}),e.jsx("p",{children:e.jsx("strong",{children:"Admin Capabilities:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Create new tokens for users"}),e.jsx("li",{children:"Add and remove signing keys"}),e.jsx("li",{children:"Access all endpoints without rate limits"})]}),e.jsx("h3",{id:"103-key-management",children:"10.3 Key Management"}),e.jsx("p",{children:"Private keys sign JWT tokens. Multiple keys allow token rotation without"}),e.jsx("p",{children:"invalidating all existing tokens."}),e.jsx("p",{children:e.jsx("strong",{children:"List Keys:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk security key list"})}),e.jsx("p",{children:"Output:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`KEY ID                                  CREATED
master                                  2024-01-15T10:30:00Z
a1b2c3d4-e5f6-7890-abcd-ef1234567890    2024-01-15T10:30:00Z`})}),e.jsx("p",{children:e.jsx("strong",{children:"Create a New Key:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk security key create"})}),e.jsx("p",{children:"This generates a new UUID-named key for signing tokens."}),e.jsx("p",{children:e.jsx("strong",{children:"Delete a Key:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk security key delete --keyid a1b2c3d4-e5f6-7890-abcd-ef1234567890"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Important:"})," The master key cannot be deleted. Deleting a key invalidates"]}),e.jsx("p",{children:"all tokens signed with that key."}),e.jsx("p",{children:e.jsx("strong",{children:"Local Mode:"})}),e.jsxs("p",{children:["All key commands support ",e.jsx("code",{children:"--local"})," to operate without a running server:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security key list --local
kronk security key create --local
kronk security key delete --keyid <keyid> --local`})}),e.jsx("h3",{id:"104-creating-user-tokens",children:"10.4 Creating User Tokens"}),e.jsx("p",{children:"Create tokens with specific endpoint access and optional rate limits."}),e.jsx("p",{children:e.jsx("strong",{children:"Basic Syntax:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration <duration> \\
  --endpoints <endpoint-list>`})}),e.jsx("p",{children:e.jsx("strong",{children:"Parameters:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"--duration"})," - Token lifetime (e.g., ",e.jsx("code",{children:"1h"}),", ",e.jsx("code",{children:"24h"}),", ",e.jsx("code",{children:"720h"}),", ",e.jsx("code",{children:"8760h"}),")"]}),e.jsxs("li",{children:[e.jsx("code",{children:"--endpoints"})," - Comma-separated list of endpoints with optional limits"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Endpoint Format:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"endpoint"})," - Unlimited access (default)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"endpoint:unlimited"})," - Unlimited access (explicit)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"endpoint:limit/window"})," - Rate limited"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Rate Limit Windows:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"day"})," - Resets daily"]}),e.jsxs("li",{children:[e.jsx("code",{children:"month"})," - Resets monthly"]}),e.jsxs("li",{children:[e.jsx("code",{children:"year"})," - Resets yearly"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Available Endpoints:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"chat-completions"})," - Chat completions API"]}),e.jsxs("li",{children:[e.jsx("code",{children:"responses"})," - Responses API"]}),e.jsxs("li",{children:[e.jsx("code",{children:"embeddings"})," - Embeddings API"]}),e.jsxs("li",{children:[e.jsx("code",{children:"rerank"})," - Reranking API"]}),e.jsxs("li",{children:[e.jsx("code",{children:"messages"})," - Anthropic Messages API"]})]}),e.jsx("h3",{id:"105-token-examples",children:"10.5 Token Examples"}),e.jsx("p",{children:e.jsx("strong",{children:"Unlimited Access to All Endpoints (24 hours):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 24h \\
  --endpoints chat-completions,embeddings,rerank,responses,messages`})}),e.jsx("p",{children:e.jsx("strong",{children:"Rate-Limited Chat Token (30 days):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 720h \\
  --endpoints "chat-completions:1000/day,embeddings:500/day"`})}),e.jsx("p",{children:e.jsx("strong",{children:"Monthly Quota Token:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 8760h \\
  --endpoints "chat-completions:10000/month,embeddings:50000/month"`})}),e.jsx("p",{children:e.jsx("strong",{children:"Mixed Limits:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 720h \\
  --endpoints "chat-completions:100/day,embeddings:unlimited"`})}),e.jsx("p",{children:e.jsx("strong",{children:"Output:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Token create
  Duration: 720h0m0s
  Endpoints: map[chat-completions:{1000 day} embeddings:{0 unlimited}]
TOKEN:
eyJhbGciOiJSUzI1NiIsImtpZCI6ImExYjJjM2Q0Li4uIiwidHlwIjoiSldUIn0...`})}),e.jsx("h3",{id:"106-using-tokens-in-api-requests",children:"10.6 Using Tokens in API Requests"}),e.jsxs("p",{children:["Pass the token in the ",e.jsx("code",{children:"Authorization"})," header with the ",e.jsx("code",{children:"Bearer"})," prefix."]}),e.jsx("p",{children:e.jsx("strong",{children:"curl Example:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer eyJhbGciOiJS..." \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "Qwen3-8B-Q8_0",
    "messages": [{"role": "user", "content": "Hello"}]
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variable Pattern:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_TOKEN="eyJhbGciOiJS..."

curl http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{...}'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Python Example:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-python",children:`import openai

client = openai.OpenAI(
    base_url="http://localhost:8080/v1",
    api_key="eyJhbGciOiJS..."  # Your Kronk token
)

response = client.chat.completions.create(
    model="Qwen3-8B-Q8_0",
    messages=[{"role": "user", "content": "Hello"}]
)`})}),e.jsx("h3",{id:"107-authorization-flow",children:"10.7 Authorization Flow"}),e.jsx("p",{children:"When a request arrives:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Token Extraction"})," - Bearer token parsed from Authorization header"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Signature Verification"})," - Token signature verified against known keys"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Expiration Check"})," - Token must not be expired"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Endpoint Authorization"})," - Token must include the requested endpoint"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rate Limit Check"})," - Request counted against endpoint quota"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Request Processing"})," - If all checks pass, request proceeds"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Error Responses:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"401 Unauthorized"})," - Missing, invalid, or expired token"]}),e.jsxs("li",{children:[e.jsx("code",{children:"403 Forbidden"})," - Token lacks access to the endpoint"]}),e.jsxs("li",{children:[e.jsx("code",{children:"429 Too Many Requests"})," - Rate limit exceeded"]})]}),e.jsx("h3",{id:"108-rate-limiting",children:"10.8 Rate Limiting"}),e.jsx("p",{children:"Rate limits are enforced per token (identified by the token's subject claim)."}),e.jsx("p",{children:e.jsx("strong",{children:"How Limits Work:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Each token has a unique subject (UUID)"}),e.jsx("li",{children:"Requests are counted per endpoint per subject"}),e.jsx("li",{children:"Counters reset at window boundaries (day/month/year)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Limit Storage:"})}),e.jsxs("p",{children:["Rate limit counters are stored in a BadgerDB database at ",e.jsx("code",{children:"~/.kronk/badger/"}),"."]}),e.jsx("p",{children:"Counters persist across server restarts."}),e.jsx("p",{children:e.jsx("strong",{children:"Bypassing Rate Limits:"})}),e.jsxs("p",{children:["Admin tokens (like ",e.jsx("code",{children:"master.jwt"}),") bypass all rate limiting."]}),e.jsx("h3",{id:"109-configuration-reference",children:"10.9 Configuration Reference"}),e.jsx("p",{children:e.jsx("strong",{children:"Server Flags:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"--auth-enabled"})," - Enable authentication (env: ",e.jsx("code",{children:"KRONK_AUTH_ENABLED"}),")"]}),e.jsxs("li",{children:[e.jsx("code",{children:"--auth-issuer"})," - JWT issuer name (env: ",e.jsx("code",{children:"KRONK_AUTH_ISSUER"}),")"]}),e.jsxs("li",{children:[e.jsx("code",{children:"--auth-host"})," - External auth service host (env: ",e.jsx("code",{children:"KRONK_AUTH_HOST"}),")"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variables:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"KRONK_TOKEN"})," - Token for CLI commands and API requests"]}),e.jsxs("li",{children:[e.jsx("code",{children:"KRONK_WEB_API_HOST"})," - Server address for CLI web mode"]})]}),e.jsxs("p",{children:["  (default: ",e.jsx("code",{children:"localhost:8080"}),")"]}),e.jsx("h3",{id:"1010-security-best-practices",children:"10.10 Security Best Practices"}),e.jsx("p",{children:e.jsx("strong",{children:"Token Management:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Store admin tokens securely; treat ",e.jsx("code",{children:"master.jwt"})," like a password"]}),e.jsx("li",{children:"Create separate tokens for different applications/users"}),e.jsx("li",{children:"Use short durations for development tokens"}),e.jsx("li",{children:"Rotate keys periodically for production deployments"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Rate Limiting:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Set appropriate limits based on expected usage"}),e.jsx("li",{children:"Use daily limits for interactive applications"}),e.jsx("li",{children:"Use monthly limits for batch processing"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Key Rotation:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Create a new key: ",e.jsx("code",{children:"kronk security key create"})]}),e.jsx("li",{children:"Issue new tokens using the new key"}),e.jsx("li",{children:"Wait for old tokens to expire"}),e.jsxs("li",{children:["Delete the old key: ",e.jsx("code",{children:"kronk security key delete --keyid <old-keyid>"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Production Checklist:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Enable authentication: ",e.jsx("code",{children:"--auth-enabled"})]}),e.jsxs("li",{children:["Secure the ",e.jsx("code",{children:"~/.kronk/keys/"})," directory (mode 0700)"]}),e.jsxs("li",{children:["Back up ",e.jsx("code",{children:"master.pem"})," and ",e.jsx("code",{children:"master.jwt"})," securely"]}),e.jsx("li",{children:"Distribute user tokens, never the admin token"}),e.jsx("li",{children:"Monitor rate limit usage in logs"})]}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-11-browser-ui-bui",children:"Chapter 11: Browser UI (BUI)"}),"_"]}),e.jsx("h2",{id:"chapter-11:-browser-ui-bui",children:"Chapter 11: Browser UI (BUI)"}),e.jsx("p",{children:"Kronk includes a web-based interface for managing models, libraries,"}),e.jsx("p",{children:"security, and server configuration without using the command line."}),e.jsx("h3",{id:"111-accessing-the-bui",children:"11.1 Accessing the BUI"}),e.jsx("p",{children:"The BUI is served from the same port as the API."}),e.jsx("p",{children:e.jsx("strong",{children:"Open in Browser:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"http://localhost:8080"})}),e.jsx("p",{children:"The BUI automatically loads when you navigate to the server root."}),e.jsx("h3",{id:"112-downloading-libraries",children:"11.2 Downloading Libraries"}),e.jsx("p",{children:"Before running inference, you need the llama.cpp libraries."}),e.jsx("p",{children:e.jsx("strong",{children:"Steps:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Navigate to the ",e.jsx("strong",{children:"Libraries"})," page from the menu"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Pull Libraries"})]}),e.jsx("li",{children:"Wait for the download to complete"})]}),e.jsx("p",{children:"The BUI auto-detects your platform (OS, architecture, GPU) and downloads"}),e.jsxs("p",{children:["the appropriate binaries to ",e.jsx("code",{children:"~/.kronk/libraries/"}),"."]}),e.jsx("p",{children:e.jsx("strong",{children:"Override Detection:"})}),e.jsx("p",{children:"If auto-detection is incorrect, you can specify:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Processor type (CPU, CUDA, Metal, Vulkan)"}),e.jsx("li",{children:"Architecture (amd64, arm64)"}),e.jsx("li",{children:"Operating system"})]}),e.jsx("h3",{id:"113-downloading-models",children:"11.3 Downloading Models"}),e.jsx("p",{children:e.jsx("strong",{children:"Browse the Catalog:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Navigate to the ",e.jsx("strong",{children:"Catalog"})," page"]}),e.jsx("li",{children:"Browse available models by category:"})]}),e.jsx("p",{children:"   - Text-Generation"}),e.jsx("p",{children:"   - Image-Text-to-Text (Vision)"}),e.jsx("p",{children:"   - Audio-Text-to-Text"}),e.jsx("p",{children:"   - Embedding"}),e.jsx("p",{children:"   - Reranking"}),e.jsx("ol",{children:e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Pull"})," next to a model to download it"]})}),e.jsx("p",{children:e.jsx("strong",{children:"Monitor Progress:"})}),e.jsx("p",{children:"The BUI shows real-time download progress including:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Download percentage"}),e.jsx("li",{children:"Transfer speed"}),e.jsx("li",{children:"Estimated time remaining"})]}),e.jsx("p",{children:e.jsx("strong",{children:"View Pulled Models:"})}),e.jsxs("p",{children:["Navigate to the ",e.jsx("strong",{children:"Models"})," page to see all downloaded models and their"]}),e.jsx("p",{children:"status."}),e.jsx("h3",{id:"114-managing-keys-and-tokens",children:"11.4 Managing Keys and Tokens"}),e.jsx("p",{children:"When authentication is enabled, use the BUI to manage security."}),e.jsx("p",{children:e.jsx("strong",{children:"Keys Page:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"View all signing keys with their IDs and creation dates"}),e.jsx("li",{children:"Create new signing keys"}),e.jsx("li",{children:"Delete keys (except master key)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Tokens Page:"})}),e.jsx("ul",{children:e.jsx("li",{children:"Generate new tokens with specific:"})}),e.jsx("p",{children:"  - Duration (hours, days)"}),e.jsx("p",{children:"  - Endpoint access (chat-completions, embeddings, etc.)"}),e.jsx("p",{children:"  - Rate limits (requests per day/month/year)"}),e.jsx("ul",{children:e.jsx("li",{children:"Copy generated tokens to clipboard"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," You must provide an admin token in the BUI settings to access"]}),e.jsx("p",{children:"security management features."}),e.jsx("h3",{id:"115-other-screens",children:"11.5 Other Screens"}),e.jsx("p",{children:e.jsx("strong",{children:"Dashboard:"})}),e.jsx("p",{children:"Overview of server status, loaded models, and system information."}),e.jsx("p",{children:e.jsx("strong",{children:"Documentation:"})}),e.jsx("p",{children:"Built-in SDK and CLI documentation accessible from the menu:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"SDK API reference"}),e.jsx("li",{children:"CLI command reference"}),e.jsx("li",{children:"Example code"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Settings:"})}),e.jsx("p",{children:"Configure BUI preferences:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"API token for authenticated requests"}),e.jsx("li",{children:"Theme preferences"})]}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-12-client-integration",children:"Chapter 12: Client Integration"}),"_"]}),e.jsx("h2",{id:"chapter-12:-client-integration",children:"Chapter 12: Client Integration"}),e.jsx("p",{children:"Kronk's OpenAI-compatible API works with popular AI clients and tools."}),e.jsx("h3",{id:"121-openwebui",children:"12.1 OpenWebUI"}),e.jsx("p",{children:"OpenWebUI is a self-hosted chat interface that works with Kronk."}),e.jsx("p",{children:e.jsx("strong",{children:"Configure OpenWebUI:"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Open OpenWebUI settings"}),e.jsx("li",{children:"Navigate to Connections  OpenAI API"}),e.jsx("li",{children:"Set the base URL:"})]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"http://localhost:8080/v1"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Set API key to your Kronk token (or any value (123) if auth is disabled)"}),e.jsx("li",{children:"Save and refresh models"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Features that work:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Chat completions with streaming"}),e.jsx("li",{children:"Model selection from available models"}),e.jsx("li",{children:"System prompts"}),e.jsx("li",{children:"Conversation history"})]}),e.jsx("h3",{id:"122-cline",children:"12.2 Cline"}),e.jsx("p",{children:"Cline is a VS Code extension for AI-assisted coding."}),e.jsx("p",{children:e.jsx("strong",{children:"Configure Cline for Kronk:"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Open VS Code settings"}),e.jsx("li",{children:'Search for "Cline"'}),e.jsx("li",{children:'Set API Provider to "OpenAI Compatible"'}),e.jsx("li",{children:"Configure:"})]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Base URL: http://localhost:8080/v1
API Key: <your-kronk-token> or 123 for anything
Model: Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL/IMC`})}),e.jsx("p",{children:e.jsx("strong",{children:"Recommended Model Settings:"})}),e.jsx("p",{children:"For coding tasks, configure your model with:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
    Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL:
    &base_Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL
    context-window: 131072
    nbatch: 2048
    nubatch: 512
    cache-type-k: q8_0
    cache-type-v: q8_0
    flash-attention: enabled
    nseq-max: 2
    insecure-logging: true
    sampling-parameters:
        temperature: 0.7
        top_p: 0.8
        top_k: 20

    Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL/IMC:
    <<: *base_Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL
    nseq-max: 1
    incremental-cache: true
    max-cache-sessions: 1`})}),e.jsx("p",{children:"IMC is especially beneficial for Cline's iterative coding workflow."}),e.jsx("p",{children:"_Note: Don't use R1 Message formats when using KMS._"}),e.jsx("h3",{id:"124-python-openai-sdk",children:"12.4 Python OpenAI SDK"}),e.jsx("p",{children:"Use the official OpenAI Python library with Kronk."}),e.jsx("p",{children:e.jsx("strong",{children:"Installation:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"pip install openai"})}),e.jsx("p",{children:e.jsx("strong",{children:"Usage:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-python",children:`from openai import OpenAI

client = OpenAI(
    base_url="http://localhost:8080/v1",
    api_key="your-kronk-token"  # Or any string if auth disabled
)

response = client.chat.completions.create(
    model="Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL/IMC",
    messages=[
        {"role": "system", "content": "You are a helpful assistant."},
        {"role": "user", "content": "Hello!"}
    ],
    stream=True
)

for chunk in response:
    if chunk.choices[0].delta.content:
        print(chunk.choices[0].delta.content, end="")`})}),e.jsx("h3",{id:"125-curl-and-http-clients",children:"12.5 curl and HTTP Clients"}),e.jsx("p",{children:"Any HTTP client can call Kronk's REST API directly."}),e.jsx("p",{children:e.jsx("strong",{children:"Basic Request:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer $KRONK_TOKEN" \\
  -d '{
    "model": "Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL",
    "messages": [{"role": "user", "content": "Hello"}],
    "stream": true
  }'`})}),e.jsx("p",{children:e.jsx("strong",{children:"Streaming Response:"})}),e.jsx("p",{children:"Streaming responses use Server-Sent Events (SSE) format:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`data: {"id":"...","choices":[{"delta":{"content":"Hello"}}],...}

data: {"id":"...","choices":[{"delta":{"content":"!"}}],...}

data: [DONE]`})}),e.jsx("h3",{id:"126-langchain",children:"12.6 LangChain"}),e.jsx("p",{children:"Use LangChain with Kronk via the OpenAI integration."}),e.jsx("p",{children:e.jsx("strong",{children:"Installation:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"pip install langchain-openai"})}),e.jsx("p",{children:e.jsx("strong",{children:"Usage:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-python",children:`from langchain_openai import ChatOpenAI

llm = ChatOpenAI(
    base_url="http://localhost:8080/v1",
    api_key="your-kronk-token",
    model="Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL",
    streaming=True
)

response = llm.invoke("Explain quantum computing briefly.")
print(response.content)`})}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-13-observability",children:"Chapter 13: Observability"}),"_"]}),e.jsx("h2",{id:"chapter-13:-observability",children:"Chapter 13: Observability"}),e.jsx("p",{children:"Kronk provides comprehensive observability through distributed tracing,"}),e.jsx("p",{children:"Prometheus metrics, pprof profiling, and real-time visualizations."}),e.jsx("h3",{id:"131-debug-server",children:"13.1 Debug Server"}),e.jsx("p",{children:"Kronk runs a separate debug server for observability endpoints, isolated"}),e.jsx("p",{children:"from the main API for security."}),e.jsx("p",{children:e.jsx("strong",{children:"Default Ports:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Main API: ",e.jsx("code",{children:"localhost:8080"})]}),e.jsxs("li",{children:["Debug server: ",e.jsx("code",{children:"localhost:8090"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Configure Debug Host:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --debug-host localhost:9090"})}),e.jsx("p",{children:"Or via environment variable:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_DEBUG_HOST=localhost:9090
kronk server start`})}),e.jsx("h3",{id:"132-debug-endpoints",children:"13.2 Debug Endpoints"}),e.jsx("p",{children:"The debug server exposes these endpoints:"}),e.jsx("p",{children:e.jsx("strong",{children:"Prometheus Metrics:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"http://localhost:8090/metrics"})}),e.jsx("p",{children:e.jsx("strong",{children:"pprof Profiling:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"http://localhost:8090/debug/pprof/"})," - Index page"]}),e.jsxs("li",{children:[e.jsx("code",{children:"http://localhost:8090/debug/pprof/profile"})," - CPU profile"]}),e.jsxs("li",{children:[e.jsx("code",{children:"http://localhost:8090/debug/pprof/heap"})," - Heap profile"]}),e.jsxs("li",{children:[e.jsx("code",{children:"http://localhost:8090/debug/pprof/goroutine"})," - Goroutine stacks"]}),e.jsxs("li",{children:[e.jsx("code",{children:"http://localhost:8090/debug/pprof/trace"})," - Execution trace"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Statsviz (Real-time Visualizations):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"http://localhost:8090/debug/statsviz"})}),e.jsx("p",{children:"Provides live charts for memory, goroutines, GC, and more."}),e.jsx("h3",{id:"133-health-check-endpoints",children:"13.3 Health Check Endpoints"}),e.jsx("p",{children:"Available on the main API port (no authentication required):"}),e.jsx("p",{children:e.jsx("strong",{children:"Liveness Check:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/liveness"})}),e.jsx("p",{children:"Response:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-json",children:`{
  "status": "up",
  "build": "v1.0.0",
  "host": "hostname",
  "GOMAXPROCS": 8
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Readiness Check:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/readiness"})}),e.jsx("p",{children:"Returns 200 OK when the server is ready to accept requests."}),e.jsx("h3",{id:"134-prometheus-metrics",children:"13.4 Prometheus Metrics"}),e.jsx("p",{children:"Kronk exposes detailed inference metrics in Prometheus format."}),e.jsx("p",{children:e.jsx("strong",{children:"Fetch Metrics:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8090/metrics"})}),e.jsx("p",{children:e.jsx("strong",{children:"Available Metrics:"})}),e.jsx("p",{children:"System metrics:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"goroutines"})," - Current goroutine count"]}),e.jsxs("li",{children:[e.jsx("code",{children:"requests"})," - Total request count"]}),e.jsxs("li",{children:[e.jsx("code",{children:"errors"})," - Total error count"]}),e.jsxs("li",{children:[e.jsx("code",{children:"panics"})," - Total panic count"]})]}),e.jsx("p",{children:"Model loading (in seconds):"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"model_load_avg"}),", ",e.jsx("code",{children:"model_load_min"}),", ",e.jsx("code",{children:"model_load_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"model_load_proj_avg"}),", ",e.jsx("code",{children:"model_load_proj_min"}),", ",e.jsx("code",{children:"model_load_proj_max"})]})]}),e.jsx("p",{children:"Inference timing (in seconds):"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"model_prompt_creation_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"model_prefill_nonmedia_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"model_prefill_media_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"model_ttft_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})," (time to first token)"]})]}),e.jsx("p",{children:"Token usage:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"usage_prompt_tokens_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"usage_reasoning_tokens_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"usage_completion_tokens_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"usage_output_tokens_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"usage_total_tokens_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"usage_tokens_per_second_avg"}),", ",e.jsx("code",{children:"_min"}),", ",e.jsx("code",{children:"_max"})]})]}),e.jsx("h3",{id:"135-prometheus-integration",children:"13.5 Prometheus Integration"}),e.jsx("p",{children:e.jsx("strong",{children:"Example Prometheus Configuration:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`# prometheus.yml
scrape_configs:
  - job_name: "kronk"
    static_configs:
      - targets: ["localhost:8090"]
    scrape_interval: 15s`})}),e.jsx("p",{children:e.jsx("strong",{children:"Grafana Dashboard Query Examples:"})}),e.jsx("p",{children:"Time to first token:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-promql",children:"model_ttft_avg"})}),e.jsx("p",{children:"Tokens per second throughput:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-promql",children:"usage_tokens_per_second_avg"})}),e.jsx("p",{children:"Request rate:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-promql",children:"rate(requests[5m])"})}),e.jsx("p",{children:"Error rate:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-promql",children:"rate(errors[5m]) / rate(requests[5m])"})}),e.jsx("h3",{id:"136-distributed-tracing-with-tempo",children:"13.6 Distributed Tracing with Tempo"}),e.jsx("p",{children:"Kronk supports OpenTelemetry tracing with Grafana Tempo integration."}),e.jsx("p",{children:e.jsx("strong",{children:"Enable Tracing:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --tempo-host localhost:4317 \\
  --tempo-service-name kronk \\
  --tempo-probability 0.25`})}),e.jsx("p",{children:"Or via environment variables:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_TEMPO_HOST=localhost:4317
export KRONK_TEMPO_SERVICE_NAME=kronk
export KRONK_TEMPO_PROBABILITY=0.25
kronk server start`})}),e.jsx("p",{children:e.jsx("strong",{children:"Configuration Options:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-host"})," - Tempo collector address (OTLP gRPC endpoint)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-service-name"})," - Service name in traces (default: ",e.jsx("code",{children:"kronk"}),")"]}),e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-probability"})," - Sampling probability 0.0-1.0 (default: ",e.jsx("code",{children:"0.25"}),")"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Sampling Probability:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"1.0"})," - Trace every request (development only)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"0.25"})," - Trace 25% of requests (recommended for production)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"0.05"})," - Trace 5% of requests (high-traffic production)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Excluded Routes:"})}),e.jsx("p",{children:"Health check endpoints are automatically excluded from tracing:"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("code",{children:"/v1/liveness"})}),e.jsx("li",{children:e.jsx("code",{children:"/v1/readiness"})})]}),e.jsx("h3",{id:"137-tracing-architecture",children:"13.7 Tracing Architecture"}),e.jsx("p",{children:e.jsx("strong",{children:"Request Flow with Tracing:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:`Client Request
      
      

  Kronk Server               
    
   Inject Trace Context    
   (trace_id, span_id)     
    
                            
    
   Handler Span            
   (chat, embed, etc.)     
    
                            
    
   Inference Span          
   (model operations)      
    

      
      
   Tempo Collector (OTLP gRPC)
      
      
   Grafana (Visualization)`})}),e.jsx("p",{children:e.jsx("strong",{children:"What Gets Traced:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"HTTP request handling"}),e.jsx("li",{children:"Model acquisition from pool"}),e.jsx("li",{children:"Prefill and generation phases"}),e.jsx("li",{children:"Token streaming"})]}),e.jsx("h3",{id:"138-tempo-setup-with-docker",children:"13.8 Tempo Setup with Docker"}),e.jsx("p",{children:e.jsx("strong",{children:"Run Tempo Locally:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`docker run -d --name tempo \\
  -p 3200:3200 \\
  -p 4317:4317 \\
  grafana/tempo:latest \\
  -config.file=/etc/tempo/tempo.yaml`})}),e.jsx("p",{children:e.jsx("strong",{children:"Run Grafana:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`docker run -d --name grafana \\
  -p 3000:3000 \\
  grafana/grafana:latest`})}),e.jsx("p",{children:e.jsx("strong",{children:"Configure Grafana:"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Open http://localhost:3000 (admin/admin)"}),e.jsx("li",{children:"Add data source  Tempo"}),e.jsxs("li",{children:["Set URL: ",e.jsx("code",{children:"http://tempo:3200"})]}),e.jsx("li",{children:"Save and explore traces"})]}),e.jsx("h3",{id:"139-pprof-profiling",children:"13.9 pprof Profiling"}),e.jsx("p",{children:"Use Go's pprof tools for performance analysis."}),e.jsx("p",{children:e.jsx("strong",{children:"Capture CPU Profile (30 seconds):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go tool pprof http://localhost:8090/debug/pprof/profile?seconds=30"})}),e.jsx("p",{children:e.jsx("strong",{children:"Capture Heap Profile:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go tool pprof http://localhost:8090/debug/pprof/heap"})}),e.jsx("p",{children:e.jsx("strong",{children:"View Goroutine Stacks:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8090/debug/pprof/goroutine?debug=2"})}),e.jsx("p",{children:e.jsx("strong",{children:"Generate Flame Graph:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`go tool pprof -http=:8081 \\
  http://localhost:8090/debug/pprof/profile?seconds=30`})}),e.jsx("p",{children:"Opens interactive web UI with flame graph visualization."}),e.jsx("h3",{id:"1310-statsviz-real-time-monitoring",children:"13.10 Statsviz Real-Time Monitoring"}),e.jsx("p",{children:"Statsviz provides live runtime visualizations in your browser."}),e.jsx("p",{children:e.jsx("strong",{children:"Access Statsviz:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"http://localhost:8090/debug/statsviz"})}),e.jsx("p",{children:e.jsx("strong",{children:"Available Charts:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Heap size and allocations"}),e.jsx("li",{children:"Goroutine count"}),e.jsx("li",{children:"GC pause times"}),e.jsx("li",{children:"CPU scheduler latency"}),e.jsx("li",{children:"Memory by size class"})]}),e.jsx("p",{children:"Useful for real-time monitoring during load testing or debugging"}),e.jsx("p",{children:"memory issues."}),e.jsx("h3",{id:"1311-logging",children:"13.11 Logging"}),e.jsx("p",{children:"Kronk logs structured JSON to stdout by default."}),e.jsx("p",{children:e.jsx("strong",{children:"Log Levels:"})}),e.jsx("p",{children:"Logs include context like trace IDs, request details, and timing."}),e.jsx("p",{children:e.jsx("strong",{children:"Insecure Logging:"})}),e.jsx("p",{children:"For debugging, enable verbose logging that includes message content:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --insecure-logging"})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Warning:"})," Insecure logging exposes user prompts and model responses."]}),e.jsx("p",{children:"Never enable in production."}),e.jsx("p",{children:e.jsx("strong",{children:"Environment Variable:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"export KRONK_INSECURE_LOGGING=true"})}),e.jsx("h3",{id:"1312-configuration-reference",children:"13.12 Configuration Reference"}),e.jsx("p",{children:e.jsx("strong",{children:"Debug Server:"})}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--debug-host"})," - Debug server address (env: ",e.jsx("code",{children:"KRONK_DEBUG_HOST"}),","]})}),e.jsxs("p",{children:["  default: ",e.jsx("code",{children:"localhost:8090"}),")"]}),e.jsx("p",{children:e.jsx("strong",{children:"Tracing:"})}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-host"})," - Tempo collector address (env: ",e.jsx("code",{children:"KRONK_TEMPO_HOST"}),","]})}),e.jsxs("p",{children:["  default: ",e.jsx("code",{children:"localhost:4317"}),")"]}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-service-name"})," - Service name (env: ",e.jsx("code",{children:"KRONK_TEMPO_SERVICE_NAME"}),","]})}),e.jsxs("p",{children:["  default: ",e.jsx("code",{children:"kronk"}),")"]}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--tempo-probability"})," - Sampling rate 0.0-1.0"]})}),e.jsxs("p",{children:["  (env: ",e.jsx("code",{children:"KRONK_TEMPO_PROBABILITY"}),", default: ",e.jsx("code",{children:"0.25"}),")"]}),e.jsx("p",{children:e.jsx("strong",{children:"Logging:"})}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--insecure-logging"})," - Log message content"]})}),e.jsxs("p",{children:["  (env: ",e.jsx("code",{children:"KRONK_INSECURE_LOGGING"}),", default: ",e.jsx("code",{children:"false"}),")"]}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx("code",{children:"--llama-log"})," - llama.cpp log level, 0=off, 1=on"]})}),e.jsxs("p",{children:["  (env: ",e.jsx("code",{children:"KRONK_LLAMA_LOG"}),", default: ",e.jsx("code",{children:"1"}),")"]}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-14-troubleshooting",children:"Chapter 14: Troubleshooting"}),"_"]}),e.jsx("h2",{id:"chapter-14:-troubleshooting",children:"Chapter 14: Troubleshooting"}),e.jsx("p",{children:"This chapter covers common issues, their causes, and solutions."}),e.jsx("h3",{id:"141-library-issues",children:"14.1 Library Issues"}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "unable to load library"'})}),e.jsx("p",{children:"The llama.cpp libraries are missing or incompatible."}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk libs --local"})}),e.jsx("p",{children:"Or download via the BUI Libraries page."}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "unknown device"'})}),e.jsx("p",{children:"The specified GPU device is not available."}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Wrong ",e.jsx("code",{children:"--device"})," flag (e.g., ",e.jsx("code",{children:"cuda"})," on a Mac)"]}),e.jsx("li",{children:"GPU drivers not installed"}),e.jsx("li",{children:"Library mismatch (CPU library with GPU device setting)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Check your hardware and install matching libraries:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# For Mac with Apple Silicon
KRONK_PROCESSOR=metal kronk libs --local

# For NVIDIA GPU
KRONK_PROCESSOR=cuda kronk libs --local

# For CPU only
KRONK_PROCESSOR=cpu kronk libs --local`})}),e.jsx("h3",{id:"142-model-loading-failures",children:"14.2 Model Loading Failures"}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "unable to load model"'})}),e.jsx("p",{children:"The model file is missing, corrupted, or incompatible."}),e.jsx("p",{children:e.jsx("strong",{children:"Check model exists:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"ls ~/.kronk/models/"})}),e.jsx("p",{children:e.jsx("strong",{children:"Re-download the model:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull <model-name> --local"})}),e.jsx("p",{children:e.jsx("strong",{children:"Verify model integrity:"})}),e.jsx("p",{children:"By default, Kronk skips integrity checks. To force verification:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --ignore-integrity-check=false"})}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "failed to retrieve model template"'})}),e.jsx("p",{children:"The model's chat template is missing."}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Ensure templates are downloaded:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk catalog pull-templates --local"})}),e.jsx("h3",{id:"143-memory-errors",children:"14.3 Memory Errors"}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "unable to init context" or "unable to get memory"'})}),e.jsx("p",{children:"Insufficient memory for the model configuration."}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Context window too large"}),e.jsx("li",{children:"Too many batch slots"}),e.jsx("li",{children:"Model too large for available RAM/VRAM"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solutions:"})}),e.jsx("p",{children:"Reduce context window:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    context_window: 8192 # Reduce from 32768`})}),e.jsx("p",{children:"Reduce batch parallelism:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    n_seq_max: 1 # Single request at a time`})}),e.jsx("p",{children:"Use quantized KV cache:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    cache-type-k: q8_0 # Saves ~50% KV cache memory
    cache-type-v: q8_0`})}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "context window is full"'})}),e.jsx("p",{children:"The request plus context exceeds the configured context window."}),e.jsx("p",{children:e.jsx("strong",{children:"Solutions:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Reduce input size (fewer messages or shorter prompts)"}),e.jsxs("li",{children:["Increase ",e.jsx("code",{children:"context_window"})," in model config"]}),e.jsx("li",{children:"Enable YaRN for extended context (see Chapter 6)"})]}),e.jsx("h3",{id:"144-request-timeouts",children:"14.4 Request Timeouts"}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "context deadline exceeded"'})}),e.jsx("p",{children:"The request took longer than the configured timeout."}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Model too slow for the request size"}),e.jsx("li",{children:"Large prefill with many tokens"}),e.jsx("li",{children:"Server under heavy load"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solutions:"})}),e.jsx("p",{children:"Increase HTTP timeouts:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk server start \\
  --read-timeout 5m \\
  --write-timeout 30m`})}),e.jsx("p",{children:"Or via environment variables:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_READ_TIMEOUT=5m
export KRONK_WRITE_TIMEOUT=30m`})}),e.jsx("h3",{id:"145-authentication-errors",children:"14.5 Authentication Errors"}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "unauthorized: no authorization header"'})}),e.jsx("p",{children:"Authentication is enabled but no token was provided."}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Include the Authorization header:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`curl http://localhost:8080/v1/chat/completions \\
  -H "Authorization: Bearer $(cat ~/.kronk/keys/master.jwt)" \\
  -H "Content-Type: application/json" \\
  -d '{...}'`})}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "invalid token"'})}),e.jsx("p",{children:"The token is malformed, expired, or signed with an unknown key."}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Token has expired (check ",e.jsx("code",{children:"--duration"})," when created)"]}),e.jsx("li",{children:"Signing key was deleted"}),e.jsx("li",{children:"Token is corrupted"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Create a new token:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`export KRONK_TOKEN=$(cat ~/.kronk/keys/master.jwt)
kronk security token create \\
  --duration 720h \\
  --endpoints chat-completions,embeddings`})}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "endpoint not authorized"'})}),e.jsx("p",{children:"The token doesn't include the requested endpoint."}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Create a new token with the required endpoints:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 720h \\
  --endpoints chat-completions,embeddings,rerank,responses,messages`})}),e.jsx("p",{children:e.jsx("strong",{children:'Error: "rate limit exceeded"'})}),e.jsx("p",{children:"The token has exceeded its rate limit."}),e.jsx("p",{children:e.jsx("strong",{children:"Solution:"})}),e.jsx("p",{children:"Wait for the rate limit window to reset, or create a new token with"}),e.jsx("p",{children:"higher limits:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`kronk security token create \\
  --duration 720h \\
  --endpoints "chat-completions:10000/day"`})}),e.jsx("h3",{id:"146-streaming-issues",children:"14.6 Streaming Issues"}),e.jsx("p",{children:e.jsx("strong",{children:"Problem: Streaming stops mid-response"})}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Client disconnected"}),e.jsx("li",{children:"Request timeout"}),e.jsx("li",{children:"Model generated stop token"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Check server logs:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# Look for errors in server output
kronk server start  # Run in foreground to see logs`})}),e.jsx("p",{children:e.jsx("strong",{children:"Problem: SSE events not parsing correctly"})}),e.jsx("p",{children:"Ensure your client handles Server-Sent Events format:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:'data: {"id":"...","choices":[...]}\\n\\n'})}),e.jsxs("p",{children:["Each event is prefixed with ",e.jsx("code",{children:"data: "})," and ends with two newlines."]}),e.jsx("h3",{id:"147-performance-issues",children:"14.7 Performance Issues"}),e.jsx("p",{children:e.jsx("strong",{children:"Problem: Slow time to first token (TTFT)"})}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Large system prompt not cached"}),e.jsx("li",{children:"No message caching enabled"}),e.jsx("li",{children:"Cold model load"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solutions:"})}),e.jsx("p",{children:"Enable system prompt caching:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    system_prompt_cache: true`})}),e.jsx("p",{children:"Or enable incremental message cache for agents:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    incremental_cache: true
    max_cache_sessions: 4`})}),e.jsx("p",{children:e.jsx("strong",{children:"Problem: Slow token generation (tokens/second)"})}),e.jsx("p",{children:e.jsx("strong",{children:"Causes:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"CPU inference instead of GPU"}),e.jsx("li",{children:"Insufficient GPU layers"}),e.jsx("li",{children:"Large model for available hardware"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Solutions:"})}),e.jsx("p",{children:"Check GPU is being used:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# On macOS, check Metal usage
sudo powermetrics --samplers gpu_power

# On Linux with NVIDIA
nvidia-smi`})}),e.jsx("p",{children:"Increase GPU layers:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-yaml",children:`models:
  Qwen3-8B-Q8_0:
    gpu_layers: 99 # Offload all layers to GPU`})}),e.jsx("h3",{id:"148-viewing-logs",children:"14.8 Viewing Logs"}),e.jsx("p",{children:e.jsx("strong",{children:"Run server in foreground:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start"})}),e.jsx("p",{children:"All logs print to stdout with structured JSON format."}),e.jsx("p",{children:e.jsx("strong",{children:"Enable verbose logging:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --insecure-logging"})}),e.jsx("p",{children:"This logs full message content (never use in production)."}),e.jsx("p",{children:e.jsx("strong",{children:"Enable llama.cpp logging:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --llama-log 1"})}),e.jsx("p",{children:"Shows low-level inference engine messages."}),e.jsx("p",{children:e.jsx("strong",{children:"Disable llama.cpp logging:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"kronk server start --llama-log 0"})}),e.jsx("h3",{id:"149-common-error-messages",children:"14.9 Common Error Messages"}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Error"}),e.jsx("th",{children:"Cause"}),e.jsx("th",{children:"Solution"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"Init() not called"})}),e.jsx("td",{children:"Missing initialization"}),e.jsxs("td",{children:["Call ",e.jsx("code",{children:"kronk.Init()"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"unknown device"})}),e.jsx("td",{children:"Invalid GPU setting"}),e.jsxs("td",{children:["Check ",e.jsx("code",{children:"--device"})," flag"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"context deadline"})}),e.jsx("td",{children:"Request timeout"}),e.jsx("td",{children:"Increase timeouts"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"unable to load model"})}),e.jsx("td",{children:"Missing/corrupt model"}),e.jsx("td",{children:"Re-download model"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"no authorization"})}),e.jsx("td",{children:"Missing token"}),e.jsx("td",{children:"Add Bearer token"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rate limit exceeded"})}),e.jsx("td",{children:"Quota exhausted"}),e.jsx("td",{children:"Wait or increase limit"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"context window full"})}),e.jsx("td",{children:"Input too large"}),e.jsx("td",{children:"Reduce input size"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"NBatch overflow"})}),e.jsx("td",{children:"Batch too large"}),e.jsxs("td",{children:["Reduce ",e.jsx("code",{children:"n_batch"})]})]})]})]}),e.jsx("h3",{id:"1410-getting-help",children:"14.10 Getting Help"}),e.jsx("p",{children:e.jsx("strong",{children:"Check server status:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/liveness"})}),e.jsx("p",{children:e.jsx("strong",{children:"List loaded models:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8080/v1/models"})}),e.jsx("p",{children:e.jsx("strong",{children:"Check metrics:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8090/metrics"})}),e.jsx("p",{children:e.jsx("strong",{children:"View goroutine stacks (for hangs):"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"curl http://localhost:8090/debug/pprof/goroutine?debug=2"})}),e.jsx("p",{children:e.jsx("strong",{children:"Report issues:"})}),e.jsx("p",{children:"Include the following when reporting bugs:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Kronk version (",e.jsx("code",{children:"kronk --version"}),")"]}),e.jsx("li",{children:"Operating system and architecture"}),e.jsx("li",{children:"GPU type and driver version"}),e.jsx("li",{children:"Model name and configuration"}),e.jsx("li",{children:"Full error message and stack trace"}),e.jsx("li",{children:"Steps to reproduce"})]}),e.jsx("hr",{}),e.jsxs("p",{children:["_Next: ",e.jsx("a",{href:"#chapter-15-developer-guide",children:"Chapter 15: Developer Guide"}),"_"]}),e.jsx("h2",{id:"chapter-15:-developer-guide",children:"Chapter 15: Developer Guide"}),e.jsx("p",{children:"This chapter covers development workflows, build commands, and code"}),e.jsx("p",{children:"conventions for contributors to the Kronk project."}),e.jsx("h3",{id:"151-quick-reference",children:"15.1 Quick Reference"}),e.jsx("p",{children:"Here is a quick chart of some of the more imporant make commands."}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task"}),e.jsx("th",{children:"Command"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Install CLI"}),e.jsxs("td",{children:[e.jsx("code",{children:"make install-kronk"}),"."]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Run all tests"}),e.jsx("td",{children:e.jsx("code",{children:"make test"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Single test"}),e.jsx("td",{children:e.jsx("code",{children:"go test -v -count=1 -run TestName ./sdk/kronk/..."})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Run server"}),e.jsx("td",{children:e.jsx("code",{children:"make kronk-server"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Build BUI"}),e.jsx("td",{children:e.jsx("code",{children:"make bui-build"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Generate docs"}),e.jsx("td",{children:e.jsx("code",{children:"make kronk-docs"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Tidy modules"}),e.jsx("td",{children:e.jsx("code",{children:"make tidy"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Update deps"}),e.jsx("td",{children:e.jsx("code",{children:"make deps-upgrade"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Lint"}),e.jsx("td",{children:e.jsx("code",{children:"staticcheck ./..."})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Developer setup"}),e.jsxs("td",{children:[e.jsx("code",{children:"make setup"})," (configures git hooks)"]})]})]})]}),e.jsx("h3",{id:"152-build-test-commands",children:"15.2 Build & Test Commands"}),e.jsx("p",{children:e.jsx("strong",{children:"Install CLI locally:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go install ./cmd/kronk"})}),e.jsx("p",{children:e.jsx("strong",{children:"Run all tests:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"make test"})}),e.jsx("p",{children:"Tests require prerequisites and environment variables:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:`# Install dependencies first
make install-libraries install-models

# Set required environment variables
export RUN_IN_PARALLEL=yes
export GITHUB_WORKSPACE=/path/to/kronk  # project root

# Run from project root directory
make test`})}),e.jsx("p",{children:e.jsx("strong",{children:"Run a single test:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go test -v -count=1 -run TestName ./sdk/kronk/..."})}),e.jsx("h3",{id:"153-developer-setup",children:"15.3 Developer Setup"}),e.jsx("p",{children:"Configure git hooks for automatic pre-commit checks:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"make setup"})}),e.jsx("p",{children:"This enables a pre-commit hook that automatically runs:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"make kronk-docs"})," - Regenerates documentation"]}),e.jsxs("li",{children:[e.jsx("code",{children:"make bui-build"})," - Rebuilds the BUI frontend"]})]}),e.jsx("h3",{id:"154-project-architecture",children:"15.4 Project Architecture"}),e.jsx("p",{children:e.jsx("strong",{children:"Directory Structure:"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Directory"}),e.jsx("th",{children:"Purpose"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"cmd/kronk/"})}),e.jsx("td",{children:"CLI tool (subcommands: catalog, libs, model, run, security, server)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"cmd/server/"})}),e.jsx("td",{children:"OpenAI-compatible model server (gRPC + HTTP) with BUI frontend"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"cmd/server/api/tooling/docs/"})}),e.jsx("td",{children:"Documentation generator for BUI (SDK and CLI docs)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"sdk/kronk/"})}),e.jsx("td",{children:"Core API: model loading, chat, embeddings, cache, metrics"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"sdk/kronk/model/"})}),e.jsx("td",{children:"Core inference and caching engine"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"sdk/kronk/observ/"})}),e.jsx("td",{children:"Observability packages (metrics/, otel/)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"sdk/tools/"})}),e.jsx("td",{children:"Support for libs, models, catalogs, templates, and defaults"})]})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Core Technology:"})}),e.jsxs("p",{children:["Kronk uses ",e.jsx("a",{href:"https://github.com/hybridgroup/yzma",children:"yzma"})," (llama.cpp Go bindings)"]}),e.jsx("p",{children:"for local inference with GGUF models."}),e.jsx("h3",{id:"155-bui-frontend-development",children:"15.5 BUI Frontend Development"}),e.jsx("p",{children:"The Browser UI is a React application located at:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{children:"cmd/server/api/frontends/bui/src/"})}),e.jsx("p",{children:e.jsx("strong",{children:"Directory Structure:"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Directory/File"}),e.jsx("th",{children:"Purpose"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"components/"})}),e.jsx("td",{children:"React components (pages and UI elements)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"contexts/"})}),e.jsx("td",{children:"React context providers for shared state"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"services/"})}),e.jsxs("td",{children:["API client (",e.jsx("code",{children:"api.ts"}),")"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"types/"})}),e.jsx("td",{children:"TypeScript type definitions"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"App.tsx"})}),e.jsx("td",{children:"Main app with routing configuration"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"index.css"})}),e.jsx("td",{children:"Global styles (CSS variables, component styles)"})]})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Routing:"})}),e.jsxs("p",{children:["Uses ",e.jsx("code",{children:"react-router-dom"})," with ",e.jsx("code",{children:"BrowserRouter"}),". Routes are defined in"]}),e.jsxs("p",{children:[e.jsx("code",{children:"routeMap"})," in ",e.jsx("code",{children:"App.tsx"}),"."]}),e.jsx("p",{children:e.jsx("strong",{children:"Adding New Pages:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Create component in ",e.jsx("code",{children:"components/"})," (e.g., ",e.jsx("code",{children:"DocsSDKKronk.tsx"}),")"]}),e.jsxs("li",{children:["Add page type to ",e.jsx("code",{children:"Page"})," union in ",e.jsx("code",{children:"App.tsx"})]}),e.jsxs("li",{children:["Add route path to ",e.jsx("code",{children:"routeMap"})," in ",e.jsx("code",{children:"App.tsx"})]}),e.jsxs("li",{children:["Add ",e.jsx("code",{children:"<Route>"})," element in ",e.jsx("code",{children:"App.tsx"})]}),e.jsxs("li",{children:["Add ",e.jsx("code",{children:"<Link>"})," entry to menu in ",e.jsx("code",{children:"components/Layout.tsx"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Menu Structure (<code>Layout.tsx</code>):"})}),e.jsxs("p",{children:["Uses ",e.jsx("code",{children:"MenuCategory[]"})," with properties:"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"id"})," - Unique identifier"]}),e.jsxs("li",{children:[e.jsx("code",{children:"label"})," - Display text"]}),e.jsxs("li",{children:[e.jsx("code",{children:"items"})," - Array of leaf pages"]}),e.jsxs("li",{children:[e.jsx("code",{children:"subcategories"})," - Nested menu categories"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"State Management:"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Context"}),e.jsx("th",{children:"Purpose"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"TokenContext"})}),e.jsxs("td",{children:["Stores API token in localStorage (key: ",e.jsx("code",{children:"kronk_token"}),")"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"ModelListContext"})}),e.jsx("td",{children:"Caches model list data with invalidation support"})]})]})]}),e.jsxs("p",{children:["Access via hooks: ",e.jsx("code",{children:"useToken()"}),", ",e.jsx("code",{children:"useModelList()"})]}),e.jsx("p",{children:e.jsx("strong",{children:"API Service (<code>services/api.ts</code>):"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"ApiService"})," class with methods for all endpoints"]}),e.jsx("li",{children:"Streaming support for pull operations (models, catalog, libs)"}),e.jsx("li",{children:"Auth-required endpoints accept token parameter"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Styling Conventions:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["CSS variables defined in ",e.jsx("code",{children:":root"})," (colors: ",e.jsx("code",{children:"--color-orange"}),", ",e.jsx("code",{children:"--color-blue"}),", etc.)"]}),e.jsxs("li",{children:["Common classes: ",e.jsx("code",{children:".card"}),", ",e.jsx("code",{children:".btn"}),", ",e.jsx("code",{children:".btn-primary"}),", ",e.jsx("code",{children:".form-group"}),", ",e.jsx("code",{children:".alert"}),", ",e.jsx("code",{children:".table-container"})]}),e.jsx("li",{children:"No CSS modules or styled-components; use global CSS classes"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Documentation Generation:"})}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Generator Location"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"SDK docs"}),e.jsxs("td",{children:[e.jsx("code",{children:"cmd/server/api/tooling/docs/sdk/"})," (uses ",e.jsx("code",{children:"go doc"})," output)"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"CLI docs"}),e.jsxs("td",{children:[e.jsx("code",{children:"cmd/server/api/tooling/docs/cli/"})," (from command definitions)"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Examples"}),e.jsxs("td",{children:["Auto-generated from ",e.jsx("code",{children:"examples/"})," directory"]})]})]})]}),e.jsx("p",{children:"Generate all documentation:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"go run ./cmd/server/api/tooling/docs -pkg=all"})}),e.jsx("h3",{id:"156-code-style-guidelines",children:"15.6 Code Style Guidelines"}),e.jsx("p",{children:e.jsx("strong",{children:"Package Comments:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:"// Package kronk provides the core inference API."})}),e.jsx("p",{children:e.jsx("strong",{children:"Error Handling:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`// Wrap errors with lowercase context prefix
return fmt.Errorf("loading model: %w", err)

// Declare package-level sentinel errors
var ErrModelNotFound = errors.New("model not found")`})}),e.jsx("p",{children:e.jsx("strong",{children:"Struct Design:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Use unexported fields with exported types"}),e.jsxs("li",{children:["Use ",e.jsx("code",{children:"Config"})," pattern for constructors"]})]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`type Config struct {
    Host string
    Port int
}

func New(cfg Config) *Server {
    // ...
}`})}),e.jsx("p",{children:e.jsx("strong",{children:"Testing:"})}),e.jsx("p",{children:"Disable CGO in tests:"}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-shell",children:"CGO_ENABLED=0 go test ./..."})}),e.jsx("p",{children:e.jsx("strong",{children:"Import Order (goimports):"})}),e.jsxs("ol",{children:[e.jsx("li",{children:"Standard library"}),e.jsx("li",{children:"External packages"}),e.jsx("li",{children:"Internal packages"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Control Flow:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Avoid ",e.jsx("code",{children:"else"})," and ",e.jsx("code",{children:"else if"})," clauses"]}),e.jsxs("li",{children:["Prefer ",e.jsx("code",{children:"switch"})," statements or early returns"]})]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`// Preferred: early return
if err != nil {
    return err
}
// continue with main logic

// Preferred: switch over if-else chains
switch state {
case "active":
    // ...

case "pending":
    // ...

default:
    // ...
}`})}),e.jsx("h3",{id:"157-sdk-internals",children:"15.7 SDK Internals"}),e.jsx("p",{children:"This section documents implementation details for developers working on"}),e.jsx("p",{children:"the Kronk SDK packages."}),e.jsx("h4",{id:"1571-package-structure",children:"15.7.1 Package Structure"}),e.jsxs("p",{children:[e.jsx("strong",{children:"sdk/kronk/"})," - Core API package:"]}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"File"}),e.jsx("th",{children:"Purpose"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"acquire.go"})}),e.jsx("td",{children:"Model pool acquire/release"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"chat.go"})}),e.jsx("td",{children:"Chat completion API"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"concurrency.go"})}),e.jsx("td",{children:"Generic streaming utilities"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"embedding.go"})}),e.jsx("td",{children:"Embedding API"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"init.go"})}),e.jsx("td",{children:"Initialization and configuration"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"kronk.go"})}),e.jsx("td",{children:"Main Kronk type, model pool management"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rerank.go"})}),e.jsx("td",{children:"Reranking API"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"response.go"})}),e.jsx("td",{children:"OpenAI Responses API streaming"})]})]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"sdk/kronk/model/"})," - Low-level inference:"]}),e.jsxs("table",{className:"flags-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"File"}),e.jsx("th",{children:"Purpose"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"batch.go"})}),e.jsx("td",{children:"Batch engine for parallel text inference"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"caching.go"})}),e.jsx("td",{children:"System prompt and IMC cache management"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"chat.go"})}),e.jsx("td",{children:"Chat inference loop, batch vs sequential routing"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"config.go"})}),e.jsx("td",{children:"Model configuration (GPU, cache, batching)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"embed.go"})}),e.jsx("td",{children:"Embedding inference"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"logprobs.go"})}),e.jsx("td",{children:"Token log probability extraction"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"media.go"})}),e.jsx("td",{children:"Vision/audio media processing"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"model.go"})}),e.jsx("td",{children:"Model type, context management, lifecycle"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"models.go"})}),e.jsx("td",{children:"OpenAI-compatible types (ChatMessage, ToolCall, etc.)"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"params.go"})}),e.jsx("td",{children:"Sampling parameters"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"processor.go"})}),e.jsx("td",{children:"Template-specific token processors"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"prompts.go"})}),e.jsx("td",{children:"Prompt formatting"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:"rerank.go"})}),e.jsx("td",{children:"Reranking inference"})]})]})]}),e.jsx("h4",{id:"1572-streaming-architecture",children:"15.7.2 Streaming Architecture"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Response Streaming Pattern"})," (",e.jsx("code",{children:"response.go"}),", ",e.jsx("code",{children:"concurrency.go"}),"):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Uses ",e.jsx("code",{children:"streamingWith[T, U]"})," generic function for 1:N event transformation"]}),e.jsxs("li",{children:[e.jsx("code",{children:"streamProcessor"})," has three phases: ",e.jsx("code",{children:"Start()"}),", ",e.jsx("code",{children:"Process(chunk)"}),", ",e.jsx("code",{children:"Complete(lastChunk)"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"streamState"})," struct maintains response ID, sequence numbers, aggregated usage"]}),e.jsxs("li",{children:["SSE format: ",e.jsx("code",{children:"event: <type>\\ndata: <json>\\n\\n"})]})]}),e.jsx("p",{children:e.jsx("strong",{children:"FinishReason Handling:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"FinishReasonPtr *string"})," field with ",e.jsx("code",{children:"FinishReason()"})," accessor"]}),e.jsxs("li",{children:["Constants: ",e.jsx("code",{children:'FinishReasonStop="stop"'}),", ",e.jsx("code",{children:'FinishReasonTool="tool_calls"'}),", ",e.jsx("code",{children:'FinishReasonError="error"'})]}),e.jsxs("li",{children:["When ",e.jsx("code",{children:"FinishReasonPtr != nil"}),", skip text/reasoning deltas (they duplicate previous content)"]}),e.jsx("li",{children:"Always process tool calls even with FinishReason set (may only arrive in final chunk)"})]}),e.jsx("h4",{id:"1573-model-pool-strategy",children:"15.7.3 Model Pool Strategy"}),e.jsxs("p",{children:[e.jsx("code",{children:"NSeqMax"})," behaves differently depending on model type:"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sequential Models"})," (embed, rerank, vision/audio):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"NSeqMax"})," controls the number of model instances in the pool"]}),e.jsx("li",{children:"Each instance handles one request at a time (single-flight)"}),e.jsxs("li",{children:["Pooled via ",e.jsx("code",{children:"krn.pool"})," channel for concurrent request handling"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Text Inference Models"})," (chat, completion):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"NSeqMax"})," controls batch parallelism within a single model instance"]}),e.jsxs("li",{children:["Only one ",e.jsx("code",{children:"model.Model"})," instance is created"]}),e.jsxs("li",{children:["Semaphore capacity = ",e.jsx("code",{children:"NSeqMax * queueDepth"})," (default queueDepth=2)"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Detection Logic"})," (",e.jsx("code",{children:"kronk.go"}),"):"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`isSingleFlight := cfg.ProjFile != ""  // Vision/audio projector
if mi.IsEmbedModel || mi.IsRerankModel {
    isSingleFlight = true
}`})}),e.jsx("h4",{id:"1574-model-acquirerelease-cleanup",children:"15.7.4 Model Acquire/Release & Cleanup"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Two-Stage Acquisition"})," (",e.jsx("code",{children:"acquire.go"}),"):"]}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Backpressure slot"}),": Acquire semaphore slot (limits total in-flight requests)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Model instance"}),": If pooled, acquire specific model from pool channel"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"Cleanup Flow:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"streaming()"})," acquires model, defers ",e.jsx("code",{children:"releaseModel()"})," in wrapper goroutine"]}),e.jsxs("li",{children:[e.jsx("code",{children:"ChatStreaming"})," defers ",e.jsx("code",{children:"m.resetContext()"})," before any processing"]}),e.jsxs("li",{children:["When generation completes, ",e.jsx("code",{children:"resetContext()"})," runs first:"]})]}),e.jsxs("p",{children:["   - ",e.jsx("code",{children:"llama.Synchronize(m.lctx)"})," - waits for GPU operations"]}),e.jsxs("p",{children:["   - ",e.jsx("code",{children:"llama.MemoryClear(mem, true)"})," - clears KV cache"]}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Channel closes, wrapper exits, ",e.jsx("code",{children:"releaseModel()"})," runs"]}),e.jsx("li",{children:"Model returns to pool in clean state"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Key invariant:"})," ",e.jsx("code",{children:"resetContext()"})," always runs before model release due to defer ordering."]}),e.jsx("h4",{id:"1575-batch-engine-internals",children:"15.7.5 Batch Engine Internals"}),e.jsxs("p",{children:[e.jsx("strong",{children:"ChatStreaming Decision Logic"})," (",e.jsx("code",{children:"chat.go"}),"):"]}),e.jsxs("p",{children:["The ",e.jsx("code",{children:"submitToBatchEngine()"})," function decides the processing path:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`// submitToBatchEngine returns false if batch not available.
if m.batch == nil || object != ObjectChatText {
    return false
}
// Submit job to batch engine...
return true`})}),e.jsxs("p",{children:["If ",e.jsx("code",{children:"submitToBatchEngine()"})," returns false, the sequential path is used:"]}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`if m.submitToBatchEngine(...) {
    batching = true
    return
}
m.sequentialChatRequest(...)`})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Batch Engine Architecture"})," (",e.jsx("code",{children:"batch.go"}),"):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"batchEngine"})," manages ",e.jsx("code",{children:"nSlots"})," parallel ",e.jsx("code",{children:"slot"})," structs"]}),e.jsxs("li",{children:["Each slot tracks: ",e.jsx("code",{children:"seqID"}),", prompt tokens, decode state, sampler, response channel, logprobs, prefill state"]}),e.jsxs("li",{children:["Signal-based wake pattern: ",e.jsx("code",{children:"wakeCh chan struct{}"})," (buffered size 1) wakes immediately on new requests"]}),e.jsx("li",{children:"Polling intervals: 100s (active slots generating), 5ms (idle, no active slots)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Slots vs Sequences:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"slot.id"})," = slot index (for logging)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"slot.seqID"})," = llama.cpp sequence ID (determines KV cache partition)"]}),e.jsxs("li",{children:[e.jsx("code",{children:"slot.seqIDs"})," = pre-allocated slice for efficient ",e.jsx("code",{children:"batchAdd"})," calls"]})]}),e.jsx("p",{children:"Sequences are isolated partitions in the shared KV cache memory. Slot seqIDs"}),e.jsx("p",{children:"are offset when caching is enabled (both SPC and IMC use seqs 0 to"}),e.jsx("p",{children:"MaxCacheSessions-1)."}),e.jsx("h4",{id:"1576-context-pooling",children:"15.7.6 Context Pooling"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"llama.Context"})," is created once in ",e.jsx("code",{children:"NewModel"})," and reused across requests"]}),e.jsxs("li",{children:["Call ",e.jsx("code",{children:"resetContext()"})," between requests to clear KV cache"]}),e.jsx("li",{children:"Avoids Vulkan memory fragmentation from repeated context alloc/dealloc"})]}),e.jsx("h4",{id:"1577-imc-implementation-details",children:"15.7.7 IMC Implementation Details"}),e.jsx("p",{children:e.jsx("strong",{children:"Critical Implementation Details:"})}),e.jsx("ol",{children:e.jsxs("li",{children:[e.jsx("strong",{children:"Extension tokenization must use <code>special=true</code>"}),": Use ",e.jsx("code",{children:"llama.Tokenize(vocab, extension, false, true)"})," to ensure ChatML tokens like ",e.jsx("code",{children:"<|im_start|>"})," are recognized."]})}),e.jsx("ol",{children:e.jsxs("li",{children:[e.jsx("strong",{children:"Prefix mismatch detection"}),": Use ",e.jsx("code",{children:"strings.HasPrefix(fullPrompt, prefixPrompt)"})," to detect Jinja template nondeterminism."]})}),e.jsx("ol",{children:e.jsxs("li",{children:[e.jsx("strong",{children:"<code>add_generation_prompt=false</code> for cached prefixes"}),": Creates valid prefix for extension. Generation prompt added only for final suffix."]})}),e.jsx("p",{children:e.jsx("strong",{children:"IMC Algorithm:"})}),e.jsxs("ol",{children:[e.jsxs("li",{children:["First request (cache empty): Cache ",e.jsx("code",{children:"messages[0:len-1]"}),", generate from last message"]}),e.jsxs("li",{children:["Subsequent requests (prefix match): Extend cache with ",e.jsx("code",{children:"messages[cachedCount:len-1]"})]}),e.jsx("li",{children:"New thread (prefix mismatch): Rebuild cache from scratch"})]}),e.jsx("p",{children:e.jsx("strong",{children:"IMC Session State:"})}),e.jsx("pre",{className:"code-block",children:e.jsx("code",{className:"language-go",children:`type imcSession struct {
    hash      string      // Hash of all cached messages
    tokens    int         // Total tokens in cache
    msgCount  int         // Number of messages cached
    promptLen int         // Length of templated prefix
    seqID     llama.SeqId // Assigned cache sequence ID
    lastUsed  time.Time   // For future eviction
}`})}),e.jsx("h4",{id:"1578-tool-call-internals",children:"15.7.8 Tool Call Internals"}),e.jsxs("p",{children:[e.jsx("strong",{children:"chatMessage Unmarshaling"})," (",e.jsx("code",{children:"models.go"}),"):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"Content"})," can be ",e.jsx("code",{children:"nil"})," for assistant messages with tool_calls"]}),e.jsxs("li",{children:["Handle ",e.jsx("code",{children:'len(app.Content) == 0 || string(app.Content) == "null"'})," as valid empty content"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"ToolCallArguments Type:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Custom type that marshals to JSON string (OpenAI spec)"}),e.jsx("li",{children:"Unmarshals from either string or object for non-compliant clients"})]}),e.jsx("h4",{id:"1579-logprobs-implementation",children:"15.7.9 Logprobs Implementation"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Implementation"})," (",e.jsx("code",{children:"logprobs.go"}),"):"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"extractLogprobs()"}),": Retrieves logits via ",e.jsx("code",{children:"llama.GetLogitsIth()"})]}),e.jsxs("li",{children:[e.jsx("code",{children:"logSoftmax()"}),": Numerically stable log-softmax using log-sum-exp trick"]}),e.jsxs("li",{children:[e.jsx("code",{children:"getTopKLogprobs()"}),": Uses min-heap for efficient O(n log k) top-k extraction"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Critical:"})," Logprobs must be extracted ",e.jsx("strong",{children:"before"})," ",e.jsx("code",{children:"llama.SamplerAccept()"})," is called."]}),e.jsx("h3",{id:"158-api-handler-notes",children:"15.8 API Handler Notes"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Input Format Conversion"})," (",e.jsx("code",{children:"cmd/server/app/domain/"}),"):"]}),e.jsx("p",{children:"Both streaming and non-streaming Response APIs must call"}),e.jsxs("p",{children:[e.jsx("code",{children:"convertInputToMessages(d)"})," to handle the OpenAI Responses ",e.jsx("code",{children:"input"})," field"]}),e.jsx("p",{children:"format."}),e.jsx("h3",{id:"159-reference-threads",children:"15.9 Reference Threads"}),e.jsxs("p",{children:["See ",e.jsx("code",{children:"THREADS.md"})," for important past conversations and decisions worth"]}),e.jsx("p",{children:"preserving."})]}),e.jsx("nav",{className:"doc-sidebar",children:e.jsxs("div",{className:"doc-sidebar-content",children:[e.jsx("div",{className:"doc-index-section",children:e.jsx("a",{href:"#table-of-contents",className:`doc-index-header ${n==="table-of-contents"?"active":""}`,children:"Table of Contents"})}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-1:-introduction",className:`doc-index-header ${n==="chapter-1:-introduction"?"active":""}`,children:"Chapter 1: Introduction"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#11-what-is-kronk-model-server",className:n==="11-what-is-kronk-model-server"?"active":"",children:"1.1 What is Kronk Model Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#12-key-features",className:n==="12-key-features"?"active":"",children:"1.2 Key Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#13-supported-platforms-and-hardware",className:n==="13-supported-platforms-and-hardware"?"active":"",children:"1.3 Supported Platforms and Hardware"})}),e.jsx("li",{children:e.jsx("a",{href:"#14-architecture-overview",className:n==="14-architecture-overview"?"active":"",children:"1.4 Architecture Overview"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-2:-installation-quick-start",className:`doc-index-header ${n==="chapter-2:-installation-quick-start"?"active":""}`,children:"Chapter 2: Installation & Quick Start"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#21-prerequisites",className:n==="21-prerequisites"?"active":"",children:"2.1 Prerequisites"})}),e.jsx("li",{children:e.jsx("a",{href:"#22-installing-the-cli",className:n==="22-installing-the-cli"?"active":"",children:"2.2 Installing the CLI"})}),e.jsx("li",{children:e.jsx("a",{href:"#23-installing-libraries",className:n==="23-installing-libraries"?"active":"",children:"2.3 Installing Libraries"})}),e.jsx("li",{children:e.jsx("a",{href:"#24-downloading-your-first-model",className:n==="24-downloading-your-first-model"?"active":"",children:"2.4 Downloading Your First Model"})}),e.jsx("li",{children:e.jsx("a",{href:"#25-starting-the-server",className:n==="25-starting-the-server"?"active":"",children:"2.5 Starting the Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#26-verifying-the-installation",className:n==="26-verifying-the-installation"?"active":"",children:"2.6 Verifying the Installation"})}),e.jsx("li",{children:e.jsx("a",{href:"#27-quick-start-summary",className:n==="27-quick-start-summary"?"active":"",children:"2.7 Quick Start Summary"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-3:-model-configuration",className:`doc-index-header ${n==="chapter-3:-model-configuration"?"active":""}`,children:"Chapter 3: Model Configuration"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#31-basic-configuration",className:n==="31-basic-configuration"?"active":"",children:"3.1 Basic Configuration"})}),e.jsx("li",{children:e.jsx("a",{href:"#32-sampling-parameters",className:n==="32-sampling-parameters"?"active":"",children:"3.2 Sampling Parameters"})}),e.jsx("li",{children:e.jsx("a",{href:"#33-gpu-configuration",className:n==="33-gpu-configuration"?"active":"",children:"3.3 GPU Configuration"})}),e.jsx("li",{children:e.jsx("a",{href:"#34-kv-cache-quantization",className:n==="34-kv-cache-quantization"?"active":"",children:"3.4 KV Cache Quantization"})}),e.jsx("li",{children:e.jsx("a",{href:"#35-flash-attention",className:n==="35-flash-attention"?"active":"",children:"3.5 Flash Attention"})}),e.jsx("li",{children:e.jsx("a",{href:"#36-parallel-inference-nseqmax",className:n==="36-parallel-inference-nseqmax"?"active":"",children:"3.6 Parallel Inference (NSeqMax)"})}),e.jsx("li",{children:e.jsx("a",{href:"#37-vram-estimation",className:n==="37-vram-estimation"?"active":"",children:"3.7 VRAM Estimation"})}),e.jsx("li",{children:e.jsx("a",{href:"#38-model-config-file-example",className:n==="38-model-config-file-example"?"active":"",children:"3.8 Model Config File Example"})}),e.jsx("li",{children:e.jsx("a",{href:"#39-model-specific-tuning",className:n==="39-model-specific-tuning"?"active":"",children:"3.9 Model-Specific Tuning"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-4:-batch-processing",className:`doc-index-header ${n==="chapter-4:-batch-processing"?"active":""}`,children:"Chapter 4: Batch Processing"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#41-architecture-overview",className:n==="41-architecture-overview"?"active":"",children:"4.1 Architecture Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#42-slots-and-sequences",className:n==="42-slots-and-sequences"?"active":"",children:"4.2 Slots and Sequences"})}),e.jsx("li",{children:e.jsx("a",{href:"#43-request-flow",className:n==="43-request-flow"?"active":"",children:"4.3 Request Flow"})}),e.jsx("li",{children:e.jsx("a",{href:"#44-configuring-batch-processing",className:n==="44-configuring-batch-processing"?"active":"",children:"4.4 Configuring Batch Processing"})}),e.jsx("li",{children:e.jsx("a",{href:"#45-batch-vs-sequential-models",className:n==="45-batch-vs-sequential-models"?"active":"",children:"4.5 Batch vs Sequential Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#46-performance-tuning",className:n==="46-performance-tuning"?"active":"",children:"4.6 Performance Tuning"})}),e.jsx("li",{children:e.jsx("a",{href:"#47-example-configuration",className:n==="47-example-configuration"?"active":"",children:"4.7 Example Configuration"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-5:-message-caching",className:`doc-index-header ${n==="chapter-5:-message-caching"?"active":""}`,children:"Chapter 5: Message Caching"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#51-overview",className:n==="51-overview"?"active":"",children:"5.1 Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#52-system-prompt-cache-spc",className:n==="52-system-prompt-cache-spc"?"active":"",children:"5.2 System Prompt Cache (SPC)"})}),e.jsx("li",{children:e.jsx("a",{href:"#53-incremental-message-cache-imc",className:n==="53-incremental-message-cache-imc"?"active":"",children:"5.3 Incremental Message Cache (IMC)"})}),e.jsx("li",{children:e.jsx("a",{href:"#54-multi-user-caching",className:n==="54-multi-user-caching"?"active":"",children:"5.4 Multi-User Caching"})}),e.jsx("li",{children:e.jsx("a",{href:"#55-spc-vs-imc",className:n==="55-spc-vs-imc"?"active":"",children:"5.5 SPC vs IMC"})}),e.jsx("li",{children:e.jsx("a",{href:"#56-cache-invalidation",className:n==="56-cache-invalidation"?"active":"",children:"5.6 Cache Invalidation"})}),e.jsx("li",{children:e.jsx("a",{href:"#57-configuration-reference",className:n==="57-configuration-reference"?"active":"",children:"5.7 Configuration Reference"})}),e.jsx("li",{children:e.jsx("a",{href:"#58-context-window-auto-scaling-imc-only",className:n==="58-context-window-auto-scaling-imc-only"?"active":"",children:"5.8 Context Window Auto-Scaling (IMC Only)"})}),e.jsx("li",{children:e.jsx("a",{href:"#59-performance-and-limitations",className:n==="59-performance-and-limitations"?"active":"",children:"5.9 Performance and Limitations"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-6:-yarn-extended-context",className:`doc-index-header ${n==="chapter-6:-yarn-extended-context"?"active":""}`,children:"Chapter 6: YaRN Extended Context"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#61-understanding-context-extension",className:n==="61-understanding-context-extension"?"active":"",children:"6.1 Understanding Context Extension"})}),e.jsx("li",{children:e.jsx("a",{href:"#62-when-to-use-yarn",className:n==="62-when-to-use-yarn"?"active":"",children:"6.2 When to Use YaRN"})}),e.jsx("li",{children:e.jsx("a",{href:"#63-configuration",className:n==="63-configuration"?"active":"",children:"6.3 Configuration"})}),e.jsx("li",{children:e.jsx("a",{href:"#64-scaling-types",className:n==="64-scaling-types"?"active":"",children:"6.4 Scaling Types"})}),e.jsx("li",{children:e.jsx("a",{href:"#65-parameter-reference",className:n==="65-parameter-reference"?"active":"",children:"6.5 Parameter Reference"})}),e.jsx("li",{children:e.jsx("a",{href:"#66-model-specific-examples",className:n==="66-model-specific-examples"?"active":"",children:"6.6 Model-Specific Examples"})}),e.jsx("li",{children:e.jsx("a",{href:"#67-memory-impact",className:n==="67-memory-impact"?"active":"",children:"6.7 Memory Impact"})}),e.jsx("li",{children:e.jsx("a",{href:"#68-quality-considerations",className:n==="68-quality-considerations"?"active":"",children:"6.8 Quality Considerations"})}),e.jsx("li",{children:e.jsx("a",{href:"#69-example:-long-document-processing",className:n==="69-example:-long-document-processing"?"active":"",children:"6.9 Example: Long Document Processing"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-7:-model-server",className:`doc-index-header ${n==="chapter-7:-model-server"?"active":""}`,children:"Chapter 7: Model Server"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#71-starting-the-server",className:n==="71-starting-the-server"?"active":"",children:"7.1 Starting the Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#72-stopping-the-server",className:n==="72-stopping-the-server"?"active":"",children:"7.2 Stopping the Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#73-server-configuration",className:n==="73-server-configuration"?"active":"",children:"7.3 Server Configuration"})}),e.jsx("li",{children:e.jsx("a",{href:"#74-model-caching",className:n==="74-model-caching"?"active":"",children:"7.4 Model Caching"})}),e.jsx("li",{children:e.jsx("a",{href:"#75-model-config-files",className:n==="75-model-config-files"?"active":"",children:"7.5 Model Config Files"})}),e.jsx("li",{children:e.jsx("a",{href:"#76-catalog-system",className:n==="76-catalog-system"?"active":"",children:"7.6 Catalog System"})}),e.jsx("li",{children:e.jsx("a",{href:"#77-custom-catalog-repository",className:n==="77-custom-catalog-repository"?"active":"",children:"7.7 Custom Catalog Repository"})}),e.jsx("li",{children:e.jsx("a",{href:"#78-templates",className:n==="78-templates"?"active":"",children:"7.8 Templates"})}),e.jsx("li",{children:e.jsx("a",{href:"#79-runtime-settings",className:n==="79-runtime-settings"?"active":"",children:"7.9 Runtime Settings"})}),e.jsx("li",{children:e.jsx("a",{href:"#710-logging",className:n==="710-logging"?"active":"",children:"7.10 Logging"})}),e.jsx("li",{children:e.jsx("a",{href:"#711-data-paths",className:n==="711-data-paths"?"active":"",children:"7.11 Data Paths"})}),e.jsx("li",{children:e.jsx("a",{href:"#712-complete-example",className:n==="712-complete-example"?"active":"",children:"7.12 Complete Example"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-8:-api-endpoints",className:`doc-index-header ${n==="chapter-8:-api-endpoints"?"active":""}`,children:"Chapter 8: API Endpoints"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#81-endpoint-overview",className:n==="81-endpoint-overview"?"active":"",children:"8.1 Endpoint Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#82-chat-completions",className:n==="82-chat-completions"?"active":"",children:"8.2 Chat Completions"})}),e.jsx("li",{children:e.jsx("a",{href:"#83-responses-api",className:n==="83-responses-api"?"active":"",children:"8.3 Responses API"})}),e.jsx("li",{children:e.jsx("a",{href:"#84-embeddings",className:n==="84-embeddings"?"active":"",children:"8.4 Embeddings"})}),e.jsx("li",{children:e.jsx("a",{href:"#85-reranking",className:n==="85-reranking"?"active":"",children:"8.5 Reranking"})}),e.jsx("li",{children:e.jsx("a",{href:"#86-tool-calling-function-calling",className:n==="86-tool-calling-function-calling"?"active":"",children:"8.6 Tool Calling (Function Calling)"})}),e.jsx("li",{children:e.jsx("a",{href:"#87-logprobs-token-probabilities",className:n==="87-logprobs-token-probabilities"?"active":"",children:"8.7 Logprobs (Token Probabilities)"})}),e.jsx("li",{children:e.jsx("a",{href:"#88-models-list",className:n==="88-models-list"?"active":"",children:"8.8 Models List"})}),e.jsx("li",{children:e.jsx("a",{href:"#89-using-cache-id-with-api-requests",className:n==="89-using-cache-id-with-api-requests"?"active":"",children:"8.9 Using Cache ID with API Requests"})}),e.jsx("li",{children:e.jsx("a",{href:"#810-authentication",className:n==="810-authentication"?"active":"",children:"8.10 Authentication"})}),e.jsx("li",{children:e.jsx("a",{href:"#811-error-responses",className:n==="811-error-responses"?"active":"",children:"8.11 Error Responses"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-9:-multi-modal-models",className:`doc-index-header ${n==="chapter-9:-multi-modal-models"?"active":""}`,children:"Chapter 9: Multi-Modal Models"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#91-overview",className:n==="91-overview"?"active":"",children:"9.1 Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#92-vision-models",className:n==="92-vision-models"?"active":"",children:"9.2 Vision Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#93-audio-models",className:n==="93-audio-models"?"active":"",children:"9.3 Audio Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#94-plain-base64-format",className:n==="94-plain-base64-format"?"active":"",children:"9.4 Plain Base64 Format"})}),e.jsx("li",{children:e.jsx("a",{href:"#95-configuration-for-multi-modal-models",className:n==="95-configuration-for-multi-modal-models"?"active":"",children:"9.5 Configuration for Multi-Modal Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#96-memory-requirements",className:n==="96-memory-requirements"?"active":"",children:"9.6 Memory Requirements"})}),e.jsx("li",{children:e.jsx("a",{href:"#97-limitations",className:n==="97-limitations"?"active":"",children:"9.7 Limitations"})}),e.jsx("li",{children:e.jsx("a",{href:"#98-example:-image-analysis",className:n==="98-example:-image-analysis"?"active":"",children:"9.8 Example: Image Analysis"})}),e.jsx("li",{children:e.jsx("a",{href:"#99-example:-audio-transcription",className:n==="99-example:-audio-transcription"?"active":"",children:"9.9 Example: Audio Transcription"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-10:-security-authentication",className:`doc-index-header ${n==="chapter-10:-security-authentication"?"active":""}`,children:"Chapter 10: Security & Authentication"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#101-enabling-authentication",className:n==="101-enabling-authentication"?"active":"",children:"10.1 Enabling Authentication"})}),e.jsx("li",{children:e.jsx("a",{href:"#102-using-the-admin-token",className:n==="102-using-the-admin-token"?"active":"",children:"10.2 Using the Admin Token"})}),e.jsx("li",{children:e.jsx("a",{href:"#103-key-management",className:n==="103-key-management"?"active":"",children:"10.3 Key Management"})}),e.jsx("li",{children:e.jsx("a",{href:"#104-creating-user-tokens",className:n==="104-creating-user-tokens"?"active":"",children:"10.4 Creating User Tokens"})}),e.jsx("li",{children:e.jsx("a",{href:"#105-token-examples",className:n==="105-token-examples"?"active":"",children:"10.5 Token Examples"})}),e.jsx("li",{children:e.jsx("a",{href:"#106-using-tokens-in-api-requests",className:n==="106-using-tokens-in-api-requests"?"active":"",children:"10.6 Using Tokens in API Requests"})}),e.jsx("li",{children:e.jsx("a",{href:"#107-authorization-flow",className:n==="107-authorization-flow"?"active":"",children:"10.7 Authorization Flow"})}),e.jsx("li",{children:e.jsx("a",{href:"#108-rate-limiting",className:n==="108-rate-limiting"?"active":"",children:"10.8 Rate Limiting"})}),e.jsx("li",{children:e.jsx("a",{href:"#109-configuration-reference",className:n==="109-configuration-reference"?"active":"",children:"10.9 Configuration Reference"})}),e.jsx("li",{children:e.jsx("a",{href:"#1010-security-best-practices",className:n==="1010-security-best-practices"?"active":"",children:"10.10 Security Best Practices"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-11:-browser-ui-bui",className:`doc-index-header ${n==="chapter-11:-browser-ui-bui"?"active":""}`,children:"Chapter 11: Browser UI (BUI)"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#111-accessing-the-bui",className:n==="111-accessing-the-bui"?"active":"",children:"11.1 Accessing the BUI"})}),e.jsx("li",{children:e.jsx("a",{href:"#112-downloading-libraries",className:n==="112-downloading-libraries"?"active":"",children:"11.2 Downloading Libraries"})}),e.jsx("li",{children:e.jsx("a",{href:"#113-downloading-models",className:n==="113-downloading-models"?"active":"",children:"11.3 Downloading Models"})}),e.jsx("li",{children:e.jsx("a",{href:"#114-managing-keys-and-tokens",className:n==="114-managing-keys-and-tokens"?"active":"",children:"11.4 Managing Keys and Tokens"})}),e.jsx("li",{children:e.jsx("a",{href:"#115-other-screens",className:n==="115-other-screens"?"active":"",children:"11.5 Other Screens"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-12:-client-integration",className:`doc-index-header ${n==="chapter-12:-client-integration"?"active":""}`,children:"Chapter 12: Client Integration"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#121-openwebui",className:n==="121-openwebui"?"active":"",children:"12.1 OpenWebUI"})}),e.jsx("li",{children:e.jsx("a",{href:"#122-cline",className:n==="122-cline"?"active":"",children:"12.2 Cline"})}),e.jsx("li",{children:e.jsx("a",{href:"#124-python-openai-sdk",className:n==="124-python-openai-sdk"?"active":"",children:"12.4 Python OpenAI SDK"})}),e.jsx("li",{children:e.jsx("a",{href:"#125-curl-and-http-clients",className:n==="125-curl-and-http-clients"?"active":"",children:"12.5 curl and HTTP Clients"})}),e.jsx("li",{children:e.jsx("a",{href:"#126-langchain",className:n==="126-langchain"?"active":"",children:"12.6 LangChain"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-13:-observability",className:`doc-index-header ${n==="chapter-13:-observability"?"active":""}`,children:"Chapter 13: Observability"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#131-debug-server",className:n==="131-debug-server"?"active":"",children:"13.1 Debug Server"})}),e.jsx("li",{children:e.jsx("a",{href:"#132-debug-endpoints",className:n==="132-debug-endpoints"?"active":"",children:"13.2 Debug Endpoints"})}),e.jsx("li",{children:e.jsx("a",{href:"#133-health-check-endpoints",className:n==="133-health-check-endpoints"?"active":"",children:"13.3 Health Check Endpoints"})}),e.jsx("li",{children:e.jsx("a",{href:"#134-prometheus-metrics",className:n==="134-prometheus-metrics"?"active":"",children:"13.4 Prometheus Metrics"})}),e.jsx("li",{children:e.jsx("a",{href:"#135-prometheus-integration",className:n==="135-prometheus-integration"?"active":"",children:"13.5 Prometheus Integration"})}),e.jsx("li",{children:e.jsx("a",{href:"#136-distributed-tracing-with-tempo",className:n==="136-distributed-tracing-with-tempo"?"active":"",children:"13.6 Distributed Tracing with Tempo"})}),e.jsx("li",{children:e.jsx("a",{href:"#137-tracing-architecture",className:n==="137-tracing-architecture"?"active":"",children:"13.7 Tracing Architecture"})}),e.jsx("li",{children:e.jsx("a",{href:"#138-tempo-setup-with-docker",className:n==="138-tempo-setup-with-docker"?"active":"",children:"13.8 Tempo Setup with Docker"})}),e.jsx("li",{children:e.jsx("a",{href:"#139-pprof-profiling",className:n==="139-pprof-profiling"?"active":"",children:"13.9 pprof Profiling"})}),e.jsx("li",{children:e.jsx("a",{href:"#1310-statsviz-real-time-monitoring",className:n==="1310-statsviz-real-time-monitoring"?"active":"",children:"13.10 Statsviz Real-Time Monitoring"})}),e.jsx("li",{children:e.jsx("a",{href:"#1311-logging",className:n==="1311-logging"?"active":"",children:"13.11 Logging"})}),e.jsx("li",{children:e.jsx("a",{href:"#1312-configuration-reference",className:n==="1312-configuration-reference"?"active":"",children:"13.12 Configuration Reference"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-14:-troubleshooting",className:`doc-index-header ${n==="chapter-14:-troubleshooting"?"active":""}`,children:"Chapter 14: Troubleshooting"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#141-library-issues",className:n==="141-library-issues"?"active":"",children:"14.1 Library Issues"})}),e.jsx("li",{children:e.jsx("a",{href:"#142-model-loading-failures",className:n==="142-model-loading-failures"?"active":"",children:"14.2 Model Loading Failures"})}),e.jsx("li",{children:e.jsx("a",{href:"#143-memory-errors",className:n==="143-memory-errors"?"active":"",children:"14.3 Memory Errors"})}),e.jsx("li",{children:e.jsx("a",{href:"#144-request-timeouts",className:n==="144-request-timeouts"?"active":"",children:"14.4 Request Timeouts"})}),e.jsx("li",{children:e.jsx("a",{href:"#145-authentication-errors",className:n==="145-authentication-errors"?"active":"",children:"14.5 Authentication Errors"})}),e.jsx("li",{children:e.jsx("a",{href:"#146-streaming-issues",className:n==="146-streaming-issues"?"active":"",children:"14.6 Streaming Issues"})}),e.jsx("li",{children:e.jsx("a",{href:"#147-performance-issues",className:n==="147-performance-issues"?"active":"",children:"14.7 Performance Issues"})}),e.jsx("li",{children:e.jsx("a",{href:"#148-viewing-logs",className:n==="148-viewing-logs"?"active":"",children:"14.8 Viewing Logs"})}),e.jsx("li",{children:e.jsx("a",{href:"#149-common-error-messages",className:n==="149-common-error-messages"?"active":"",children:"14.9 Common Error Messages"})}),e.jsx("li",{children:e.jsx("a",{href:"#1410-getting-help",className:n==="1410-getting-help"?"active":"",children:"14.10 Getting Help"})})]})]}),e.jsxs("div",{className:"doc-index-section",children:[e.jsx("a",{href:"#chapter-15:-developer-guide",className:`doc-index-header ${n==="chapter-15:-developer-guide"?"active":""}`,children:"Chapter 15: Developer Guide"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#151-quick-reference",className:n==="151-quick-reference"?"active":"",children:"15.1 Quick Reference"})}),e.jsx("li",{children:e.jsx("a",{href:"#152-build-test-commands",className:n==="152-build-test-commands"?"active":"",children:"15.2 Build & Test Commands"})}),e.jsx("li",{children:e.jsx("a",{href:"#153-developer-setup",className:n==="153-developer-setup"?"active":"",children:"15.3 Developer Setup"})}),e.jsx("li",{children:e.jsx("a",{href:"#154-project-architecture",className:n==="154-project-architecture"?"active":"",children:"15.4 Project Architecture"})}),e.jsx("li",{children:e.jsx("a",{href:"#155-bui-frontend-development",className:n==="155-bui-frontend-development"?"active":"",children:"15.5 BUI Frontend Development"})}),e.jsx("li",{children:e.jsx("a",{href:"#156-code-style-guidelines",className:n==="156-code-style-guidelines"?"active":"",children:"15.6 Code Style Guidelines"})}),e.jsx("li",{children:e.jsx("a",{href:"#157-sdk-internals",className:n==="157-sdk-internals"?"active":"",children:"15.7 SDK Internals"})}),e.jsx("li",{children:e.jsx("a",{href:"#158-api-handler-notes",className:n==="158-api-handler-notes"?"active":"",children:"15.8 API Handler Notes"})}),e.jsx("li",{children:e.jsx("a",{href:"#159-reference-threads",className:n==="159-reference-threads"?"active":"",children:"15.9 Reference Threads"})})]})]})]})})]})]})}const yS=`SLOT MEMORY AND TOTAL VRAM COST FORMULA

These figures are for KV cache VRAM only (when offload-kqv: true).
Model weights require additional VRAM: ~7GB (7B Q8) or ~70GB (70B Q8).
Total VRAM = model weights + KV cache.

Memory is statically allocated upfront when the model loads,
based on n_ctx  n_seq_max. Reserving slots consumes memory whether or not
they're actually used.

Example Calculations:

This is how you calculate the amount of KV memory you need per slot.

KV_Per_Token_Per_Layer = head_count_kv  (key_length + value_length)  bytes_per_element
KV_Per_Slot            = n_ctx  n_layers  KV_per_token_per_layer

------------------------------------------------------------------------------
So Given these values, this is what you are looking at:

Model   Context_Window   KV_Per_Slot      NSeqMax (Slots)
7B      8K               ~537 MB VRAM     2
70B     8K               ~1.3 GB VRAM     2

No Caching:
Total sequences allocated: 2 (no cache)
7B:  Slot Memory (2  537MB) ~1.07GB: Total VRAM: ~8.1GB
70B: Slot Memory (2  1.3GB) ~2.6GB : Total VRAM: ~72.6GB

Incremental Memory Caching (IMC) or System Prompt Cache (SPC):
Total sequences allocated: 2 + 1 = 3 (cache)
7B:  Slot Memory (3  537MB) ~1.6GB: Total VRAM: ~8.6GB
70B: Slot Memory (3  1.3GB) ~3.9GB: Total VRAM: ~73.9GB

Note: SPC and FMC are mutually exclusive; FMC caches system + user together.

------------------------------------------------------------------------------
Full Example With Real Model:

Model                   : Qwen3-Coder-30B-A3B-Instruct-UD-Q8_K_XL
Size                    : 36.0GB
Context Window          : 131072 (128k)
cache-type-k            : q8_0 (1 byte per element), f16 (2 bytes)
cache-type-v            : q8_0 (1 byte per element), f16 (2 bytes)
block_count             : 48  (n_layers)
attention.head_count_kv : 4   (KV heads)
attention.key_length    : 128 (K dimension per head)
attention.value_length  : 128 (V dimension per head)

KV_per_token_per_layer = head_count_kv    (key_length + value_length)    bytes_per_element
1024 bytes             =             4    ( 128       +         128 )    1

KV_Per_Slot            =  n_ctx    n_layers    KV_per_token_per_layer
~6.4 GB                =  131072   48          1024

No Caching:
Total sequences allocated: 2 : (no cache)
Slot Memory (2  6.4GB) ~12.8GB: Total VRAM: ~48.8GB

Incremental Memory Caching (IMC) or System Prompt Cache (SPC):
Total sequences allocated: 3 : (2 + 1) (1 cache sequence)
Slot Memory (3  6.4GB) ~19.2GB: Total VRAM: ~55.2GB

Note: SPC and IMC are mutually exclusive; FMC caches system + user together.`,kS=[{value:1024,label:"1K"},{value:2048,label:"2K"},{value:4096,label:"4K"},{value:8192,label:"8K"},{value:16384,label:"16K"},{value:32768,label:"32K"},{value:65536,label:"64K"},{value:131072,label:"128K"},{value:262144,label:"256K"}],vS=[{value:4,label:"f32 (4 bytes)"},{value:2,label:"f16 / bf16 (2 bytes)"},{value:1,label:"q8_0 / q4_0 / q4_1 / q5_0 / q5_1 (1 byte)"}],bS=[1,2,3,4,5],wS=[1,2,3,4,5,6,7,8],xo=[{value:"off",label:"Off",isIMC:!1},{value:"spc",label:"SPC (System Prompt Cache)",isIMC:!1},{value:"imc",label:"IMC (Incremental Message Cache)",isIMC:!0}];function $r(n){if(n===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(n)/Math.log(t));return`${(n/Math.pow(t,s)).toFixed(2)} ${r[s]}`}function NS(){const{token:n}=Pr(),[t,r]=_.useState(""),[s,l]=_.useState(8192),[i,o]=_.useState(1),[a,c]=_.useState(2),[d,u]=_.useState("off"),[h,p]=_.useState(1),[m,j]=_.useState(!1),[y,N]=_.useState(null),[g,x]=_.useState(null),[f,b]=_.useState(!1),C=_.useRef(!1),v=xo.find(w=>w.value===d)||xo[0],R=d==="off"?0:h,T=_.useCallback(async(w=!0)=>{if(!t.trim()){N("Please enter a model URL");return}j(!0),N(null),w&&x(null);try{const M=await Ie.calculateVRAM({model_url:t.trim(),context_window:s,bytes_per_element:i,slots:a,cache_sequences:R,incremental_cache:v.isIMC},n||void 0);x(M),C.current=!0}catch(M){N(M instanceof Error?M.message:"Failed to calculate VRAM")}finally{j(!1)}},[t,s,i,a,R,v.isIMC,n]);_.useEffect(()=>{C.current&&t.trim()&&T(!1)},[s,i,a,d,h]);const A=async w=>{w.preventDefault(),await T()};return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"page-header-with-action",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"VRAM Calculator"}),e.jsx("p",{className:"page-description",children:"Calculate VRAM requirements for a model from HuggingFace. Only the model header is fetched, not the entire file."})]}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>b(!0),children:"Learn More"})]}),f&&e.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"modal-content modal-large",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"VRAM Calculation Formula"}),e.jsx("button",{className:"modal-close",onClick:()=>b(!1),"aria-label":"Close",children:""})]}),e.jsx("div",{className:"modal-body",children:e.jsx("pre",{className:"vram-formula-content",children:yS})})]})}),e.jsxs("form",{onSubmit:A,className:"form-card",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"modelUrl",children:["Ex. Qwen/Qwen3-8B-GGUF/Qwen3-8B-Q8_0.gguf",e.jsx("br",{}),"Ex. https://huggingface.co/Qwen/Qwen3-8B-GGUF/resolve/main/Qwen3-8B-Q8_0.gguf",e.jsx("br",{}),e.jsx("br",{}),"Model URL (download link or org/family/file)"]}),e.jsx("input",{id:"modelUrl",type:"text",value:t,onChange:w=>r(w.target.value),placeholder:"https://huggingface.co/Qwen/Qwen3-8B-GGUF/resolve/main/Qwen3-8B-Q8_0.gguf",className:"form-input"}),e.jsx("small",{className:"form-hint",children:"Enter a HuggingFace URL to a GGUF model file"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contextWindow",children:"Context Window"}),e.jsx("select",{id:"contextWindow",value:s,onChange:w=>l(Number(w.target.value)),className:"form-select",children:kS.map(w=>e.jsxs("option",{value:w.value,children:[w.label," (",w.value.toLocaleString()," tokens)"]},w.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"bytesPerElement",children:"Cache Type (Bytes Per Element)"}),e.jsx("select",{id:"bytesPerElement",value:i,onChange:w=>o(Number(w.target.value)),className:"form-select",children:vS.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"slots",children:"Slots (Concurrent Sequences)"}),e.jsx("select",{id:"slots",value:a,onChange:w=>c(Number(w.target.value)),className:"form-select",children:bS.map(w=>e.jsx("option",{value:w,children:w},w))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cacheType",children:"Cache Type"}),e.jsx("select",{id:"cacheType",value:d,onChange:w=>u(w.target.value),className:"form-select",children:xo.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))}),e.jsx("small",{className:"form-hint",children:"IMC auto-scales context window to ensure full context per slot"})]}),d!=="off"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cacheSessions",children:"Cache Sessions (Multi-User)"}),e.jsx("select",{id:"cacheSessions",value:h,onChange:w=>p(Number(w.target.value)),className:"form-select",children:wS.map(w=>e.jsxs("option",{value:w,children:[w," ",w===1?"session":"sessions"]},w))}),e.jsx("small",{className:"form-hint",children:"Number of concurrent user caches (max-cache-sessions). Each session uses a dedicated cache sequence."})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Calculating...":"Calculate VRAM"})]}),y&&e.jsx("div",{className:"alert alert-error",children:y}),g&&e.jsxs("div",{className:"card vram-results",children:[e.jsx("h3",{children:"VRAM Calculation Results"}),e.jsxs("div",{className:"vram-results-grid",children:[e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Total VRAM Required"}),e.jsx("span",{className:"vram-result-value vram-result-total",children:$r(g.total_vram)})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Slot Memory (KV Cache)"}),e.jsx("span",{className:"vram-result-value",children:$r(g.slot_memory)})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"KV Per Slot"}),e.jsx("span",{className:"vram-result-value",children:$r(g.kv_per_slot)})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Total Slots"}),e.jsx("span",{className:"vram-result-value",children:g.total_slots})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"KV Per Token Per Layer"}),e.jsx("span",{className:"vram-result-value",children:$r(g.kv_per_token_per_layer)})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Context Window (Used)"}),e.jsxs("span",{className:"vram-result-value",children:[g.input.context_window.toLocaleString()," tokens"]})]})]}),e.jsx("h4",{style:{marginTop:"2rem"},children:"Model Metadata (from GGUF header)"}),e.jsxs("div",{className:"vram-results-grid",children:[e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Model Size"}),e.jsx("span",{className:"vram-result-value",children:$r(g.input.model_size_bytes)})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Block Count (Layers)"}),e.jsx("span",{className:"vram-result-value",children:g.input.block_count})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Head Count KV"}),e.jsx("span",{className:"vram-result-value",children:g.input.head_count_kv})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Key Length"}),e.jsx("span",{className:"vram-result-value",children:g.input.key_length})]}),e.jsxs("div",{className:"vram-result-item",children:[e.jsx("span",{className:"vram-result-label",children:"Value Length"}),e.jsx("span",{className:"vram-result-value",children:g.input.value_length})]})]})]})]})}const Na={home:"/",chat:"/chat","vram-calculator":"/vram-calculator","model-list":"/models","model-ps":"/models/running","model-pull":"/models/pull","catalog-list":"/catalog","libs-pull":"/libs/pull","security-key-list":"/security/keys","security-key-create":"/security/keys/create","security-key-delete":"/security/keys/delete","security-token-create":"/security/tokens/create",settings:"/settings","docs-sdk":"/docs/sdk","docs-sdk-kronk":"/docs/sdk/kronk","docs-sdk-model":"/docs/sdk/model","docs-sdk-examples":"/docs/sdk/examples","docs-cli-catalog":"/docs/cli/catalog","docs-cli-libs":"/docs/cli/libs","docs-cli-model":"/docs/cli/model","docs-cli-run":"/docs/cli/run","docs-cli-security":"/docs/cli/security","docs-cli-server":"/docs/cli/server","docs-api-chat":"/docs/api/chat","docs-api-messages":"/docs/api/messages","docs-api-responses":"/docs/api/responses","docs-api-embeddings":"/docs/api/embeddings","docs-api-rerank":"/docs/api/rerank","docs-api-tools":"/docs/api/tools","docs-manual":"/docs/manual"},SS=Object.fromEntries(Object.entries(Na).map(([n,t])=>[t,n]));function CS(){return e.jsxs("div",{className:"home-page",children:[e.jsxs("div",{className:"hero-section",children:[e.jsx("img",{src:"https://raw.githubusercontent.com/ardanlabs/kronk/refs/heads/main/images/project/kronk_banner.jpg",alt:"Kronk Banner",className:"hero-banner"}),e.jsx("p",{className:"hero-tagline",children:"Hardware-accelerated local inference with llama.cpp directly integrated into your Go applications"})]}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:""}),e.jsx("h3",{children:"High-Level Go API"}),e.jsx("p",{children:"Feels similar to using an OpenAI compatible API, but runs entirely on your hardware"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:""}),e.jsx("h3",{children:"OpenAI Compatible Server"}),e.jsx("p",{children:"Model server for chat completions and embeddings, compatible with OpenWebUI"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:""}),e.jsx("h3",{children:"Multimodal Support"}),e.jsx("p",{children:"Text, vision, and audio models with full hardware acceleration"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:""}),e.jsx("h3",{children:"GPU Acceleration"}),e.jsx("p",{children:"Metal on macOS, CUDA/Vulkan/ROCm on Linux, CUDA/Vulkan on Windows"})]})]}),e.jsx("div",{className:"home-cta",children:e.jsx("p",{children:"Use the sidebar to manage models, browse the catalog, or explore the SDK documentation."})})]})}function _S(){return e.jsx(by,{children:e.jsx(Fy,{children:e.jsx(_y,{children:e.jsx(Ty,{children:e.jsx(O1,{children:e.jsx(B1,{children:e.jsx(Ey,{children:e.jsxs(xy,{children:[e.jsx(le,{path:"/",element:e.jsx(CS,{})}),e.jsx(le,{path:"/chat",element:e.jsx(W1,{})}),e.jsx(le,{path:"/vram-calculator",element:e.jsx(NS,{})}),e.jsx(le,{path:"/models",element:e.jsx(Py,{})}),e.jsx(le,{path:"/models/running",element:e.jsx(My,{})}),e.jsx(le,{path:"/models/pull",element:e.jsx(Ly,{})}),e.jsx(le,{path:"/catalog",element:e.jsx(Dy,{})}),e.jsx(le,{path:"/libs/pull",element:e.jsx(Oy,{})}),e.jsx(le,{path:"/security/keys",element:e.jsx(By,{})}),e.jsx(le,{path:"/security/keys/create",element:e.jsx(qy,{})}),e.jsx(le,{path:"/security/keys/delete",element:e.jsx(Ky,{})}),e.jsx(le,{path:"/security/tokens/create",element:e.jsx(Vy,{})}),e.jsx(le,{path:"/settings",element:e.jsx(Hy,{})}),e.jsx(le,{path:"/docs/sdk",element:e.jsx(Q1,{})}),e.jsx(le,{path:"/docs/sdk/kronk",element:e.jsx(Y1,{})}),e.jsx(le,{path:"/docs/sdk/model",element:e.jsx(X1,{})}),e.jsx(le,{path:"/docs/sdk/examples",element:e.jsx(lS,{})}),e.jsx(le,{path:"/docs/cli/catalog",element:e.jsx(iS,{})}),e.jsx(le,{path:"/docs/cli/libs",element:e.jsx(oS,{})}),e.jsx(le,{path:"/docs/cli/model",element:e.jsx(aS,{})}),e.jsx(le,{path:"/docs/cli/run",element:e.jsx(cS,{})}),e.jsx(le,{path:"/docs/cli/security",element:e.jsx(dS,{})}),e.jsx(le,{path:"/docs/cli/server",element:e.jsx(hS,{})}),e.jsx(le,{path:"/docs/api/chat",element:e.jsx(uS,{})}),e.jsx(le,{path:"/docs/api/messages",element:e.jsx(pS,{})}),e.jsx(le,{path:"/docs/api/responses",element:e.jsx(mS,{})}),e.jsx(le,{path:"/docs/api/embeddings",element:e.jsx(xS,{})}),e.jsx(le,{path:"/docs/api/rerank",element:e.jsx(fS,{})}),e.jsx(le,{path:"/docs/api/tools",element:e.jsx(gS,{})}),e.jsx(le,{path:"/docs/manual",element:e.jsx(jS,{})})]})})})})})})})})}fo.createRoot(document.getElementById("root")).render(e.jsx(mu.StrictMode,{children:e.jsx(_S,{})}));
